ORG $048000

    COP #$14
    db $C9,$00,$07,$80
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $52,$80
    %CopMakeNpcUnpassable()
    COP #$05
    db $00,$00
    COP #$16
    COP #$17
    db $00,$00
    COP #$97
    COP #$81
    db $11,$02
    COP #$83
    COP #$81
    db $10,$02
    COP #$83
    COP #$81
    db $11,$06
    COP #$83
    COP #$81
    db $10,$03
    COP #$83
    COP #$96
    COP #$80
    db $0E
    COP #$82
    COP #$17
    db $5B,$80
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$0A,$07,$4B,$80
    RTL
    COP #$01
    db $B8,$80
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $60,$80
    COP #$09
    db $00,$80
    RTL
    COP #$01
    db $95,$80
    RTL
    db $10,$4D,$79,$2C,$20,$6D,$79,$2C,$20,$69,$74,$20,$BA,$72,$61,$72
    db $65,$20,$E2,$0D,$DB,$73,$6F,$6D,$65,$6F,$6E,$65,$20,$6E,$65,$77
    db $2E,$20,$0D,$8F,$A6,$69,$6E,$74,$6F,$20,$C2,$0D,$72,$6F,$6F,$6D
    db $2E,$20,$13,$1E,$A5,$10,$50,$6C,$65,$61,$73,$65,$2C,$20,$73,$69
    db $74,$20,$72,$69,$67,$68,$74,$20,$BB,$0D,$66,$72,$6F,$6E,$74,$20
    db $CB,$6D,$65,$2E,$20,$13,$1E,$A5,$10,$88,$B5,$73,$6F,$20,$C7,$0D
    db $71,$75,$65,$73,$74,$69,$6F,$6E,$73,$20,$99,$B8,$0D,$62,$65,$69
    db $6E,$67,$73,$2E,$20,$11,$57,$6F,$75,$6C,$64,$20,$FE,$BE,$E2,$0D
    db $64,$69,$73,$63,$75,$73,$73,$20,$74,$68,$65,$6D,$20,$F2,$6D,$65
    db $3F,$20,$13,$1E,$A5
    COP #$14
    db $D3,$00,$FC,$80
    RTL
    COP #$17
    db $19,$81
    COP #$14
    db $EA,$00,$0F,$81
    LDA.W $0016,X
    AND.W #$FFF7
    STA.W $0016,X
    COP #$85
    db $9D,$A9,$00
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $1E,$81
    RTL
    db $10,$4D,$79,$20,$77,$69,$66,$65,$20,$F3,$61,$62,$6C,$65,$20,$E2
    db $0D,$ED,$6D,$61,$67,$69,$63,$20,$61,$74,$20,$CC,$74,$69,$6D,$65
    db $2E,$20,$13,$1E,$A5
    COP #$3B
    db $EA,$00,$59,$81,$02,$17,$9E,$A2,$E2,$20,$A9,$00,$48,$C2,$20,$A9
    db $5E,$B0,$48,$6B
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $9A,$81
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$B2
    db $9D,$A9,$00,$00,$00,$10,$00,$40,$00
    BRK #$4E
    LDY.W $039C
    LDA.W #$0100
    STA.W $0000,Y
    COP #$03
    db $E1
    COP #$04
    BRK #$4E
    LDY.W $039C
    LDA.W #$0020
    STA.W $0000,Y
    LDA.W #$01A0
    STA.W $0002,Y
    COP #$01
    db $C8,$81
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $A2,$81
    COP #$27
    db $67,$81,$10,$4F,$68,$20,$68,$6F,$6E,$65,$79,$2C,$20,$88,$A7,$73
    db $74,$69,$6C,$6C,$20,$0D,$ED,$6D,$61,$67,$69,$63,$2E,$20,$11,$4C
    db $6F,$6F,$6B,$21,$20,$13,$1E,$A5,$10,$95,$73,$65,$65,$3F,$20,$13
    db $1E,$A5
    COP #$14
    db $CC,$00,$D9,$81
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $E7,$81
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$14
    db $EB,$00,$F2,$81,$02,$01,$1F,$82,$6B
    COP #$01
    db $F7,$81
    RTL
    db $10,$57,$65,$20,$FD,$D5,$0D,$68,$61,$70,$70,$79,$20,$BC,$67,$61
    db $7A,$69,$6E,$67,$20,$61,$74,$20,$0D,$65,$61,$63,$68,$20,$6F,$74
    db $68,$65,$72,$2E,$20,$13,$1E,$A5,$10,$8F,$73,$61,$76,$65,$20,$C2
    db $0D,$67,$69,$72,$6C,$66,$72,$69,$65,$6E,$64,$2E,$20,$13,$1E,$A5
    COP #$3B
    db $EB,$00,$4D,$82,$02,$17,$9E,$A2,$E2,$20,$A9,$00,$48,$C2,$20,$A9
    db $5E,$B0,$48,$6B
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $5B,$82
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $60,$82
    RTL
    db $10,$57,$65,$20,$FD,$D5,$0D,$68,$61,$70,$70,$79,$20,$BC,$67,$61
    db $7A,$69,$6E,$67,$20,$61,$74,$20,$0D,$65,$61,$63,$68,$20,$6F,$74
    db $68,$65,$72,$2E,$20,$11,$83,$88,$6D,$61,$79,$20,$B4,$6F,$6C,$64
    db $20,$0D,$73,$6F,$6F,$6E,$2E,$20,$11,$4D,$61,$79,$62,$65,$20,$88
    db $DC,$73,$65,$61,$72,$63,$68,$20,$0D,$AE,$73,$6F,$6D,$65,$6F,$6E
    db $65,$20,$6E,$65,$77,$2E,$20,$13,$1E,$A5
    COP #$14
    db $F8,$00,$C1,$82
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $CF,$82
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $D4,$82
    RTL
    db $10,$4D,$61,$6B,$65,$20,$73,$75,$72,$65,$20,$FE,$73,$65,$61,$72
    db $63,$68,$20,$0D,$4C,$61,$79,$6E,$6F,$6C,$65,$20,$EE,$0D,$63,$61
    db $72,$65,$66,$75,$6C,$6C,$79,$2E,$20,$11,$89,$FE,$6D,$6F,$76,$65
    db $20,$74,$6F,$6F,$20,$66,$61,$73,$74,$20,$0D,$FE,$6D,$61,$79,$20
    db $6F,$76,$65,$72,$6C,$6F,$6F,$6B,$20,$0D,$74,$68,$69,$6E,$67,$73
    db $2E,$2E,$2E,$20,$13,$1E,$A5
    COP #$14
    db $E1,$00,$32,$83
    RTL
    COP #$17
    db $B4,$83
    COP #$14
    db $03,$01,$5A,$83
    COP #$85
    db $9D,$A9,$00
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    COP #$14
    db $03,$01,$4C,$83
    RTL
    COP #$80
    db $17
    COP #$82
    COP #$81
    db $15,$08
    COP #$83
    db $02,$91,$6B
    COP #$11
    db $0A,$11,$37
    COP #$85
    db $9D,$A9,$00
    LDA.W $0016,X
    AND.W #$FFEF
    STA.W $0016,X
    %CopMakeNpcUnpassable()
    COP #$05
    db $04,$00
    COP #$81
    db $28,$02
    COP #$83
    COP #$81
    db $27,$02
    COP #$83
    COP #$81
    db $28,$02
    COP #$83
    COP #$81
    db $27,$02
    COP #$83
    COP #$81
    db $28,$02
    COP #$83
    COP #$85
    db $45,$84,$04
    COP #$81
    db $29,$04
    COP #$83
    COP #$81
    db $2A,$08
    COP #$83
    COP #$81
    db $2B,$10
    COP #$83
    COP #$09
    db $05,$80
    COP #$80
    db $14
    COP #$82
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$14
    db $03,$01,$BF,$83,$02,$01,$CE,$83,$6B
    COP #$18
    db $18,$C9,$83
    COP #$01
    db $27,$84
    RTL
    COP #$01
    db $DF,$83
    RTL
    db $10,$8F,$73,$61,$76,$65,$20,$E1,$4B,$69,$6E,$67,$21,$20,$13,$1E
    db $A5,$10,$88,$9D,$97,$6D,$61,$67,$69,$63,$69,$61,$6E,$2E,$20,$11
    db $89,$FE,$63,$6F,$6C,$6C,$65,$63,$74,$20,$E1,$0D,$4D,$61,$73,$74
    db $65,$72,$60,$D7,$74,$68,$72,$65,$65,$20,$0D,$73,$79,$6D,$62,$6F
    db $6C,$73,$2C,$20,$88,$F1,$63,$61,$6C,$6C,$20,$0D,$E1,$50,$68,$6F
    db $65,$6E,$69,$78,$2E,$20,$13,$1E,$A5,$10,$4F,$68,$20,$50,$68,$6F
    db $65,$6E,$69,$78,$2C,$20,$D2,$0D,$70,$72,$6F,$74,$65,$63,$74,$20
    db $02,$02,$2E,$20,$13,$1E,$A5
    COP #$A8
    db $00,$80,$0D
    COP #$92
    db $49
    COP #$94
    COP #$86
    RTL
    COP #$14
    db $E6,$00,$59,$84
    RTL
    COP #$17
    db $D2,$84
    COP #$14
    db $03,$01,$81,$84,$02,$85,$9D,$A9,$00,$02,$15,$02,$91,$02,$14,$03
    db $01,$73,$84,$6B,$02,$80,$17,$02,$82,$02,$81,$15,$08,$02,$83,$02
    db $91,$6B
    COP #$11
    db $0B,$0F,$37
    COP #$85
    db $9D,$A9,$00
    LDA.W $0016,X
    AND.W #$FFEF
    STA.W $0016,X
    %CopMakeNpcUnpassable()
    COP #$05
    db $04,$00
    COP #$81
    db $28,$02
    COP #$83
    COP #$81
    db $27,$02
    COP #$83
    COP #$81
    db $28,$02
    COP #$83
    COP #$81
    db $27,$02
    COP #$83
    COP #$81
    db $28,$02
    COP #$83
    COP #$81
    db $29,$04
    COP #$83
    COP #$81
    db $2A,$08
    COP #$83
    COP #$81
    db $2B,$10
    COP #$83
    COP #$80
    db $14
    COP #$82
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$14
    db $03,$01,$DD,$84,$02,$01,$EC,$84,$6B
    COP #$18
    db $18,$E7,$84
    COP #$01
    db $45,$85
    RTL
    COP #$01
    db $FD,$84
    RTL
    db $10,$8F,$73,$61,$76,$65,$20,$E1,$4B,$69,$6E,$67,$21,$20,$13,$1E
    db $A5,$10,$88,$9D,$97,$6D,$61,$67,$69,$63,$69,$61,$6E,$2E,$20,$11
    db $89,$FE,$63,$6F,$6C,$6C,$65,$63,$74,$20,$E1,$0D,$4D,$61,$73,$74
    db $65,$72,$60,$D7,$74,$68,$72,$65,$65,$20,$0D,$73,$79,$6D,$62,$6F
    db $6C,$73,$2C,$20,$88,$F1,$63,$61,$6C,$6C,$20,$0D,$E1,$50,$68,$6F
    db $65,$6E,$69,$78,$2E,$20,$13,$1E,$A5,$10,$4F,$68,$20,$50,$68,$6F
    db $65,$6E,$69,$78,$2C,$20,$D2,$0D,$70,$72,$6F,$74,$65,$63,$74,$20
    db $02,$02,$2E,$20,$13,$1E,$A5
    COP #$14
    db $03,$01,$6A,$85
    RTL
    COP #$30
    db $03,$01,$7F,$86,$04
    %CopJumpIfEventFlagIsUnset($9F02, $85F2)
    %CopJumpIfEventFlagIsUnset($8A01, $85D2)
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $2D,$86
    %CopMakeNpcUnpassable()
    COP #$18
    db $18,$8F,$85,$80,$60
    COP #$05
    db $04,$00
    LDA.W #$2F80
    TSB.W wButtonMask
    COP #$05
    db $05,$00
    COP #$01
    db $D4,$89
    BRK #$5E
    COP #$0A
    db $18
    COP #$0B
    db $32
    COP #$0B
    db $33
    COP #$0B
    db $34
    COP #$03
    db $3D
    COP #$04
    COP #$01
    db $2A,$89
    COP #$09
    db $00,$8A
    COP #$09
    db $01,$8A
    LDA.W #$0020
    STA.W $03B4
    COP #$10
    db $14,$03,$01,$F8,$00,$28,$01
    %CopSetScriptAddrToNextInstruction()
    RTL
    LDA.W #$2F80
    TSB.W wButtonMask
    COP #$09
    db $01,$0A
    COP #$03
    db $29
    COP #$04
    COP #$01
    db $F2,$89
    LDA.W #$2F80
    TRB.W wButtonMask
    COP #$17
    db $2D,$86
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$11
    db $0A,$00,$C9
    COP #$11
    db $0B,$00,$C9
    COP #$11
    db $12,$11,$37
    LDA.W #$BFC0
    TSB.W wButtonMask
    COP #$03
    db $29
    COP #$04
    COP #$01
    db $F6,$8A
    COP #$03
    db $5B
    COP #$04
    LDA.W #$0020
    STA.W $03B4
    COP #$10
    db $06,$01,$01,$F8,$01,$60,$00
    LDA.W #$BFC0
    TRB.W wButtonMask
    %CopSetScriptAddrToNextInstruction()
    RTL
    %CopJumpIfEventFlagIsUnset($0705, $8676)
    COP #$18
    db $18,$3D,$86
    COP #$01
    db $B1,$88
    RTL
    COP #$18
    db $32,$71,$86
    COP #$18
    db $33,$71,$86
    COP #$18
    db $34,$71,$86
    COP #$14
    db $E1,$00,$54,$86,$80,$18
    COP #$14
    db $E6,$00,$5C,$86,$80,$10
    COP #$01
    db $04,$89
    COP #$17
    db $00,$00
    COP #$31
    db $00
    COP #$09
    db $04,$80
    RTL
    db $02,$01,$83,$8A,$6B,$02,$01,$CF,$87,$6B
    COP #$01
    db $AC,$86
    COP #$09
    db $05,$87
    RTL
    COP #$14
    db $E1,$00,$8D,$86,$02,$14,$E6,$00,$8D,$86,$80,$04
    COP #$01
    db $96,$86
    %CopRestoreToFullHealth()
    COP #$86
    RTL
    db $10,$0E,$1E,$4B,$69,$6E,$67,$2C,$20,$98,$FE,$6F,$6B,$61,$79,$3F
    db $20,$0E,$3C,$13,$1F,$A5,$10,$95,$73,$61,$76,$65,$64,$20,$6D,$65
    db $3F,$20,$94,$0D,$FE,$EE,$6D,$75,$63,$68,$2E,$20,$11,$13,$42,$87
    db $42,$79,$20,$E1,$77,$61,$79,$2C,$20,$E1,$70,$72,$69,$73,$6F,$6E
    db $0D,$67,$75,$61,$72,$64,$20,$B6,$CA,$79,$65,$74,$20,$62,$65,$65
    db $6E,$0D,$72,$65,$6C,$65,$61,$73,$65,$64,$2E,$20,$11,$52,$65,$6C
    db $65,$61,$73,$65,$20,$68,$69,$6D,$20,$96,$64,$6F,$20,$6E,$6F,$74
    db $0D,$66,$6F,$72,$67,$65,$74,$20,$E2,$76,$69,$73,$69,$74,$20,$74
    db $68,$6F,$73,$65,$20,$0D,$9B,$68,$69,$6D,$2E,$20,$11,$88,$A5,$FE
    db $F1,$0D,$66,$69,$6E,$64,$20,$F5,$FE,$98,$0D,$6C,$6F,$6F,$6B,$69
    db $6E,$67,$20,$66,$6F,$72,$2E,$20,$11,$13,$D3,$87,$88,$74,$72,$65
    db $61,$74,$65,$64,$20,$E1,$73,$6E,$61,$69,$6C,$2C,$20,$0D,$4E,$6F
    db $6D,$65,$2C,$20,$EE,$70,$6F,$6F,$72,$6C,$79,$2E,$20,$11,$88,$77
    db $6F,$75,$6C,$64,$20,$CA,$74,$72,$75,$73,$74,$20,$9A,$0D,$CB,$E1
    db $74,$68,$69,$6E,$67,$73,$20,$4E,$6F,$6D,$65,$20,$77,$61,$73,$0D
    db $73,$61,$79,$69,$6E,$67,$2E,$20,$11,$48,$65,$20,$74,$6F,$6C,$64
    db $20,$C3,$C4,$0D,$77,$6F,$75,$6C,$64,$20,$69,$6E,$76,$61,$64,$65
    db $20,$6F,$75,$72,$20,$74,$6F,$77,$6E,$2E,$0D,$88,$D0,$68,$69,$6D
    db $20,$BB,$70,$72,$69,$73,$6F,$6E,$2E,$20,$11,$53,$65,$65,$20,$4E
    db $6F,$6D,$65,$2E,$20,$0D,$13,$23,$87,$10,$13,$DD,$87,$42,$79,$20
    db $E1,$77,$61,$79,$2C,$20,$0D,$B5,$FE,$68,$65,$61,$72,$64,$20,$0D
    db $CB,$E1,$50,$68,$6F,$65,$6E,$69,$78,$3F,$20,$11,$57,$68,$6F,$65
    db $76,$65,$72,$20,$63,$6F,$6C,$6C,$65,$63,$74,$73,$20,$E1,$0D,$4D
    db $61,$73,$74,$65,$72,$60,$D7,$74,$68,$72,$65,$65,$20,$0D,$73,$79
    db $6D,$62,$6F,$6C,$73,$2C,$20,$11,$91,$52,$65,$64,$2D,$48,$6F,$74
    db $20,$4D,$69,$72,$72,$6F,$72,$2C,$20,$11,$91,$52,$65,$64,$2D,$48
    db $6F,$74,$20,$42,$61,$6C,$6C,$20,$96,$11,$91,$52,$65,$64,$2D,$48
    db $6F,$74,$20,$53,$74,$69,$63,$6B,$2C,$20,$11,$73,$68,$61,$6C,$6C
    db $20,$B5,$E1,$50,$68,$6F,$65,$6E,$69,$78,$0D,$B7,$74,$68,$65,$6D
    db $2E,$20,$11,$54,$68,$61,$74,$20,$D1,$F1,$0D,$69,$6E,$68,$65,$72
    db $69,$74,$20,$E1,$73,$74,$72,$6F,$6E,$67,$65,$73,$74,$20,$0D,$70
    db $6F,$77,$65,$72,$2E,$20,$11,$89,$FE,$63,$6F,$6C,$6C,$65,$63,$74
    db $20,$74,$68,$65,$6D,$20,$0D,$9A,$62,$72,$69,$6E,$67,$20,$74,$68
    db $65,$6D,$20,$E2,$6D,$65,$2E,$20,$13,$1E,$A5,$10,$91,$70,$6F,$77
    db $65,$72,$20,$CB,$E1,$0D,$50,$68,$6F,$65,$6E,$69,$78,$20,$BA,$74
    db $72,$65,$6D,$65,$6E,$64,$6F,$75,$73,$2E,$11,$88,$66,$65,$61,$72
    db $20,$E3,$77,$69,$74,$68,$6F,$75,$74,$20,$0D,$69,$74,$60,$D7,$70
    db $6F,$77,$65,$72,$20,$FE,$F1,$0D,$CA,$64,$65,$66,$65,$61,$74,$20
    db $44,$65,$61,$74,$68,$74,$6F,$6C,$6C,$2E,$20,$13,$1E,$A5,$10,$95
    db $C8,$69,$74,$21,$20,$0D,$02,$02,$2C,$20,$88,$73,$68,$61,$6C,$6C
    db $20,$0D,$63,$61,$6C,$6C,$20,$E1,$50,$68,$6F,$65,$6E,$69,$78,$2E
    db $20,$13,$1E,$A5,$10,$0F,$48,$69,$67,$68,$20,$61,$62,$6F,$76,$65
    db $20,$BB,$E1,$73,$6B,$79,$2C,$0D,$97,$62,$65,$61,$75,$74,$69,$66
    db $75,$6C,$20,$F0,$0D,$AB,$A1,$68,$65,$61,$72,$64,$2E,$2E,$2E,$20
    db $11,$0F,$88,$9D,$E1,$50,$68,$6F,$65,$6E,$69,$78,$2E,$20,$0D,$88
    db $C0,$CD,$E1,$4D,$6F,$75,$6E,$74,$61,$69,$6E,$0D,$CB,$53,$6F,$75
    db $6C,$73,$2E,$20,$11,$88,$F1,$B7,$FE,$72,$65,$76,$69,$76,$65,$0D
    db $E1,$F6,$96,$70,$72,$6F,$74,$65,$63,$74,$20,$0D,$E1,$70,$65,$61
    db $63,$65,$2E,$20,$11,$41,$73,$20,$73,$6F,$6F,$6E,$20,$61,$73,$20
    db $88,$F3,$0D,$63,$61,$6C,$6C,$65,$64,$2C,$20,$44,$65,$61,$74,$68
    db $74,$6F,$6C,$6C,$20,$0D,$6D,$6F,$76,$65,$64,$20,$69,$6E,$74,$6F
    db $20,$70,$6F,$73,$69,$74,$69,$6F,$6E,$2E,$20,$13,$1E,$A5,$10,$02
    db $02,$20,$D4,$0D,$03,$24,$4D,$61,$67,$69,$63,$20,$CB,$50,$68,$6F
    db $65,$6E,$69,$78,$21,$21,$20,$03,$20,$13,$1E,$A5,$10,$02,$02,$2C
    db $20,$0D,$72,$65,$74,$75,$72,$6E,$20,$E2,$E1,$F6,$6F,$66,$0D,$65
    db $76,$69,$6C,$20,$F2,$E1,$50,$68,$6F,$65,$6E,$69,$78,$2E,$11,$89
    db $FE,$65,$71,$75,$69,$70,$20,$53,$6F,$75,$6C,$42,$6C,$61,$64,$65
    db $0D,$96,$53,$6F,$75,$6C,$20,$41,$72,$6D,$6F,$72,$20,$E1,$0D,$50
    db $68,$6F,$65,$6E,$69,$78,$20,$F1,$A1,$61,$62,$6C,$65,$20,$0D,$E2
    db $B7,$79,$6F,$75,$2E,$20,$11,$92,$BA,$E1,$66,$69,$6E,$61,$6C,$20
    db $0D,$62,$61,$74,$74,$6C,$65,$2C,$20,$E1,$62,$61,$74,$74,$6C,$65
    db $20,$0D,$F2,$44,$65,$61,$74,$68,$74,$6F,$6C,$6C,$2E,$20,$11,$8F
    db $A6,$A0,$0D,$61,$6C,$69,$76,$65,$2E,$20,$13,$1E,$A5,$10,$59,$65
    db $73,$2C,$20,$FE,$B5,$0D,$63,$6F,$6C,$6C,$65,$63,$74,$65,$64,$20
    db $E1,$74,$68,$72,$65,$65,$20,$0D,$73,$79,$6D,$62,$6F,$6C,$73,$2C
    db $20,$62,$75,$74,$2E,$2E,$2E,$20,$11,$88,$6E,$65,$65,$64,$20,$74
    db $77,$6F,$20,$EE,$6F,$6C,$64,$20,$0D,$6D,$61,$67,$69,$63,$69,$61
    db $6E,$73,$20,$E2,$B7,$63,$61,$6C,$6C,$0D,$E1,$50,$68,$6F,$65,$6E
    db $69,$78,$2E,$20,$11,$46,$69,$6E,$64,$20,$74,$68,$65,$6D,$20,$96
    db $72,$65,$74,$75,$72,$6E,$20,$0D,$E2,$6D,$65,$2E,$20,$13,$1E,$A5
    db $10,$0F,$4F,$68,$2C,$20,$79,$6F,$75,$60,$72,$65,$20,$62,$61,$63
    db $6B,$21,$20,$0D,$0E,$5A,$57,$65,$6C,$6C,$2C,$20,$88,$77,$61,$73
    db $6E,$60,$E5,$0D,$77,$6F,$72,$72,$69,$65,$64,$2C,$20,$62,$75,$74
    db $2E,$2E,$2E,$2E,$20,$0D,$0E,$28,$4E,$6F,$6D,$65,$20,$F3,$D5,$0D
    db $77,$6F,$72,$72,$69,$65,$64,$20,$99,$79,$6F,$75,$2E,$20,$0D,$0E
    db $3C,$4E,$6F,$6D,$65,$2C,$20,$0D,$73,$61,$79,$20,$73,$6F,$6D,$65
    db $74,$68,$69,$6E,$67,$2E,$20,$0D,$0E,$78,$10,$2E,$2E,$2E,$2E,$2E
    db $2E,$2E,$2E,$2E,$20,$0D,$0E,$5A,$0A,$54,$68,$65,$40,$4B,$69,$6E
    db $67,$40,$69,$73,$40,$73,$75,$63,$68,$40,$61,$0D,$74,$68,$6F,$75
    db $67,$68,$74,$6C,$65,$73,$73,$40,$6D,$61,$6E,$2E,$0D,$0E,$5A,$10
    db $0A,$44,$72,$2E,$8B,$B6,$70,$61,$73,$73,$65,$64,$20,$0D,$61,$77
    db $61,$79,$2E,$20,$0E,$28,$88,$6D,$69,$73,$73,$20,$68,$69,$6D,$20
    db $EE,$0D,$6D,$75,$63,$68,$2E,$20,$0D,$0E,$5A,$93,$98,$AA,$0D,$E3
    db $6F,$6E,$6C,$79,$20,$B4,$CC,$79,$65,$61,$72,$0D,$E2,$6C,$69,$76
    db $65,$2E,$20,$0D,$0E,$5A,$91,$76,$61,$6C,$75,$65,$20,$CB,$6C,$69
    db $66,$65,$20,$0D,$64,$65,$70,$65,$6E,$64,$73,$20,$CD,$E1,$6E,$75
    db $6D,$62,$65,$72,$20,$0D,$CB,$64,$61,$79,$73,$20,$73,$70,$65,$6E
    db $74,$20,$F2,$0D,$66,$75,$6C,$66,$69,$6C,$6C,$6D,$65,$6E,$74,$2E
    db $20,$0D,$0E,$5A,$4D,$61,$79,$62,$65,$20,$44,$72,$2E,$4C,$65,$6F
    db $60,$D7,$6C,$69,$66,$65,$20,$0D,$F3,$6D,$6F,$72,$65,$20,$66,$75
    db $6C,$66,$69,$6C,$6C,$65,$64,$20,$0D,$74,$68,$61,$6E,$20,$C7,$6F
    db $74,$68,$65,$72,$73,$2E,$20,$0D,$0E,$78,$13,$1F,$A5
    COP #$14
    db $F6,$00,$5A,$8C
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $6F,$8C
    %CopMakeNpcUnpassable()

CODE_048C65:
    COP #$AD
    db $08
    COP #$80
    db $25
    COP #$82
    BRA CODE_048C65
    COP #$01
    db $74,$8C
    RTL
    db $10,$49,$60,$BF,$E7,$FE,$97,$0D,$73,$65,$63,$72,$65,$74,$2E,$20
    db $11,$89,$FE,$DB,$97,$73,$6C,$65,$65,$70,$69,$6E,$67,$20,$0D,$6D
    db $75,$73,$68,$72,$6F,$6F,$6D,$2C,$20,$72,$65,$74,$75,$72,$6E,$20
    db $E2,$0D,$E1,$73,$61,$6D,$65,$20,$70,$6C,$61,$63,$65,$20,$FE,$73
    db $61,$77,$0D,$BB,$69,$74,$60,$D7,$64,$72,$65,$61,$6D,$2E,$20,$13
    db $1E,$A5
    COP #$14
    db $E9,$00,$CD,$8C
    RTL
    COP #$30
    db $E9,$00,$65,$8D,$04
    COP #$85
    db $9D,$A9,$00
    COP #$1B
    db $DF,$8C,$02,$00
    %CopJumpIfEventFlagIsUnset($0007, $8D14)
    LDA.W #$FFFF
    STA.W lairRevealInProgress
    COP #$80
    db $04
    COP #$82
    COP #$03
    db $03
    COP #$97
    COP #$81
    db $05,$02
    COP #$83
    COP #$96
    COP #$81
    db $05,$02
    COP #$83
    COP #$04
    COP #$97
    COP #$80
    db $05
    COP #$82
    COP #$80
    db $01
    COP #$82
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$17
    db $51,$8D
    %CopMakeNpcUnpassable()
    COP #$05
    db $03,$00
    LDA.W $0016,X
    AND.W #$FFEF
    STA.W $0016,X
    COP #$96
    COP #$80
    db $02
    COP #$82
    LDA.W #$2F80
    TSB.W wButtonMask
    COP #$03
    db $1F
    COP #$04
    COP #$01
    db $B9,$8E
    COP #$16
    COP #$80
    db $26
    COP #$82
    COP #$09
    db $03,$00
    LDA.W #$2F80
    TRB.W wButtonMask
    COP #$86
    RTL
    COP #$18
    db $22,$5B,$8D,$02,$01,$72,$8E,$6B
    COP #$01
    db $DC,$8D
    BRK #$5E
    COP #$0A
    db $22
    RTL
    COP #$09
    db $07,$80
    COP #$01
    db $73,$8D
    STZ.W lairRevealInProgress
    COP #$86
    RTL
    db $10,$0E,$28,$48,$6F,$6F,$72,$61,$79,$21,$20,$88,$9D,$62,$61,$63
    db $6B,$21,$20,$0D,$88,$9D,$62,$61,$63,$6B,$21,$20,$0E,$B4,$0D,$94
    db $FE,$EE,$6D,$75,$63,$68,$2E,$20,$11,$88,$F1,$B0,$FE,$74,$68,$65
    db $73,$65,$20,$0D,$4D,$75,$73,$68,$72,$6F,$6F,$6D,$20,$53,$68,$6F
    db $65,$73,$20,$69,$66,$20,$FE,$0D,$72,$65,$74,$75,$72,$6E,$20,$E2
    db $6D,$65,$2E,$20,$11,$95,$F1,$A1,$61,$62,$6C,$65,$20,$E2,$0D,$F9
    db $CD,$69,$63,$65,$21,$20,$13,$1E,$A5,$10,$88,$F1,$B0,$FE,$C2,$0D
    db $4D,$75,$73,$68,$72,$6F,$6F,$6D,$20,$53,$68,$6F,$65,$73,$2E,$20
    db $11,$93,$BA,$DE,$67,$6F,$6F,$20,$CD,$0D,$E1,$62,$6F,$74,$74,$6F
    db $6D,$20,$CB,$74,$68,$65,$73,$65,$20,$0D,$73,$68,$6F,$65,$73,$2E
    db $20,$11,$89,$FE,$77,$65,$61,$72,$20,$74,$68,$65,$73,$65,$20,$FE
    db $0D,$F1,$CA,$73,$6C,$69,$70,$20,$CD,$E1,$0D,$69,$63,$65,$2E,$20
    db $11,$95,$F1,$73,$74,$69,$6C,$6C,$20,$73,$6C,$69,$70,$20,$6F,$6E
    db $0D,$E1,$73,$6C,$6F,$70,$65,$73,$20,$74,$68,$6F,$75,$67,$68,$2E
    db $20,$11,$02,$02,$2C,$20,$D4,$0D,$03,$24,$4D,$75,$73,$68,$72,$6F
    db $6F,$6D,$20,$53,$68,$6F,$65,$73,$2E,$20,$03,$20,$13,$1E,$A5,$10
    db $48,$6F,$77,$20,$64,$6F,$20,$FE,$BE,$C2,$0D,$4D,$75,$73,$68,$72
    db $6F,$6F,$6D,$20,$53,$68,$6F,$65,$73,$3F,$20,$11,$4D,$79,$20,$CF
    db $6D,$61,$6B,$65,$20,$0D,$63,$6C,$6F,$74,$68,$69,$6E,$67,$20,$96
    db $73,$68,$6F,$65,$73,$20,$0D,$AD,$6D,$75,$73,$68,$72,$6F,$6F,$6D
    db $73,$2E,$20,$13,$1E,$A5,$10,$92,$DE,$9F,$0D,$77,$61,$6E,$74,$73
    db $20,$C3,$E2,$F9,$F2,$0D,$69,$74,$2E,$20,$11,$57,$68,$65,$72,$65
    db $20,$73,$68,$61,$6C,$6C,$20,$77,$65,$20,$B3,$0D,$74,$6F,$64,$61
    db $79,$3F,$20,$13,$1E,$A5
    COP #$3B
    db $F7,$00,$FF,$8E,$02,$17,$9E,$A2,$E2,$20,$A9,$00,$48,$C2,$20,$A9
    db $5E,$B0,$48,$6B
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $51,$8F
    %CopMakeNpcUnpassable()
    COP #$05
    db $03,$00
    COP #$05
    db $03,$80
    COP #$80
    db $18
    COP #$82
    COP #$17
    db $5A,$8F
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$16
    COP #$80
    db $1C
    COP #$82
    COP #$97
    COP #$81
    db $1D,$07
    COP #$83
    COP #$81
    db $1B,$0B
    COP #$83
    COP #$96
    COP #$81
    db $1D,$09
    COP #$83
    db $02,$81,$1C,$06,$02,$83,$02,$97,$02,$81,$1D,$02,$02,$83,$02,$81
    db $1C,$04,$02,$83,$80,$CF
    COP #$01
    db $6B,$8F
    COP #$09
    db $03,$80
    RTL
    COP #$01
    db $7B,$8F
    COP #$17
    db $66,$8F
    COP #$27
    db $1E,$8F,$02,$01,$88,$8F,$6B,$10,$57,$65,$65,$6B,$2C,$20,$77,$65
    db $65,$6B,$21,$20,$13,$1E,$A5,$10,$4C,$65,$74,$60,$D7,$67,$6F,$21
    db $20,$13,$1E,$A5,$10,$92,$BA,$6F,$75,$72,$20,$76,$65,$68,$69,$63
    db $6C,$65,$2E,$20,$13,$1E,$A5
    COP #$3B
    db $DD,$00,$B1,$8F,$02,$17,$9E,$A2,$E2,$20,$A9,$00,$48,$C2,$20,$A9
    db $5E,$B0,$48,$6B
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $C4,$8F
    %CopMakeNpcUnpassable()
    COP #$80
    db $25
    COP #$82
    %CopSetScriptAddrToNextInstruction()
    RTL
    %CopJumpIfItemIsNotEquipped(!itemDreamRod, CODE_048FDA)
    COP #$01
    db $E9,$8F
    COP #$3C
    db $04
    COP #$10
    db $0B,$06,$01,$00,$02,$F0,$02
    RTL
CODE_048FDA:
    %CopShowText($8FDF)
    RTL

    db $10,$5A,$7A,$7A,$7A,$7A,$20,$13,$1E,$A5,$10
    db $02,$02,$20,$70,$6C,$61,$63,$65,$64,$20,$0D,$E1,$85,$52,$6F,$64
    db $20,$CD,$E1,$0D,$6D,$75,$73,$68,$72,$6F,$6F,$6D,$2E,$20,$13,$1E
    db $A5
    COP #$3B
    db $D7,$00,$21,$90,$02,$17,$9E,$A2,$E2,$20,$A9,$00,$48,$C2,$20,$A9
    db $5E,$B0,$48,$6B
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $2F,$90
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $34,$90
    RTL
    db $10,$93,$BA,$97,$68,$6F,$75,$73,$65,$20,$0D,$BB,$E1,$64,$65,$73
    db $65,$72,$74,$20,$E2,$5F,$2E,$20,$11,$4D,$65,$63,$68,$61,$6E,$69
    db $63,$61,$6C,$20,$C4,$0D,$E3,$63,$61,$6E,$6E,$6F,$74,$20,$A1,$0D
    db $64,$65,$66,$65,$61,$74,$65,$64,$20,$62,$79,$20,$6E,$6F,$72,$6D
    db $61,$6C,$20,$0D,$73,$77,$6F,$72,$64,$73,$20,$65,$78,$69,$73,$74
    db $20,$74,$68,$65,$72,$65,$2E,$20,$13,$1E,$A5
    COP #$3B
    db $D6,$00,$A5,$90,$02,$17,$9E,$A2,$E2,$20,$A9,$00,$48,$C2,$20,$A9
    db $5E,$B0,$48,$6B
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $B3,$90
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    %CopJumpIfEventFlagIsUnset($9B03, $90C7)
    COP #$01
    db $CC,$90
    BRK #$5E
    COP #$0A
    db $3D
    COP #$09
    db $03,$9B
    RTL
    COP #$01
    db $24,$92
    RTL
    db $10,$4D,$79,$20,$6E,$61,$6D,$65,$20,$BA,$4E,$6F,$6D,$65,$2E,$20
    db $0D,$88,$EC,$E2,$C0,$BB,$0D,$44,$72,$2E,$4C,$65,$6F,$60,$D7,$68
    db $6F,$75,$73,$65,$2E,$20,$11,$44,$72,$2E,$8B,$F3,$61,$73,$6B,$65
    db $64,$20,$62,$79,$20,$0D,$8A,$8D,$E2,$62,$75,$69,$6C,$64,$20,$0D
    db $97,$C9,$E3,$77,$6F,$75,$6C,$64,$20,$0D,$63,$61,$6C,$6C,$20,$75
    db $70,$6F,$6E,$20,$65,$76,$69,$6C,$2E,$20,$11,$42,$65,$63,$61,$75
    db $73,$65,$20,$68,$65,$20,$72,$65,$66,$75,$73,$65,$64,$2C,$20,$68
    db $65,$0D,$F3,$74,$61,$6B,$65,$6E,$20,$E2,$8D,$0D,$43,$61,$73,$74
    db $6C,$65,$2E,$20,$11,$48,$65,$20,$73,$65,$63,$72,$65,$74,$6C,$79
    db $20,$67,$61,$76,$65,$20,$75,$73,$20,$34,$20,$0D,$73,$74,$6F,$6E
    db $65,$73,$20,$96,$74,$6F,$6C,$64,$20,$75,$73,$20,$E2,$0D,$72,$75
    db $6E,$20,$61,$77,$61,$79,$2E,$20,$11,$54,$68,$6F,$73,$65,$20,$73
    db $74,$6F,$6E,$65,$73,$20,$98,$6B,$65,$79,$73,$20,$0D,$E2,$E1,$57
    db $6F,$72,$6C,$64,$20,$CB,$45,$76,$69,$6C,$2E,$20,$11,$91,$6F,$74
    db $68,$65,$72,$20,$73,$74,$6F,$6E,$65,$73,$20,$98,$0D,$BB,$44,$72
    db $2E,$4C,$65,$6F,$60,$D7,$0D,$4C,$61,$62,$6F,$72,$61,$74,$6F,$72
    db $79,$20,$96,$BB,$E1,$0D,$43,$61,$73,$74,$6C,$65,$20,$CB,$4D,$61
    db $67,$72,$69,$64,$64,$2E,$20,$11,$48,$65,$72,$65,$2C,$20,$E6,$E4
    db $03,$24,$53,$69,$6C,$76,$65,$72,$0D,$90,$03,$20,$96,$68,$75,$72
    db $72,$79,$20,$E2,$74,$68,$65,$0D,$4C,$61,$62,$6F,$72,$61,$74,$6F
    db $72,$79,$20,$77,$68,$65,$72,$65,$20,$0D,$44,$72,$2E,$8B,$F3,$68
    db $65,$6C,$64,$2E,$20,$13,$1E,$A5,$10,$57,$68,$61,$74,$20,$BA,$68
    db $69,$73,$20,$64,$61,$75,$67,$68,$74,$65,$72,$73,$20,$0D,$6E,$61
    db $6D,$65,$3F,$20,$4C,$69,$73,$61,$3F,$20,$0D,$88,$77,$6F,$6E,$64
    db $65,$72,$20,$68,$6F,$77,$20,$73,$68,$65,$20,$BA,$0D,$64,$6F,$69
    db $6E,$67,$3F,$20,$13,$1E,$A5
    COP #$14
    db $FF,$00,$6A,$92
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $89,$92
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    COP #$14
    db $03,$01,$7E,$92
    RTL
    COP #$09
    db $06,$87
    COP #$17
    db $8E,$92
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $93,$92
    RTL
    COP #$01
    db $DC,$92
    RTL
    db $10,$93,$BA,$97,$73,$77,$6F,$72,$64,$20,$0D,$A8,$4C,$75,$63,$6B
    db $79,$20,$42,$6C,$61,$64,$65,$20,$0D,$E0,$BB,$4C,$61,$79,$6E,$6F
    db $6C,$65,$2E,$20,$11,$49,$74,$20,$BA,$73,$61,$69,$64,$20,$E3,$0D
    db $C4,$F1,$6C,$65,$61,$76,$65,$20,$0D,$6C,$61,$72,$67,$65,$72,$20
    db $47,$45,$4D,$73,$2E,$20,$13,$1E,$A5,$10,$91,$8A,$B6,$73,$70,$6F
    db $6B,$65,$6E,$20,$6F,$66,$0D,$79,$6F,$75,$2E,$20,$91,$DE,$CE,$0D
    db $E9,$BA,$4E,$6F,$6D,$65,$2E,$20,$13,$1E,$A5
    COP #$14
    db $D4,$00,$05,$93
    RTL
    COP #$85
    db $9D,$A9,$00
    %CopMakeNpcUnpassable()
    COP #$14
    db $EF,$00,$14,$93
    BRA CODE_04933C
    COP #$14
    db $F0,$00,$1C,$93,$80,$20
    COP #$14
    db $E9,$00,$24,$93,$80,$1F
    COP #$14
    db $F2,$00,$2C,$93
    BRA CODE_049343
    COP #$17
    db $BA,$93
    COP #$05
    db $01,$00
    COP #$16
    COP #$17
    db $99,$93
    BRA CODE_04934A

CODE_04933C:
    COP #$17
    db $B0,$93
    %CopSetScriptAddrToNextInstruction()
    RTL

CODE_049343:
    COP #$17
    db $B5,$93
    %CopSetScriptAddrToNextInstruction()
    RTL

CODE_04934A:
    COP #$81
    db $1D,$06
    COP #$83
    COP #$81
    db $1B,$04
    COP #$83
    COP #$81
    db $1D,$0B
    COP #$83
    COP #$81
    db $1B,$0D
    COP #$83
    COP #$96
    COP #$81
    db $1D,$02
    COP #$83
    COP #$81
    db $1B,$06
    COP #$83
    COP #$81
    db $1D,$02
    COP #$83
    COP #$81
    db $1B,$06
    COP #$83
    COP #$81
    db $1D,$0E
    COP #$83
    COP #$81
    db $1C,$1D
    COP #$83
    COP #$97
    COP #$80
    db $1D
    COP #$82
    COP #$80
    db $1A
    COP #$82
    BRA CODE_04934A
    db $02,$91,$6B
    LDA.W $0016,X
    AND.W #$FFEF
    STA.W $0016,X
    COP #$01
    db $BF,$93
    LDA.W $0016,X
    ORA.W #$0010
    STA.W $0016,X
    RTL
    COP #$01
    db $E9,$93
    RTL
    db $02,$01,$09,$94,$6B
    COP #$01
    db $3E,$94
    RTL
    db $10,$88,$B5,$6E,$6F,$20,$74,$69,$6D,$65,$20,$E2,$0D,$74,$61,$6C
    db $6B,$2E,$20,$88,$E8,$88,$9D,$0D,$B1,$E2,$6C,$6F,$73,$65,$20,$E1
    db $0D,$72,$61,$63,$65,$2E,$20,$13,$1E,$A5,$10,$57,$65,$20,$98,$DE
    db $6A,$6F,$63,$6B,$65,$79,$73,$2E,$20,$0D,$92,$DE,$BA,$A8,$0D,$4C
    db $65,$67,$65,$6E,$64,$2E,$20,$13,$1E,$A5,$10,$80,$E1,$6A,$6F,$63
    db $6B,$65,$79,$73,$20,$98,$0D,$68,$65,$72,$65,$2C,$20,$A2,$E1,$72
    db $61,$63,$65,$20,$0D,$74,$72,$61,$63,$6B,$20,$BA,$CA,$63,$6F,$6D
    db $70,$6C,$65,$74,$65,$64,$0D,$79,$65,$74,$2E,$20,$13,$1E,$A5,$10
    db $88,$9D,$B1,$E2,$77,$69,$6E,$20,$74,$68,$69,$73,$0D,$72,$61,$63
    db $65,$21,$20,$13,$1E,$A5
    COP #$14
    db $EF,$00,$5C,$94
    RTL
    COP #$85
    db $9D,$A9,$00
    %CopMakeNpcUnpassable()
    COP #$14
    db $D4,$00,$6B,$94,$80,$28
    COP #$14
    db $F0,$00,$73,$94,$80,$20
    COP #$14
    db $E9,$00,$7B,$94,$80,$1F
    COP #$14
    db $F2,$00,$83,$94
    BRA CODE_04949A
    COP #$17
    db $11,$95
    COP #$05
    db $01,$00
    COP #$16
    COP #$17
    db $F0,$94
    BRA CODE_0494A1
    db $02,$17,$07,$95,$02,$91,$6B

CODE_04949A:
    COP #$17
    db $0C,$95
    %CopSetScriptAddrToNextInstruction()
    RTL

CODE_0494A1:
    COP #$81
    db $1D,$06
    COP #$83
    COP #$81
    db $1B,$02
    COP #$83
    COP #$81
    db $1D,$0B
    COP #$83
    COP #$81
    db $1B,$0D
    COP #$83
    COP #$96
    COP #$81
    db $1D,$02
    COP #$83
    COP #$81
    db $1B,$06
    COP #$83
    COP #$81
    db $1D,$02
    COP #$83
    COP #$81
    db $1B,$06
    COP #$83
    COP #$81
    db $1D,$0E
    COP #$83
    COP #$81
    db $1C,$1B
    COP #$83
    COP #$97
    COP #$80
    db $1D
    COP #$82
    COP #$80
    db $1A
    COP #$82
    BRA CODE_0494A1
    db $02,$91,$6B
    LDA.W $0016,X
    AND.W #$FFEF
    STA.W $0016,X
    COP #$01
    db $16,$95
    LDA.W $0016,X
    ORA.W #$0010
    STA.W $0016,X
    RTL
    db $02,$01,$3D,$95,$6B,$02,$01,$69,$95,$6B
    COP #$01
    db $9A,$95
    RTL
    db $10,$88,$B5,$6E,$6F,$20,$74,$69,$6D,$65,$20,$E2,$0D,$74,$61,$6C
    db $6B,$2E,$20,$88,$9D,$B1,$E2,$0D,$6C,$6F,$73,$65,$20,$E1,$72,$61
    db $63,$65,$2E,$20,$13,$1E,$A5,$10,$57,$65,$20,$98,$DE,$6A,$6F,$63
    db $6B,$65,$79,$73,$2E,$20,$0D,$92,$DE,$BA,$A8,$0D,$46,$6C,$61,$73
    db $68,$2E,$20,$0D,$88,$9D,$E1,$66,$61,$73,$74,$65,$73,$74,$21,$20
    db $13,$1E,$A5,$10,$80,$E1,$6A,$6F,$63,$6B,$65,$79,$73,$20,$98,$0D
    db $B9,$A2,$E1,$72,$61,$63,$65,$20,$0D,$74,$72,$61,$63,$6B,$20,$BA
    db $CA,$79,$65,$74,$20,$0D,$63,$6F,$6D,$70,$6C,$65,$74,$65,$64,$2E
    db $20,$13,$1E,$A5,$10,$88,$9D,$B1,$E2,$77,$69,$6E,$20,$74,$68,$69
    db $73,$0D,$72,$61,$63,$65,$21,$20,$13,$1E,$A5
    COP #$14
    db $F0,$00,$B8,$95
    RTL
    COP #$85
    db $9D,$A9,$00
    %CopMakeNpcUnpassable()
    COP #$14
    db $D4,$00,$C7,$95,$80,$28
    COP #$14
    db $EF,$00,$CF,$95
    BRA CODE_0495EF
    COP #$14
    db $E9,$00,$D7,$95,$80,$1F
    COP #$14
    db $F2,$00,$DF,$95
    BRA CODE_0495F6
    COP #$17
    db $61,$96
    COP #$05
    db $01,$00
    COP #$16
    COP #$17
    db $40,$96
    BRA CODE_0495FD

CODE_0495EF:
    COP #$17
    db $57,$96
    %CopSetScriptAddrToNextInstruction()
    RTL

CODE_0495F6:
    COP #$17
    db $5C,$96
    %CopSetScriptAddrToNextInstruction()
    RTL

CODE_0495FD:
    COP #$81
    db $1D,$11
    COP #$83
    COP #$81
    db $1B,$0D
    COP #$83
    COP #$96
    COP #$81
    db $1D,$02
    COP #$83
    COP #$81
    db $1B,$06
    COP #$83
    COP #$81
    db $1D,$02
    COP #$83
    COP #$81
    db $1B,$06
    COP #$83
    COP #$81
    db $1D,$0E
    COP #$83
    COP #$81
    db $1C,$19
    COP #$83
    COP #$97
    COP #$80
    db $1D
    COP #$82
    COP #$80
    db $1A
    COP #$82
    BRA CODE_0495FD
    db $02,$91,$6B
    LDA.W $0016,X
    AND.W #$FFEF
    STA.W $0016,X
    COP #$01
    db $66,$96
    LDA.W $0016,X
    ORA.W #$0010
    STA.W $0016,X
    RTL
    db $02,$01,$8D,$96,$6B,$02,$01,$BE,$96,$6B
    COP #$01
    db $EF,$96
    RTL
    db $10,$88,$B5,$6E,$6F,$20,$74,$69,$6D,$65,$20,$E2,$0D,$74,$61,$6C
    db $6B,$2E,$20,$88,$9D,$B1,$E2,$0D,$6C,$6F,$73,$65,$20,$E1,$72,$61
    db $63,$65,$2E,$20,$13,$1E,$A5,$10,$57,$65,$20,$98,$DE,$6A,$6F,$63
    db $6B,$65,$79,$73,$2E,$20,$0D,$57,$65,$20,$98,$77,$61,$69,$74,$69
    db $6E,$67,$20,$AE,$74,$68,$65,$0D,$72,$61,$63,$65,$20,$E2,$73,$74
    db $61,$72,$74,$2E,$20,$13,$1E,$A5,$10,$80,$E1,$6A,$6F,$63,$6B,$65
    db $79,$73,$20,$98,$0D,$B9,$A2,$E1,$72,$61,$63,$65,$20,$0D,$74,$72
    db $61,$63,$6B,$20,$BA,$CA,$79,$65,$74,$20,$0D,$63,$6F,$6D,$70,$6C
    db $65,$74,$65,$64,$2E,$20,$13,$1E,$A5,$10,$57,$65,$20,$98,$77,$61
    db $69,$74,$69,$6E,$67,$20,$AE,$74,$68,$65,$0D,$72,$61,$63,$65,$20
    db $E2,$73,$74,$61,$72,$74,$2E,$20,$13,$1E,$A5
    COP #$14
    db $CB,$00,$18,$97
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $2D,$97
    %CopMakeNpcUnpassable()

CODE_049723:
    COP #$AD
    db $08
    COP #$80
    db $25
    COP #$82
    BRA CODE_049723
    COP #$01
    db $32,$97
    RTL
    db $10,$54,$68,$65,$73,$65,$20,$AA,$67,$72,$6F,$77,$20,$0D,$EE,$66
    db $61,$73,$74,$2E,$20,$54,$68,$65,$79,$20,$62,$65,$63,$6F,$6D,$65
    db $0D,$61,$64,$75,$6C,$74,$73,$20,$77,$69,$74,$68,$69,$6E,$20,$68
    db $61,$6C,$66,$20,$97,$0D,$79,$65,$61,$72,$2C,$20,$11,$B4,$6D,$61
    db $72,$72,$69,$65,$64,$2C,$20,$B5,$0D,$63,$68,$69,$6C,$64,$72,$65
    db $6E,$20,$96,$70,$61,$73,$73,$20,$61,$77,$61,$79,$0D,$BB,$97,$79
    db $65,$61,$72,$2E,$20,$11,$54,$68,$65,$79,$20,$6E,$65,$76,$65,$72
    db $20,$66,$65,$65,$6C,$20,$74,$68,$65,$69,$72,$20,$0D,$C1,$98,$74
    db $6F,$6F,$20,$73,$68,$6F,$72,$74,$2E,$20,$0D,$54,$68,$65,$79,$20
    db $65,$6E,$6A,$6F,$79,$20,$65,$61,$63,$68,$20,$0D,$6D,$6F,$6D,$65
    db $6E,$74,$21,$20,$13,$1E,$A5
    COP #$14
    db $FE,$00,$E0,$97
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $24,$98
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    COP #$18
    db $04,$F3,$97
    RTL
    db $02,$0D,$00,$37,$24,$FB,$97,$6B,$02,$16,$A9,$80,$2F,$0C,$26,$03
    db $02,$97,$02,$81,$11,$02,$02,$83,$02,$80,$0F,$02,$82,$02,$80,$0C
    db $02,$82,$A9,$80,$2F,$1C,$26,$03,$02,$15,$02,$01,$58,$98,$02,$91
    db $6B
    COP #$01
    db $29,$98
    RTL
    db $10,$92,$70,$61,$73,$73,$61,$67,$65,$20,$6C,$65,$61,$64,$73,$20
    db $E2,$0D,$E1,$75,$6E,$64,$65,$72,$67,$72,$6F,$75,$6E,$64,$20,$6C
    db $61,$6B,$65,$2C,$20,$0D,$4C,$75,$6E,$65,$2E,$20,$13,$1E,$A5,$10
    db $48,$65,$79,$2C,$20,$79,$6F,$75,$60,$72,$65,$20,$CA,$B1,$0D,$E2
    db $E1,$6C,$61,$6B,$65,$20,$F2,$E3,$0D,$73,$77,$6F,$72,$64,$20,$98
    db $79,$6F,$75,$3F,$20,$11,$95,$98,$B1,$E2,$B4,$0D,$BB,$74,$72,$6F
    db $75,$62,$6C,$65,$2E,$20,$11,$54,$61,$6C,$6B,$20,$E2,$73,$6F,$6D
    db $65,$20,$CB,$E1,$0D,$CF,$BB,$74,$6F,$77,$6E,$2C,$20,$6D,$61,$79
    db $62,$65,$20,$0D,$73,$6F,$6D,$65,$6F,$6E,$65,$20,$A7,$B7,$79,$6F
    db $75,$2E,$20,$13,$1E,$A5
    COP #$14
    db $FC,$00,$C6,$98
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $D4,$98
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    %CopJumpIfEventFlagIsUnset($8707, $98F5)
    %CopJumpIfItemIsNotEquipped(!itemDreamRod, CODE_0498F0)
    COP #$01
    db $03,$99
    COP #$3C
    db $04
    COP #$10
    db $0B,$03,$01,$A0,$00,$E0,$00
    RTL

CODE_0498F0:
    COP #$01
    db $FA,$98
    RTL
    db $02,$01,$24,$99,$6B,$10,$5A,$7A,$7A,$7A,$20,$13,$1E,$A5,$10,$02
    db $02,$20,$70,$6C,$61,$63,$65,$64,$20,$0D,$E1,$85,$52,$6F,$64,$20
    db $CD,$E1,$0D,$6F,$6C,$64,$20,$6D,$61,$6E,$2E,$20,$13,$1E,$A5,$10
    db $4F,$6F,$70,$73,$21,$20,$88,$6D,$75,$73,$74,$20,$B5,$0D,$66,$61
    db $6C,$6C,$65,$6E,$20,$61,$73,$6C,$65,$65,$70,$2E,$20,$11,$88,$F3
    db $64,$72,$65,$61,$6D,$69,$6E,$67,$20,$CB,$C2,$0D,$63,$68,$69,$6C
    db $64,$68,$6F,$6F,$64,$2E,$20,$13,$1E,$A5
    COP #$3B
    db $FA,$00,$75,$99,$02,$17,$9E,$A2,$E2,$20,$A9,$00,$48,$C2,$20,$A9
    db $5E,$B0,$48,$6B
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $83,$99
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $88,$99
    RTL
    db $10,$43,$61,$6E,$20,$FE,$A5,$E4,$0D,$6F,$6C,$64,$20,$6D,$61,$6E
    db $20,$EC,$E2,$A1,$97,$0D,$63,$68,$69,$6C,$64,$20,$BC,$97,$68,$61
    db $6C,$66,$20,$97,$0D,$79,$65,$61,$72,$20,$61,$67,$6F,$3F,$20,$11
    db $54,$69,$6D,$65,$20,$BA,$EE,$0D,$69,$6D,$70,$6F,$72,$74,$61,$6E
    db $74,$2E,$20,$13,$1E,$A5
    COP #$14
    db $EE,$00,$D5,$99
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $EA,$99
    %CopMakeNpcUnpassable()

CODE_0499E0:
    COP #$AD
    db $08
    COP #$80
    db $25
    COP #$82
    BRA CODE_0499E0
    COP #$01
    db $EF,$99
    RTL
    db $10,$93,$BA,$97,$70,$72,$69,$73,$6F,$6E,$20,$6F,$76,$65,$72,$0D
    db $74,$68,$65,$72,$65,$2E,$20,$11,$57,$65,$6C,$6C,$2E,$2E,$2E,$20
    db $E9,$98,$6E,$6F,$20,$0D,$61,$63,$74,$75,$61,$6C,$20,$62,$61,$64
    db $20,$70,$65,$6F,$70,$6C,$65,$2E,$20,$0D,$88,$67,$75,$65,$73,$73
    db $20,$69,$74,$20,$BA,$BC,$97,$0D,$70,$75,$6E,$69,$73,$68,$6D,$65
    db $6E,$74,$20,$72,$6F,$6F,$6D,$2E,$20,$13,$1E,$A5
    COP #$14
    db $E8,$00,$52,$9A
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $60,$9A
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    %CopJumpIfEventFlagIsUnset($9A04, $9A74)
    COP #$01
    db $79,$9A
    BRK #$5E
    COP #$0A
    db $2E
    COP #$09
    db $04,$9A
    RTL
    db $02,$01,$B8,$9A,$6B,$10,$48,$6F,$77,$20,$64,$69,$64,$20,$FE,$B4
    db $69,$6E,$3F,$20,$0D,$48,$65,$72,$65,$20,$88,$F1,$B0,$FE,$0D,$74
    db $68,$69,$73,$2E,$20,$11,$02,$02,$20,$D4,$0D,$03,$24,$E1,$4D,$61
    db $73,$74,$65,$72,$60,$D7,$45,$6D,$62,$6C,$65,$6D,$20,$45,$2E,$03
    db $20,$13,$1E,$A5,$10,$48,$6F,$77,$20,$64,$69,$64,$20,$FE,$B4,$69
    db $6E,$3F,$20,$13,$1E,$A5
    COP #$14
    db $F2,$00,$D1,$9A
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $2E,$9B
    %CopMakeNpcUnpassable()
    COP #$05
    db $02,$00
    COP #$17
    db $00,$00
    COP #$16
    COP #$96
    COP #$81
    db $0B,$03
    COP #$83
    COP #$81
    db $0A,$13
    COP #$83
    COP #$97
    COP #$81
    db $0B,$03
    COP #$83
    COP #$80
    db $07
    COP #$82
    %CopMakeNpcUnpassable()
    LDA.W $0016,X
    AND.W #$FFF7
    STA.W $0016,X
    COP #$17
    db $57,$9B
    COP #$05
    db $01,$00
    COP #$16
    COP #$96
    COP #$81
    db $0B,$02
    COP #$83
    COP #$81
    db $09,$04
    COP #$83
    COP #$80
    db $08
    COP #$82
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$14
    db $D4,$00,$36,$9B,$80,$33
    COP #$14
    db $EF,$00,$3E,$9B,$80,$2B
    COP #$14
    db $F0,$00,$46,$9B,$80,$23
    COP #$14
    db $E9,$00,$4E,$9B,$80,$20
    COP #$01
    db $73,$9B
    COP #$09
    db $02,$80
    RTL
    COP #$01
    db $CE,$9B
    COP #$09
    db $01,$80
    COP #$17
    db $64,$9B
    RTL
    db $02,$01,$18,$9C,$6B,$02,$01,$24,$9C,$6B,$02,$01,$68,$9C,$6B,$10
    db $80,$E1,$6A,$6F,$63,$6B,$65,$79,$73,$20,$0D,$98,$B9,$96,$E1,$72
    db $61,$63,$65,$20,$0D,$74,$72,$61,$63,$6B,$20,$BA,$66,$69,$6E,$61
    db $6C,$6C,$79,$20,$0D,$66,$69,$6E,$69,$73,$68,$65,$64,$2E,$20,$11
    db $57,$65,$20,$98,$B1,$E2,$73,$74,$61,$72,$74,$20,$0D,$E1,$72,$61
    db $63,$65,$2E,$20,$57,$68,$79,$20,$64,$6F,$6E,$60,$E5,$0D,$FE,$A6
    db $61,$6C,$6F,$6E,$67,$3F,$20,$13,$1E,$A5,$10,$4F,$6E,$20,$FF,$6D
    db $61,$72,$6B,$2C,$20,$11,$77,$65,$6C,$6C,$20,$65,$76,$65,$72,$79
    db $6F,$6E,$65,$60,$D7,$CD,$74,$68,$65,$0D,$6D,$61,$72,$6B,$2E,$20
    db $11,$4F,$6B,$61,$79,$2C,$20,$98,$FE,$72,$65,$61,$64,$79,$3F,$20
    db $11,$47,$65,$74,$20,$73,$65,$74,$2C,$20,$0D,$0E,$28,$47,$6F,$21
    db $20,$13,$1E,$A5,$10,$80,$72,$69,$67,$68,$74,$21,$20,$13,$1E,$A5
    db $10,$92,$BA,$E1,$72,$61,$63,$65,$20,$0D,$74,$72,$61,$63,$6B,$2E
    db $20,$11,$4E,$6F,$74,$20,$9A,$E1,$6D,$65,$6D,$62,$65,$72,$73,$20
    db $0D,$98,$72,$65,$61,$64,$79,$2C,$20,$73,$6F,$20,$88,$63,$61,$6E
    db $6E,$6F,$74,$0D,$73,$74,$61,$72,$74,$20,$E1,$72,$61,$63,$65,$2E
    db $20,$13,$1E,$A5,$10,$92,$BA,$E1,$72,$61,$63,$65,$20,$0D,$74,$72
    db $61,$63,$6B,$2E,$20,$11,$83,$E1,$74,$72,$61,$63,$6B,$20,$BA,$CA
    db $0D,$79,$65,$74,$20,$63,$6F,$6D,$70,$6C,$65,$74,$65,$64,$2C,$20
    db $73,$6F,$20,$88,$0D,$63,$61,$6E,$6E,$6F,$74,$20,$73,$74,$61,$72
    db $74,$20,$E1,$72,$61,$63,$65,$2E,$20,$13,$1E,$A5
    COP #$14
    db $CA,$00,$B7,$9C
    RTL
    COP #$85
    db $9D,$A9,$00
    %CopMakeNpcUnpassable()
    COP #$17
    db $C5,$9C
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $CA,$9C
    RTL
    db $10,$92,$BA,$77,$68,$65,$72,$65,$20,$E1,$0D,$4D,$6F,$75,$6E,$74
    db $61,$69,$6E,$20,$CB,$53,$6F,$75,$6C,$73,$20,$0D,$65,$78,$69,$73
    db $74,$73,$2E,$20,$11,$49,$74,$20,$BA,$71,$75,$69,$74,$65,$20,$77
    db $61,$72,$6D,$20,$0D,$69,$6E,$73,$69,$64,$65,$20,$E1,$6D,$6F,$75
    db $6E,$74,$61,$69,$6E,$2E,$20,$13,$1E,$A5
    LDA.W #$2F80
    TSB.W wButtonMask
    COP #$03
    db $02
    COP #$04
    COP #$34
    COP #$03
    db $3D
    COP #$04
    COP #$96
    COP #$80
    db $02
    COP #$82
    COP #$01
    db $48,$9D
    COP #$09
    db $07,$87
    LDA.W #$2F80
    TRB.W wButtonMask
    COP #$3C
    db $04
    COP #$10
    db $0A,$01,$00,$30,$03,$70,$03
    RTL
    db $10,$88,$F1,$CA,$6C,$65,$61,$76,$65,$20,$FE,$0D,$96,$B3,$6F,$66
    db $66,$20,$E2,$6F,$74,$68,$65,$72,$20,$0D,$70,$6C,$61,$63,$65,$73
    db $20,$88,$70,$72,$6F,$6D,$69,$73,$65,$2E,$20,$11,$41,$73,$20,$70
    db $72,$6F,$6F,$66,$20,$CB,$C2,$0D,$70,$72,$6F,$6D,$69,$73,$65,$2C
    db $20,$88,$62,$75,$72,$69,$65,$64,$20,$C2,$0D,$62,$65,$6C,$6F,$6E
    db $67,$69,$6E,$67,$73,$20,$BB,$E1,$0D,$41,$75,$72,$6F,$72,$61,$20
    db $52,$69,$64,$67,$65,$2E,$20,$11,$91,$4D,$61,$67,$69,$63,$20,$41
    db $72,$6D,$6F,$72,$2C,$20,$0D,$35,$30,$20,$47,$45,$4D,$73,$2C,$20
    db $96,$0D,$CC,$4D,$65,$64,$69,$63,$61,$6C,$20,$48,$65,$72,$62,$2E
    db $20,$11,$88,$68,$6F,$70,$65,$20,$73,$6F,$6D,$65,$6F,$6E,$65,$20
    db $F1,$0D,$66,$69,$6E,$64,$20,$74,$68,$65,$6D,$2E,$20,$13,$1E,$A5
    RTL
    %CopMakeNpcUnpassable()
    COP #$17
    db $1A,$9E
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$1C,$31,$09,$9E
    RTL
    COP #$01
    db $64,$9E
    COP #$3C
    db $04
    COP #$10
    db $0A,$01,$01,$20,$01,$C0,$02
    RTL
    COP #$01
    db $1F,$9E
    RTL
    db $10,$92,$BA,$C2,$0D,$68,$6F,$6D,$65,$74,$6F,$77,$6E,$2E,$20,$11
    db $91,$6D,$6F,$75,$6E,$74,$61,$69,$6E,$20,$77,$69,$6E,$64,$73,$20
    db $0D,$63,$61,$72,$72,$69,$65,$64,$20,$C2,$73,$70,$6F,$72,$65,$73
    db $20,$96,$0D,$6E,$6F,$77,$20,$77,$65,$20,$C0,$74,$68,$65,$72,$65
    db $2E,$20,$13,$1E,$A5,$10,$4D,$61,$6B,$65,$20,$73,$75,$72,$65,$20
    db $FE,$64,$6F,$6E,$60,$E5,$0D,$F9,$9B,$BB,$97,$64,$72,$65,$61,$6D
    db $0D,$6F,$72,$20,$FE,$F1,$B4,$6C,$6F,$73,$74,$2E,$20,$13,$1E,$A5
    %CopJumpIfEventFlagIsUnset($9A05, $9EAC)
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$20,$2E,$9F,$9E
    RTL
    COP #$01
    db $AF,$9E
    BRK #$5E
    COP #$0A
    db $2F
    COP #$09
    db $05,$9A
    COP #$86
    RTL
    db $10,$02,$02,$20,$AF,$0D,$03,$24,$4D,$61,$73,$74,$65,$72,$60,$D7
    db $45,$6D,$62,$6C,$65,$6D,$20,$46,$2E,$20,$03,$20,$13,$1E,$A5
    COP #$14
    db $EC,$00,$D5,$9E
    RTL
    JSL.L CODE_03B161
    COP #$17
    db $E9,$9E
    SEP #$20
    LDA.B #$04
    PHA
    REP #$20
    LDA.W #$A288
    PHA
    RTL
    %CopJumpIfEventFlagIsUnset($9E00, $9EFB)
    COP #$01
    db $9A,$A4
    COP #$38
    db $00,$03
    COP #$09
    db $00,$9E

CODE_049EFB:
    COP #$01
    db $C2,$A4
    COP #$1A
    db $5B,$CF,$02,$1D,$9F
    LDA.L $0003D0
    BEQ CODE_049F1D
    COP #$01
    db $F4,$A4
    INC.W $042D
    COP #$10
    db $0A,$01,$00,$D8,$01,$40,$00
    RTL

CODE_049F1D:
    COP #$01
    db $07,$A5
    RTL
    COP #$14
    db $D9,$00,$29,$9F
    RTL
    JSL.L CODE_03B161
    COP #$17
    db $3D,$9F
    SEP #$20
    LDA.B #$04
    PHA
    REP #$20
    LDA.W #$A288
    PHA
    RTL
    %CopJumpIfEventFlagIsUnset($9D05, $9EFB)
    COP #$01
    db $9A,$A4
    COP #$38
    db $00,$04
    COP #$09
    db $05,$9D
    BRL CODE_049EFB
    LDA.W currentMapNumber
    AND.W #$00FF
    CMP.W #$0045
    BEQ CODE_049F6D
    CMP.W #$0047
    BEQ CODE_049F65
    db $02,$86,$6B

CODE_049F65:
    %CopSetScriptAddrToNextInstruction()
    PHX
    LDX.W #$9FED
    BRA CODE_049F73

CODE_049F6D:
    %CopSetScriptAddrToNextInstruction()
    PHX
    LDX.W #$9FA9

CODE_049F73:
    LDY.W $039C

CODE_049F76:
    LDA.L $040000,X
    CMP.W #$FFFF
    BEQ CODE_049F95
    CMP.W $0000,Y
    BNE CODE_049F8D
    LDA.L $040002,X
    CMP.W $0002,Y
    BEQ CODE_049F97

CODE_049F8D:
    TXA
    CLC
    ADC.W #$0006
    TAX
    BRA CODE_049F76

CODE_049F95:
    PLX
    RTL

CODE_049F97:
    LDA.L $040004,X
    BEQ CODE_049FA3
    COP #$09
    db $00,$80
    BRA CODE_049FA7

CODE_049FA3:
    COP #$09
    db $00,$00

CODE_049FA7:
    PLX
    RTL
    db $A0,$00,$B0,$00,$01,$00,$C0,$01,$A0,$00,$01,$00,$90,$02,$30,$02
    db $01,$00,$70,$01,$D0,$01,$01,$00,$C0,$01,$60,$02,$01,$00,$90,$02
    db $A0,$00,$01,$00,$A0,$00,$A0,$00,$00,$00,$C0,$01,$90,$00,$00,$00
    db $90,$02,$20,$02,$00,$00,$70,$01,$C0,$01,$00,$00,$C0,$01,$50,$02
    db $00,$00,$FF,$FF,$20,$02,$00,$02,$01,$00,$20,$01,$40,$01,$01,$00
    db $A0,$01,$A0,$01,$01,$00,$20,$02,$10,$02,$00,$00,$FF,$FF
    LDA.W #$2F80
    TRB.W wButtonMask
    %CopSetScriptAddrToNextInstruction()
    COP #$05
    db $00,$00
    %CopJumpIfItemIsNotEquipped(!itemMushroomShoes, CODE_04A01C)

    COP #$27
    db $07,$A0

CODE_04A01C:
    LDY.W $039C
    LDA.W $001E,Y
    AND.W #$003F
    PHX
    TAX
    LDA.L UNREACH_04A032,X
    PLX
    AND.W #$00FF
    BNE CODE_04A072
    RTL

UNREACH_04A032:
    db $00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01
    db $01,$01,$01,$01,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$01,$01,$00,$01,$00,$01,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00

CODE_04A072:
    LDA.W $001E,Y
    TAY
    LDA.W UNREACH_01FAAB,Y
    STA.W $002C,X
    LDY.W $039C
    LDA.W #$0000
    STA.W $0014,Y
    LDA.W #$2F80
    TSB.W wButtonMask
    %CopSetScriptAddrToNextInstruction()
    %CopJumpIfEventFlagIsUnset($0000, $A0B4)
    %CopJumpIfItemIsNotEquipped(!itemMushroomShoes, CODE_04A09B)
    BRL CODE_04A0B4

CODE_04A09B:
    LDA.W $002C,X
    PHX
    LDX.W $039C
    AND.W #$00FF
    BEQ CODE_04A0B8
    DEC A
    BEQ CODE_04A106
    DEC A
    BNE CODE_04A0B0
    BRL CODE_04A1A6

CODE_04A0B0:
    BRL CODE_04A152
CODE_04A0B3:
    PLX
CODE_04A0B4:
    COP #$27
    db $07,$A0

CODE_04A0B8:
    LDA.W $0002,X
    AND.W #$000F
    BNE CODE_04A0FE
    LDA.W $0000,X
    AND.W #$000F
    BEQ CODE_04A0FA
    db $BD,$00,$00,$29,$F0,$FF,$85,$16,$BD,$02,$00,$38,$E9,$20,$00,$85
    db $18,$20,$FA,$A1,$B0,$D5,$BD,$00,$00,$29,$F0,$FF,$18,$69,$10,$00
    db $85,$16,$BD,$02,$00,$38,$E9,$20,$00,$85,$18,$20,$FA,$A1,$B0,$BB
    db $80,$04

CODE_04A0FA:
    COP #$21
    db $B3,$A0

CODE_04A0FE:
    COP #$2F
    db $00,$00,$FE,$FF
    PLX
    RTL

CODE_04A106:
    LDA.W $0002,X
    AND.W #$000F
    BNE CODE_04A14A
    LDA.W $0000,X
    AND.W #$000F
    BEQ CODE_04A146
    db $BD,$00,$00,$29,$F0,$FF,$85,$16,$BD,$02,$00,$85,$18,$20,$FA,$A1
    db $90,$03,$82,$88,$FF,$BD,$00,$00,$29,$F0,$FF,$18,$69,$10,$00,$85
    db $16,$BD,$02,$00,$85,$18,$20,$FA,$A1,$90,$03,$82,$6F,$FF,$80,$04

CODE_04A146:
    COP #$22
    db $B3,$A0

CODE_04A14A:
    COP #$2F
    db $00,$00,$02,$00
    PLX
    RTL

CODE_04A152:
    LDA.W $0000,X
    AND.W #$000F
    BNE CODE_04A19E
    LDA.W $0002,X
    AND.W #$000F
    BEQ CODE_04A19A
    db $BD,$00,$00,$38,$E9,$10,$00,$85,$16,$BD,$02,$00,$29,$F0,$FF,$38
    db $E9,$10,$00,$85,$18,$20,$FA,$A1,$90,$03,$82,$34,$FF,$BD,$00,$00
    db $38,$E9,$10,$00,$85,$16,$BD,$02,$00,$29,$F0,$FF,$85,$18,$20,$FA
    db $A1,$90,$03,$82,$1B,$FF,$80,$04

CODE_04A19A:
    COP #$23
    db $B3,$A0

CODE_04A19E:
    COP #$2F
    db $FE,$FF,$00,$00
    PLX
    RTL

CODE_04A1A6:
    LDA.W $0000,X
    AND.W #$000F
    BNE CODE_04A1F2
    LDA.W $0002,X
    AND.W #$000F
    BEQ CODE_04A1EE
    db $BD,$00,$00,$18,$69,$10,$00,$85,$16,$BD,$02,$00,$29,$F0,$FF,$38
    db $E9,$10,$00,$85,$18,$20,$FA,$A1,$90,$03,$82,$E0,$FE,$BD,$00,$00
    db $18,$69,$10,$00,$85,$16,$BD,$02,$00,$29,$F0,$FF,$85,$18,$20,$FA
    db $A1,$90,$03,$82,$C7,$FE,$80,$04

CODE_04A1EE:
    COP #$24
    db $B3,$A0

CODE_04A1F2:
    COP #$2F
    db $02,$00,$00,$00
    PLX
    RTL
    db $DA,$22,$B8,$F2,$04,$BF,$00,$80,$7F,$FA,$29,$FF,$00,$D0,$02,$18
    db $60,$38,$60
    SEP #$20
    LDA.W currentMapNumber
    LDY.W #$A267
    CMP.B #$46
    BEQ CODE_04A230
    LDY.W #$A280
    CMP.B #$47
    BEQ CODE_04A230
    LDY.W #$A23D
    CMP.B #$3E
    BEQ CODE_04A230
    LDY.W #$A256
    CMP.B #$3F
    BEQ CODE_04A230
    db $80,$08

CODE_04A230:
    STY.W $03D8
    LDA.B #$04
    STA.W $03DA
    REP #$20
    COP #$86
    RTL
    db $1A,$1C,$0A,$11,$00,$00,$01,$00,$16,$18,$19,$27,$00,$00,$01,$00
    db $2B,$2D,$2F,$36,$00,$00,$01,$00,$FF,$13,$15,$14,$1B,$00,$00,$01
    db $00,$1C,$1E,$0A,$11,$00,$00,$01,$00,$FF,$02,$1E,$08,$11,$00,$00
    db $01,$00,$02,$1E,$2C,$42,$00,$00,$01,$00,$02,$1E,$4F,$59,$00,$00
    db $01,$00,$FF,$2F,$3E,$21,$36,$00,$00,$01,$00,$FF

CODE_04A289:
    COP #$2E
    db $00,$18,$00,$97,$A2
    COP #$80
    db $07
    COP #$82
    BRA CODE_04A289
    COP #$80
    db $0C
    COP #$82
    BRA CODE_04A289
    db $02,$1F,$AD,$02,$03,$29,$03,$00,$F0,$08,$3A,$F0,$0A,$02,$01,$BA
    db $A2,$6B,$02,$01,$E2,$A2,$6B,$02,$01,$FF,$A2,$6B,$10,$4F,$75,$63
    db $68,$2E,$2E,$2E,$2E,$20,$69,$74,$20,$68,$75,$72,$74,$73,$21,$20
    db $0D,$53,$6F,$6D,$65,$62,$6F,$64,$79,$20,$D2,$B7,$0D,$6D,$65,$21
    db $20,$13,$1E,$A5,$10,$88,$F8,$E2,$72,$65,$74,$75,$72,$6E,$20,$E2
    db $6D,$79,$0D,$72,$65,$61,$6C,$20,$66,$6F,$72,$6D,$2E,$20,$13,$1E
    db $A5,$10,$4F,$77,$2E,$2E,$2E,$2E,$20,$13,$1E,$A5
    PHX
    LDX.W #$0000
    LDA.W #$007F
    STA.L $7E7800,X
    LDA.W #$0010
    STA.L $7E7803,X
    LDA.W #$0000
    STA.L $7E7801,X
    STA.L $7E7804,X
    LDA.W #$0050
    STA.B $0C
    LDA.W #$0001

CODE_04A32F:
    STA.L $7E7806,X
    INX
    INX
    INX
    DEC.B $0C
    BNE CODE_04A32F
    LDA.B $0C
    STA.L $7E7806,X
    PLX
    %CopSetScriptAddrToNextInstruction()
    PHX
    PHB
    SEP #$20
    LDA.B #$0F
    XBA
    LDA.B #$7E
    LDY.W #$7800
    JSL.L CODE_02988A
    LDA.B #$7E
    PHA
    PLB
    REP #$20
    LDA.W #$0050
    STA.B $0C
    LDA.W $033A
    SEC
    SBC.W #$0060
    ASL A
    STA.B $00
    LDX.W #$0000

CODE_04A36B:
    XBA
    STA.L $7E7807,X
    XBA
    INX
    INX
    INX
    CLC
    ADC.B $00
    DEC.B $0C
    BNE CODE_04A36B
    PLB
    PLX
    RTL
    PHX
    LDX.W #$0000

CODE_04A382:
    LDA.W #$00A0
    STA.L $7E7800,X
    LDA.W #$7900
    STA.L $7E7801,X
    INX
    INX
    INX
    CPX.W #$0015
    BNE CODE_04A382
    LDA.W #$0000
    STA.L $7E7800,X
    PLX
    %CopSetScriptAddrToNextInstruction()
    PHX
    LDA.W $0312
    LSR A
    AND.W #$001F
    ASL A
    TAX
    LDY.W #$0000
    SEP #$20
    PHB
    LDA.B #$7E
    PHA
    PLB

CODE_04A3B6:
    LDA.L UNREACH_04A3D7,X
    STA.W $7900,Y
    INX
    INX
    INY
    INY
    CPY.W #$0040
    BNE CODE_04A3B6
    PLB
    LDA.B #$10
    XBA
    LDA.B #$7E
    LDY.W #$7800
    JSL.L CODE_02986E
    REP #$20
    PLX
    RTL

UNREACH_04A3D7:
    db $00,$00,$01,$00,$01,$00,$02,$00,$02,$00,$02,$00,$03,$00,$03,$00
    db $03,$00,$03,$00,$03,$00,$02,$00,$02,$00,$02,$00,$01,$00,$01,$00
    db $00,$00,$FF,$FF,$FF,$FF,$FE,$FF,$FE,$FF,$FE,$FF,$FD,$FF,$FD,$FF
    db $FD,$FF,$FD,$FF,$FD,$FF,$FE,$FF,$FE,$FF,$FE,$FF,$FF,$FF,$FF,$FF
    db $00,$00,$01,$00,$01,$00,$02,$00,$02,$00,$02,$00,$03,$00,$03,$00
    db $03,$00,$03,$00,$03,$00,$02,$00,$02,$00,$02,$00,$01,$00,$01,$00
    db $00,$00,$FF,$FF,$FF,$FF,$FE,$FF,$FE,$FF,$FE,$FF,$FD,$FF,$FD,$FF
    db $FD,$FF,$FD,$FF,$FD,$FF,$FE,$FF,$FE,$FF,$FE,$FF,$FF,$FF,$FF,$FF
    LDA.W #$1C81
    STA.L $7F0000
    %CopSetScriptAddrToNextInstruction()
    PHP
    SEP #$20
    LDA.B #$32
    XBA
    LDA.B #$04
    LDY.W #$A471
    JSL.L CODE_02988A
    PLP
    RTL
    db $09,$F3,$0A,$F2,$0A,$F1,$0A,$F0,$0A,$EF,$0A,$EE,$0A,$ED,$0A,$EC
    db $0A,$EB,$0A,$EA,$0A,$E9,$0A,$E8,$0A,$E7,$0A,$E6,$0A,$E5,$0A,$E4
    db $0A,$E3,$0A,$E2,$0A,$E1,$22,$E0,$00,$10,$88,$9D,$F7,$E1,$0D,$77
    db $6F,$72,$6C,$64,$2E,$20,$48,$65,$72,$65,$2C,$20,$E6,$0D,$74,$68
    db $69,$73,$2E,$20,$11,$02,$02,$20,$D4,$0D,$45,$58,$50,$21,$20,$11
    db $0C,$10,$57,$6F,$75,$6C,$64,$20,$FE,$BE,$E2,$0D,$72,$65,$74,$75
    db $72,$6E,$20,$E2,$E1,$6C,$6F,$63,$61,$74,$69,$6F,$6E,$0D,$CB,$E1
    db $4D,$6F,$75,$6E,$74,$61,$69,$6E,$20,$CB,$0D,$53,$6F,$75,$6C,$73
    db $3F,$20,$0C,$47,$6F,$6F,$64,$20,$6C,$75,$63,$6B,$20,$74,$68,$65
    db $6E,$2E,$20,$13,$1E,$A5,$52,$65,$74,$75,$72,$6E,$20,$E2,$C3,$F4
    db $FE,$0D,$98,$72,$65,$61,$64,$79,$2E,$20,$13,$1E,$A5,$12,$08,$08
    db $04,$0C
    COP #$14
    db $37,$01,$2A,$A5
    RTL
    COP #$85
    db $9D,$A9,$00
    %CopMakeNpcUnpassable()
    COP #$A2
    db $30
    COP #$17
    db $4C,$A5
    %CopSetScriptAddrToNextInstruction()
    COP #$80
    db $08
    COP #$82
    RTL
    COP #$17
    db $54,$A5
    %CopSetScriptAddrToNextInstruction()
    COP #$80
    db $05
    COP #$82
    RTL
    COP #$01
    db $59,$A5
    COP #$27
    db $40,$A5
    COP #$01
    db $96,$A5
    RTL
    db $10,$4D,$79,$20,$A0,$68,$75,$72,$74,$73,$20,$A3,$0D,$88,$B5,$62
    db $65,$65,$6E,$20,$73,$69,$74,$74,$69,$6E,$67,$20,$0D,$74,$6F,$6F
    db $20,$6C,$6F,$6E,$67,$2E,$20,$11,$88,$DC,$B4,$75,$70,$20,$96,$0D
    db $65,$78,$65,$72,$63,$69,$73,$65,$2E,$20,$13,$A3,$BF,$10,$49,$74
    db $20,$73,$63,$61,$72,$65,$73,$20,$CF,$F4,$0D,$77,$65,$20,$6D,$6F
    db $76,$65,$2E,$20,$0D,$83,$77,$65,$20,$98,$BC,$0D,$65,$78,$65,$72
    db $63,$69,$73,$69,$6E,$67,$2E,$20,$13,$A3,$BF
    COP #$14
    db $12,$01,$CB,$A5
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $FA,$A5
    BRL CODE_04A5DE

CODE_04A5D7:
    BRK #$43
    COP #$80
    db $02
    COP #$82

CODE_04A5DE:
    %CopSetScriptAddrToNextInstruction()
    COP #$0C
    db $00,$02,$E7,$A5
    RTL
    BRK #$43
    COP #$80
    db $01
    COP #$82
    %CopSetScriptAddrToNextInstruction()
    COP #$0C
    db $00,$02,$F9,$A5
    BRL CODE_04A5D7
    RTL
    COP #$01
    db $FF,$A5
    RTL
    db $10,$2E,$2E,$2E,$2E,$2E,$2E,$2E,$2E,$2E,$20,$13,$A3,$BF
    COP #$14
    db $1A,$01,$14,$A6
    RTL
    %CopJumpIfEventFlagIsUnset($8800, $A65C)
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $78,$A6
    %CopMakeNpcUnpassable()

CODE_04A625:
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$0B,$0D,$2F,$A6
    RTL
    %CopJumpIfItemIsNotEquipped(!itemDoorKey, CODE_04A645)
    COP #$01
    db $AC,$A6
    COP #$09
    db $00,$88
    COP #$17
    db $00,$00
    COP #$16
    BRL CODE_04A65C

CODE_04A645:
    COP #$01
    db $7D,$A6
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$0B,$0D,$54,$A6
    BRA CODE_04A625
    RTL

CODE_04A655:
    BRK #$43
    COP #$80
    db $02
    COP #$82

CODE_04A65C:
    %CopSetScriptAddrToNextInstruction()
    COP #$0C
    db $00,$02,$65,$A6
    RTL
    BRK #$43
    COP #$80
    db $01
    COP #$82
    %CopSetScriptAddrToNextInstruction()
    COP #$0C
    db $00,$02,$77,$A6
    BRL CODE_04A655
    RTL
    COP #$01
    db $7D,$A6
    RTL
    db $10,$4D,$79,$20,$62,$6F,$64,$79,$20,$BA,$6C,$6F,$63,$6B,$65,$64
    db $2E,$20,$11,$93,$DC,$A1,$97,$6B,$65,$79,$20,$0D,$E0,$BB,$E1,$0D
    db $6C,$61,$62,$6F,$72,$61,$74,$6F,$72,$79,$2E,$20,$13,$A3,$BF,$10
    db $02,$02,$20,$EC,$0D,$E1,$64,$6F,$6F,$72,$20,$6B,$65,$79,$2E,$20
    db $13,$A3,$BF
    COP #$14
    db $29,$01,$C7,$A6
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $F7,$A6
    %CopJumpIfEventFlagIsUnset($0605, $A6DC)
    %CopJumpIfEventFlagIsUnset($8606, $A6E4)
    %CopMakeNpcUnpassable()
    COP #$05
    db $02,$00
    COP #$16
    COP #$96
    COP #$80
    db $0F
    COP #$82
    COP #$97
    COP #$80
    db $0C
    COP #$82
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    %CopJumpIfEventFlagIsUnset($0605, $A703)
    %CopJumpIfEventFlagIsUnset($8606, $A708)

    db $02,$01,$11,$A7,$6B
    COP #$01
    db $50,$A7
    COP #$09
    db $02,$80
    RTL
    db $10,$57,$6F,$75,$6C,$64,$20,$FE,$D2,$E6,$0D,$E1,$63,$61,$74,$73
    db $20,$6F,$75,$74,$20,$CB,$E1,$0D,$72,$6F,$6F,$6D,$3F,$20,$11,$88
    db $9D,$74,$6F,$6F,$20,$DF,$E2,$0D,$6D,$6F,$76,$65,$20,$9B,$F2,$74
    db $68,$65,$6D,$20,$0D,$BB,$68,$65,$72,$65,$2E,$20,$13,$A3,$BF,$10
    db $94,$FE,$EE,$6D,$75,$63,$68,$2E,$20,$0D,$4E,$6F,$77,$20,$88,$A7
    db $F9,$9B,$0D,$E1,$72,$6F,$6F,$6D,$20,$66,$72,$65,$65,$6C,$79,$2E
    db $20,$11,$4C,$65,$74,$20,$C3,$B0,$FE,$0D,$73,$6F,$6D,$65,$74,$68
    db $69,$6E,$67,$2E,$20,$0D,$8F,$A6,$69,$6E,$73,$69,$64,$65,$2E,$20
    db $13,$A3,$BF
    COP #$14
    db $14,$01,$9B,$A7
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $2A,$A8
    %CopJumpIfEventFlagIsUnset($8605, $A817)
    %CopMakeNpcUnpassable()

CODE_04A7AC:
    %CopJumpIfItemIsNotEquipped(!itemCatLeaves, CODE_04A7B7)
    COP #$0C
    db $00,$02,$BE,$A7

CODE_04A7B7:
    COP #$80
    db $13
    COP #$82
    BRA CODE_04A7AC
    %CopSetScriptAddrToNextInstruction()
    COP #$17
    db $2F,$A8

CODE_04A7C4:
    COP #$0D
    db $05,$16,$10,$09,$A8
    COP #$9C
    db $D1,$A7,$ED,$A7
    COP #$9A
    db $10,$00,$DB,$A7,$ED,$A7,$E4,$A7
    COP #$97
    COP #$80
    db $12
    COP #$82
    BRA CODE_04A7C4
    COP #$96
    COP #$80
    db $12
    COP #$82
    BRA CODE_04A7C4
    COP #$9B
    db $10,$00,$F7,$A7,$05,$A8,$FE,$A7,$02,$80,$11,$02,$82,$80,$C6
    COP #$80
    db $10
    COP #$82
    BRA CODE_04A7C4
    COP #$27
    db $C4,$A7
    COP #$97
    COP #$81
    db $12,$02
    COP #$83
    COP #$09
    db $05,$86
    BRA CODE_04A81C
    COP #$11
    db $05,$14,$11

CODE_04A81C:
    COP #$17
    db $2F,$A8
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    COP #$80
    db $13
    COP #$82
    RTL
    db $02,$01,$34,$A8,$6B,$02,$01,$6C,$A8,$6B,$10,$57,$65,$20,$64,$6F
    db $6E,$60,$E5,$D5,$0D,$BE,$E2,$63,$68,$61,$73,$65,$20,$72,$61,$74
    db $73,$2E,$20,$11,$43,$61,$74,$73,$20,$BC,$B5,$E2,$65,$61,$74,$20
    db $0D,$BB,$6F,$72,$64,$65,$72,$20,$E2,$6C,$69,$76,$65,$2E,$20,$13
    db $A3,$BF,$10,$57,$68,$61,$74,$20,$97,$70,$6C,$65,$61,$73,$61,$6E
    db $74,$20,$73,$6D,$65,$6C,$6C,$2E,$20,$13,$A3,$BF
    COP #$14
    db $0D,$01,$8D,$A8
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $23,$A9
    %CopJumpIfEventFlagIsUnset($8606, $A910)

CODE_04A89C:
    %CopJumpIfItemIsNotEquipped(!itemCatLeaves, CODE_04A8A7)
    COP #$0C
    db $00,$02,$AE,$A8

CODE_04A8A7:
    COP #$80
    db $14
    COP #$82
    BRA CODE_04A89C
    %CopSetScriptAddrToNextInstruction()
    COP #$96
    COP #$80
    db $1A
    COP #$82
    COP #$17
    db $28,$A9

CODE_04A8BB:
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $06,$16,$10,$02,$A9
    COP #$9C
    db $CA,$A8,$E6,$A8
    COP #$9A
    db $10,$00,$D4,$A8,$E6,$A8,$DD,$A8
    COP #$97
    COP #$80
    db $12
    COP #$82
    BRA CODE_04A8BB
    COP #$96
    COP #$80
    db $12
    COP #$82
    BRA CODE_04A8BB
    COP #$9B
    db $10,$00,$F0,$A8,$FE,$A8,$F7,$A8
    COP #$80
    db $11
    COP #$82
    BRA CODE_04A8BB
    COP #$80
    db $10
    COP #$82
    BRA CODE_04A8BB
    COP #$27
    db $BB,$A8
    COP #$96
    COP #$81
    db $12,$02
    COP #$83
    COP #$09
    db $06,$86
    BRA CODE_04A915
    COP #$11
    db $06,$18,$11

CODE_04A915:
    COP #$17
    db $28,$A9
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    COP #$80
    db $13
    COP #$82
    RTL
    db $02,$01,$2D,$A9,$6B,$02,$01,$6A,$A9,$6B,$10,$92,$BA,$44,$72,$2E
    db $4C,$65,$6F,$60,$D7,$0D,$4C,$61,$62,$6F,$72,$61,$74,$6F,$72,$79
    db $2E,$20,$11,$92,$68,$6F,$75,$73,$65,$20,$B6,$97,$0D,$73,$65,$63
    db $6F,$6E,$64,$20,$66,$6C,$6F,$6F,$72,$20,$96,$9C,$0D,$61,$74,$74
    db $69,$63,$2E,$20,$13,$A3,$BF,$10,$57,$68,$61,$74,$20,$97,$B2,$73
    db $6D,$65,$6C,$6C,$2E,$20,$13,$A3,$BF
    COP #$14
    db $1B,$01,$83,$A9
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $94,$A9
    %CopSetScriptAddrToNextInstruction()
    COP #$80
    db $15
    COP #$82
    RTL
    COP #$01
    db $99,$A9
    RTL
    db $10,$44,$6F,$6F,$72,$73,$20,$98,$75,$73,$75,$61,$6C,$6C,$79,$20
    db $0D,$71,$75,$69,$65,$74,$2C,$20,$A2,$E9,$98,$0D,$73,$6F,$6D,$65
    db $20,$74,$61,$6C,$6B,$61,$74,$69,$76,$65,$20,$6F,$6E,$65,$73,$2E
    db $20,$11,$54,$72,$79,$20,$96,$EA,$E2,$9A,$6F,$66,$0D,$74,$68,$65
    db $6D,$2E,$20,$13,$A3,$BF
    COP #$14
    db $0C,$01,$E6,$A9
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $69,$AA
    %CopMakeNpcUnpassable()

CODE_04A9F1:
    %CopSetScriptAddrToNextInstruction()
    COP #$03
    db $02
    COP #$80
    db $08
    COP #$82
    LDA.W wButtonsPressed
    AND.W #$0200
    BEQ CODE_04AA2E
    COP #$0D
    db $00,$04,$10,$0C,$AA
    BRA CODE_04AA2E
    COP #$04
    LDA.W #$2F80
    TSB.W wButtonMask
    COP #$16
    COP #$81
    db $1D,$10
    COP #$83
    %CopMakeNpcUnpassable()
    LDA.W #$2F80
    TRB.W wButtonMask
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$03,$10,$32,$AA
    RTL

CODE_04AA2E:
    COP #$27
    db $F1,$A9
    %CopJumpIfEventFlagIsUnset($9A06, $AA45)
    COP #$01
    db $DC,$AA
    BRK #$5E
    COP #$0A
    db $30
    COP #$09
    db $06,$9A
    %CopSetScriptAddrToNextInstruction()
    RTL
    LDA.W #$2F80
    TSB.W wButtonMask
    COP #$80
    db $1B
    COP #$82
    COP #$01
    db $9D,$AA
    BRK #$5E
    COP #$0A
    db $0D
    COP #$80
    db $1C
    COP #$82
    LDA.W #$2F80
    TRB.W wButtonMask
    BRA CODE_04A9F1
    COP #$18
    db $0D,$73,$AA,$02,$01,$B8,$AA,$6B
    COP #$01
    db $7B,$AA
    COP #$27
    db $48,$AA,$10,$54,$61,$6B,$65,$20,$E1,$4D,$79,$73,$74,$69,$63,$20
    db $41,$72,$6D,$6F,$72,$20,$0D,$AD,$C2,$64,$72,$61,$77,$65,$72,$2E
    db $20,$13,$A3,$BF,$10,$02,$02,$20,$D4,$0D,$03,$24,$4D,$79,$73,$74
    db $69,$63,$20,$41,$72,$6D,$6F,$72,$2E,$20,$03,$20,$13,$A3,$BF,$10
    db $4D,$79,$20,$62,$6F,$64,$79,$20,$BA,$C8,$AD,$0D,$E1,$74,$72,$65
    db $65,$73,$20,$BB,$0D,$47,$72,$65,$65,$6E,$57,$6F,$6F,$64,$2E,$20
    db $13,$A3,$BF,$10,$02,$02,$20,$AF,$0D,$03,$24,$4D,$61,$73,$74,$65
    db $72,$60,$D7,$45,$6D,$62,$6C,$65,$6D,$20,$47,$2E,$20,$03,$20,$13
    db $A3,$BF
    COP #$14
    db $39,$01,$02,$AB
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $15,$AB
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    COP #$80
    db $03
    COP #$82
    RTL
    COP #$01
    db $1A,$AB
    RTL
    db $10,$89,$E1,$DD,$CB,$E1,$0D,$47,$72,$65,$61,$74,$20,$44,$6F,$6F
    db $72,$20,$6A,$6F,$69,$6E,$73,$20,$79,$6F,$75,$2C,$20,$11,$FE,$F1
    db $A1,$61,$62,$6C,$65,$20,$E2,$0D,$DB,$E1,$69,$6E,$76,$69,$73,$69
    db $62,$6C,$65,$20,$0D,$65,$6E,$65,$6D,$69,$65,$73,$20,$BB,$E1,$6D
    db $6F,$64,$65,$6C,$73,$20,$0D,$CB,$74,$6F,$77,$6E,$2E,$20,$11,$4C
    db $69,$73,$74,$65,$6E,$20,$E2,$F5,$E1,$63,$61,$74,$0D,$73,$61,$79
    db $73,$2E,$20,$13,$A3,$BF
    COP #$14
    db $09,$01,$87,$AB
    RTL
    %CopMakeNpcUnpassable()
    COP #$17
    db $9E,$AB
    COP #$A0
    db $FC,$FF
    COP #$85
    db $9D,$A9,$00
    %CopSetScriptAddrToNextInstruction()
    COP #$80
    db $03
    COP #$82
    RTL
    COP #$01
    db $C8,$AB
    COP #$1A
    db $02,$CF,$02,$C3,$AB
    LDA.L $0003D0
    BNE UNREACH_04ABC3
    COP #$18
    db $38,$B9,$AB
    COP #$01
    db $21,$AC
    RTL
    db $02,$01,$E2,$AB,$00,$5E,$02,$0A,$38,$6B

UNREACH_04ABC3:
    db $02,$01,$55,$AC,$6B,$10,$57,$6F,$75,$6C,$64,$20,$FE,$BE,$0D,$97
    db $4D,$65,$64,$69,$63,$61,$6C,$20,$48,$65,$72,$62,$3F,$20,$0C,$10
    db $54,$61,$6B,$65,$20,$61,$6E,$79,$20,$6C,$65,$61,$76,$65,$73,$20
    db $E3,$0D,$FE,$F8,$AD,$C2,$62,$6F,$64,$79,$2E,$11,$4F,$55,$43,$48
    db $21,$20,$11,$02,$02,$20,$D4,$0D,$03,$24,$97,$4D,$65,$64,$69,$63
    db $61,$6C,$20,$48,$65,$72,$62,$2E,$20,$03,$20,$13,$A3,$BF,$10,$4D
    db $65,$64,$69,$63,$61,$6C,$20,$48,$65,$72,$62,$73,$20,$98,$70,$61
    db $72,$74,$0D,$CB,$C2,$62,$6F,$64,$79,$2E,$20,$88,$63,$61,$6E,$6E
    db $6F,$74,$20,$0D,$B0,$C7,$61,$74,$20,$CC,$74,$69,$6D,$65,$2E,$13
    db $A3,$BF,$10,$4F,$68,$2C,$20,$72,$65,$61,$6C,$6C,$79,$3F,$20,$84
    db $96,$0D,$61,$73,$6B,$20,$C3,$F4,$FE,$98,$69,$6E,$0D,$74,$72,$6F
    db $75,$62,$6C,$65,$2E,$20,$13,$A3,$BF
    COP #$14
    db $0B,$01,$83,$AC
    RTL
    %CopMakeNpcUnpassable()
    COP #$A0
    db $FC,$FF
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $9A,$AC
    %CopSetScriptAddrToNextInstruction()
    COP #$80
    db $03
    COP #$82
    RTL
    COP #$01
    db $9F,$AC
    RTL
    db $10,$91,$72,$6F,$6F,$6D,$20,$CD,$E1,$73,$65,$63,$6F,$6E,$64,$0D
    db $66,$6C,$6F,$6F,$72,$20,$BA,$44,$72,$2E,$4C,$65,$6F,$60,$73,$2E
    db $20,$11,$93,$FD,$74,$77,$6F,$20,$6D,$6F,$64,$65,$6C,$73,$20,$0D
    db $CB,$74,$6F,$77,$6E,$20,$BB,$68,$69,$73,$20,$72,$6F,$6F,$6D,$2E
    db $20,$11,$4D,$61,$6E,$79,$20,$AA,$FD,$0D,$73,$77,$61,$6C,$6C,$6F
    db $77,$65,$64,$20,$69,$6E,$74,$6F,$20,$E1,$0D,$6D,$6F,$64,$65,$6C
    db $73,$2E,$20,$13,$A3,$BF
    COP #$14
    db $4A,$01,$0C,$AD
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $63,$AD
    %CopMakeNpcUnpassable()
    COP #$05
    db $00,$00
    COP #$16
    COP #$9A
    db $00,$00,$27,$AD,$27,$AD,$37,$AD,$02,$96,$02,$80,$0F,$02,$82,$02
    db $97,$02,$80,$0C,$02,$82,$80,$0E
    COP #$97
    COP #$80
    db $0F
    COP #$82
    COP #$96
    COP #$80
    db $0C
    COP #$82
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$14,$05,$51,$AD
    RTL
    LDA.W wButtonsPressed
    AND.W #$0800
    BNE CODE_04AD5A
    db $6B

CODE_04AD5A:
    COP #$01
    db $98,$AD
    %CopRestoreToFullHealth()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $6C,$AD
    COP #$09
    db $00,$80
    RTL
    db $10,$88,$9D,$97,$64,$65,$76,$6F,$75,$74,$20,$6D,$6F,$75,$73,$65
    db $2C,$20,$0D,$73,$74,$61,$6E,$64,$20,$B9,$96,$FE,$0D,$F1,$A1,$70
    db $75,$72,$69,$66,$69,$65,$64,$2E,$20,$13,$A3,$BF,$10,$02,$02,$2C
    db $20,$0D,$66,$65,$6C,$74,$20,$68,$69,$73,$20,$62,$6F,$64,$79,$20
    db $96,$6D,$69,$6E,$64,$0D,$62,$65,$63,$6F,$6D,$65,$20,$70,$75,$72
    db $69,$66,$69,$65,$64,$2E,$20,$13,$A3,$BF
    COP #$14
    db $20,$01,$CD,$AD
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $FC,$AD
    BRL CODE_04ADE0

CODE_04ADD9:
    BRK #$43
    COP #$80
    db $02
    COP #$82

CODE_04ADE0:
    %CopSetScriptAddrToNextInstruction()
    COP #$0C
    db $00,$02,$E9,$AD
    RTL
    BRK #$43
    COP #$80
    db $01
    COP #$82
    %CopSetScriptAddrToNextInstruction()
    COP #$0C
    db $00,$02,$FB,$AD
    BRL CODE_04ADD9
    RTL
    COP #$01
    db $01,$AE
    RTL
    db $10,$2E,$2E,$2E,$2E,$2E,$2E,$2E,$2E,$2E,$2E,$20,$13,$A3,$BF
    COP #$14
    db $42,$01,$17,$AE
    RTL
    COP #$30
    db $42,$01,$7E,$AE,$04
    %CopJumpIfEventFlagIsUnset($8603, $AE53)
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $60,$AE
    BRL CODE_04AE37
    db $00,$43,$02,$80,$02,$02,$82

CODE_04AE37:
    %CopSetScriptAddrToNextInstruction()
    COP #$0C
    db $00,$02,$40,$AE
    RTL
    BRK #$43
    COP #$80
    db $01
    COP #$82
    %CopSetScriptAddrToNextInstruction()
    COP #$0C
    db $00,$02,$52,$AE,$82,$DE,$FF
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$80
    db $1F
    COP #$82
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $EE,$AE
    COP #$09
    db $03,$86
    BRK #$4E
    SEP #$20
    LDA.W playerSouls
    ORA.B #$08
    STA.W playerSouls
    REP #$20
    COP #$17
    db $00,$00
    COP #$27
    db $53,$AE
    COP #$01
    db $85,$AE
    COP #$86
    RTL
    db $10,$0E,$3C,$02,$02,$20,$68,$65,$61,$72,$73,$20,$0D,$E1,$64,$6F
    db $6F,$72,$20,$0D,$73,$70,$65,$61,$6B,$69,$6E,$67,$20,$E2,$69,$74
    db $73,$65,$6C,$66,$2E,$20,$11,$88,$A7,$73,$65,$65,$2E,$2E,$2E,$2E
    db $2E,$2E,$20,$11,$88,$A7,$DB,$6D,$61,$63,$68,$69,$6E,$65,$73,$20
    db $0D,$74,$68,$72,$6F,$77,$69,$6E,$67,$20,$62,$6F,$6D,$62,$73,$20
    db $69,$6E,$73,$69,$64,$65,$20,$0D,$E1,$6D,$6F,$64,$65,$6C,$20,$74
    db $6F,$77,$6E,$73,$2E,$20,$13,$A3,$BF,$10,$45,$76,$65,$6E,$20,$EB
    db $88,$64,$6F,$6E,$60,$E5,$0D,$6C,$6F,$6F,$6B,$20,$BE,$69,$74,$2C
    db $20,$88,$9D,$0D,$AD,$E1,$73,$6B,$79,$20,$BC,$6C,$69,$6B,$65,$0D
    db $79,$6F,$75,$2E,$20,$11,$4C,$65,$74,$20,$C3,$6A,$6F,$69,$6E,$20
    db $79,$6F,$75,$2E,$20,$11,$91,$DD,$E3,$65,$6E,$61,$62,$6C,$65,$73
    db $20,$0D,$FE,$E2,$DB,$69,$6E,$76,$69,$73,$69,$62,$6C,$65,$20,$0D
    db $65,$6E,$65,$6D,$69,$65,$73,$20,$BB,$6D,$6F,$64,$65,$6C,$20,$74
    db $6F,$77,$6E,$73,$0D,$6A,$6F,$69,$6E,$73,$20,$79,$6F,$75,$2E,$20
    db $13,$A3,$BF
    COP #$14
    db $26,$01,$6F,$AF
    RTL
    COP #$30
    db $26,$01,$F3,$AF,$04
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $CD,$AF
    %CopMakeNpcUnpassable()
    %CopJumpIfEventFlagIsUnset($8802, $AFC5)
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$09,$0A,$91,$AF
    RTL
    %CopJumpIfEventFlagIsUnset($0801, $AFC2)
    COP #$17
    db $00,$00
    LDA.W #$2F80
    TSB.W wButtonMask
    COP #$80
    db $13
    COP #$82
    COP #$03
    db $1F
    COP #$04
    COP #$01
    db $6C,$B0
    BRK #$5E
    COP #$0A
    db $27
    COP #$09
    db $02,$88
    LDA.W #$2F80
    TRB.W wButtonMask
    COP #$17
    db $CD,$AF
    %CopSetScriptAddrToNextInstruction()
    RTL
    %CopSetScriptAddrToNextInstruction()
    COP #$80
    db $13
    COP #$82
    RTL
    %CopJumpIfEventFlagIsUnset($8802, $AFEE)
    %CopJumpIfItemIsNotEquipped(!itemDreamRod, CODE_04AFE9)
    COP #$01
    db $49,$B0
    COP #$3C
    db $04
    COP #$10
    db $0D,$05,$01,$C0,$00,$10,$00
    RTL

CODE_04AFE9:
    COP #$01
    db $3F,$B0
    RTL
    db $02,$01,$FA,$B0,$6B
    COP #$01
    db $FA,$AF
    COP #$86
    RTL
    db $10,$0E,$3C,$91,$63,$61,$74,$20,$BA,$73,$6C,$65,$65,$70,$69,$6E
    db $67,$2E,$20,$0D,$48,$65,$20,$6C,$6F,$6F,$6B,$73,$20,$61,$73,$20
    db $EB,$68,$65,$20,$0D,$BA,$73,$75,$66,$66,$65,$72,$69,$6E,$67,$2E
    db $20,$11,$55,$68,$2C,$20,$75,$68,$2C,$20,$44,$72,$2E,$4C,$65,$6F
    db $3F,$20,$13,$A3,$BF,$10,$5A,$7A,$7A,$7A,$7A,$20,$13,$A3,$BF,$10
    db $02,$02,$20,$70,$6C,$61,$63,$65,$73,$20,$0D,$E1,$85,$52,$6F,$64
    db $20,$CD,$E1,$0D,$63,$61,$74,$60,$D7,$68,$65,$61,$64,$2E,$20,$13
    db $A3,$BF,$10,$4C,$61,$74,$65,$6C,$79,$2C,$20,$88,$9F,$DB,$0D,$44
    db $72,$2E,$8B,$BB,$C2,$64,$72,$65,$61,$6D,$73,$2E,$20,$11,$88,$F3
    db $DF,$F4,$68,$65,$20,$0D,$F3,$74,$61,$6B,$65,$6E,$20,$61,$77,$61
    db $79,$2E,$20,$0D,$88,$68,$61,$64,$20,$62,$65,$65,$6E,$20,$68,$69
    db $64,$69,$6E,$67,$20,$0D,$75,$6E,$64,$65,$72,$20,$E1,$74,$61,$62
    db $6C,$65,$2E,$20,$11,$4F,$68,$20,$79,$65,$73,$2C,$20,$88,$F1,$B0
    db $0D,$FE,$74,$68,$69,$73,$2E,$20,$0D,$44,$72,$2E,$8B,$6C,$65,$66
    db $74,$20,$74,$68,$69,$73,$2E,$20,$11,$02,$02,$20,$D4,$0D,$03,$24
    db $97,$64,$6F,$6F,$72,$20,$6B,$65,$79,$2E,$20,$03,$20,$13,$A3,$BF
    db $10,$93,$98,$69,$6E,$76,$69,$73,$69,$62,$6C,$65,$20,$0D,$65,$6E
    db $65,$6D,$69,$65,$73,$20,$BB,$E1,$6D,$6F,$64,$65,$6C,$73,$20,$0D
    db $74,$6F,$77,$6E,$2E,$20,$0D,$8F,$A1,$63,$61,$72,$65,$66,$75,$6C
    db $2E,$20,$13,$A3,$BF
    COP #$14
    db $3E,$01,$36,$B1
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $44,$B1
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $49,$B1
    RTL
    db $10,$55,$73,$65,$20,$6D,$61,$67,$69,$63,$20,$E2,$64,$65,$66,$65
    db $61,$74,$20,$0D,$E1,$65,$6E,$65,$6D,$69,$65,$73,$20,$77,$68,$69
    db $63,$68,$20,$FE,$0D,$63,$61,$6E,$6E,$6F,$74,$20,$72,$65,$61,$63
    db $68,$2E,$20,$13,$A3,$BF
    COP #$14
    db $4D,$01,$86,$B1
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $99,$B1
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    COP #$80
    db $03
    COP #$82
    RTL
    COP #$18
    db $26,$A3,$B1,$02,$01,$00,$B2,$6B
    COP #$01
    db $AD,$B1
    BRK #$5E
    COP #$0A
    db $26
    RTL
    db $10,$88,$9D,$9C,$41,$63,$74,$69,$6E,$69,$64,$69,$61,$2E,$20,$0D
    db $54,$61,$6B,$65,$20,$73,$6F,$6D,$65,$20,$CB,$C2,$6C,$65,$61,$76
    db $65,$73,$0D,$69,$66,$20,$FE,$77,$61,$6E,$74,$2E,$20,$11,$4F,$55
    db $43,$48,$21,$20,$11,$02,$02,$20,$D4,$0D,$03,$24,$41,$63,$74,$69
    db $6E,$69,$64,$69,$61,$20,$6C,$65,$61,$76,$65,$73,$2E,$20,$03,$20
    db $13,$A3,$BF,$10,$88,$9D,$68,$61,$70,$70,$79,$20,$E2,$B7,$0D,$79
    db $6F,$75,$2E,$20,$13,$A3,$BF
    COP #$14
    db $36,$01,$1B,$B2
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $2E,$B2
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    COP #$80
    db $18
    COP #$82
    RTL
    COP #$01
    db $33,$B2
    RTL
    db $10,$91,$6C,$61,$72,$67,$65,$20,$6D,$61,$63,$68,$69,$6E,$65,$73
    db $20,$BB,$0D,$E1,$A4,$FD,$E1,$0D,$6D,$61,$63,$68,$69,$6E,$65,$73
    db $20,$77,$68,$69,$63,$68,$20,$0D,$73,$75,$6D,$6D,$6F,$6E,$65,$64
    db $20,$65,$76,$69,$6C,$2E,$20,$11,$54,$68,$65,$79,$20,$FD,$C8,$62
    db $79,$20,$0D,$44,$72,$2E,$4C,$65,$6F,$2E,$20,$11,$57,$68,$65,$6E
    db $20,$74,$68,$6F,$73,$65,$20,$6D,$61,$63,$68,$69,$6E,$65,$73,$20
    db $0D,$D9,$E2,$6D,$6F,$76,$65,$2C,$20,$E1,$0D,$63,$69,$74,$69,$65
    db $73,$20,$FD,$64,$65,$73,$74,$72,$6F,$79,$65,$64,$2E,$13,$A3,$BF
    COP #$14
    db $4C,$01,$BA,$B2
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $CD,$B2
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    COP #$80
    db $07
    COP #$82
    RTL
    %CopJumpIfEventFlagIsUnset($8807, $B2FF)
    COP #$18
    db $38,$FA,$B2
    COP #$01
    db $17,$B3
    COP #$1A
    db $02,$CF,$02,$F5,$B2
    LDA.L $0003D0
    BNE UNREACH_04B2F5
    COP #$01
    db $D0,$B3
    COP #$0B
    db $38
    COP #$09
    db $07,$88
    RTL

UNREACH_04B2F5:
    db $02,$01,$B1,$B3,$6B,$02,$01,$74,$B3,$6B
    COP #$18
    db $38,$09,$B3,$02,$01,$2E,$B4,$6B
    COP #$01
    db $03,$B4
    BRK #$5E
    COP #$0A
    db $38
    COP #$09
    db $07,$08
    RTL
    db $10,$89,$74,$68,$65,$72,$65,$60,$D7,$6E,$6F,$74,$68,$69,$6E,$67
    db $20,$69,$6E,$0D,$97,$63,$68,$65,$73,$74,$20,$74,$68,$65,$6E,$20
    db $E1,$63,$68,$65,$73,$74,$0D,$BA,$B2,$AE,$6E,$6F,$74,$68,$69,$6E
    db $67,$2E,$20,$11,$57,$6F,$75,$6C,$64,$20,$FE,$73,$74,$6F,$72,$65
    db $20,$FF,$0D,$4D,$65,$64,$69,$63,$61,$6C,$20,$48,$65,$72,$62,$73
    db $20,$BB,$C2,$0D,$64,$72,$61,$77,$65,$72,$3F,$20,$0C,$10,$89,$74
    db $68,$65,$72,$65,$60,$D7,$6E,$6F,$74,$68,$69,$6E,$67,$20,$0D,$BB
    db $97,$63,$68,$65,$73,$74,$2C,$20,$0D,$97,$63,$68,$65,$73,$74,$20
    db $64,$6F,$65,$73,$6E,$60,$E5,$6D,$65,$61,$6E,$20,$0D,$61,$6E,$79
    db $74,$68,$69,$6E,$67,$2E,$20,$13,$A3,$BF,$88,$9D,$E1,$68,$61,$70
    db $70,$69,$65,$73,$74,$20,$0D,$63,$68,$65,$73,$74,$20,$BB,$E1,$77
    db $6F,$72,$6C,$64,$2E,$20,$13,$A3,$BF,$02,$02,$20,$D0,$0D,$68,$69
    db $73,$20,$4D,$65,$64,$69,$63,$61,$6C,$20,$48,$65,$72,$62,$73,$20
    db $0D,$BB,$E1,$64,$72,$61,$77,$65,$72,$2E,$20,$11,$88,$9D,$73,$61
    db $74,$69,$73,$66,$69,$65,$64,$2E,$20,$13,$A3,$BF,$10,$41,$72,$65
    db $20,$FE,$74,$61,$6B,$69,$6E,$67,$20,$74,$68,$65,$6D,$20,$0D,$6F
    db $75,$74,$3F,$20,$57,$65,$6C,$6C,$2C,$20,$69,$74,$60,$D7,$6F,$6B
    db $61,$79,$2E,$20,$13,$A3,$BF,$10,$95,$B5,$97,$4D,$65,$64,$69,$63
    db $61,$6C,$20,$0D,$48,$65,$72,$62,$2E,$20,$88,$F1,$B0,$0D,$74,$68
    db $65,$6D,$20,$A0,$E2,$FE,$F4,$0D,$FE,$B5,$72,$75,$6E,$20,$6F,$75
    db $74,$2E,$20,$13,$A3,$BF
    COP #$14
    db $53,$01,$64,$B4
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $77,$B4
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    COP #$80
    db $15
    COP #$82
    RTL
    COP #$01
    db $7C,$B4
    RTL
    db $10,$92,$72,$6F,$6F,$6D,$20,$62,$65,$6C,$6F,$6E,$67,$73,$20,$E2
    db $61,$0D,$64,$6F,$6C,$6C,$20,$6E,$61,$6D,$65,$64,$20,$4D,$61,$72
    db $69,$65,$2E,$20,$11,$53,$68,$65,$20,$74,$6F,$6C,$64,$20,$C3,$C7
    db $0D,$74,$68,$69,$6E,$67,$73,$20,$99,$66,$6F,$72,$65,$69,$67,$6E
    db $20,$0D,$74,$6F,$77,$6E,$73,$2E,$20,$11,$81,$67,$69,$72,$6C,$20
    db $6E,$61,$6D,$65,$64,$20,$4C,$69,$73,$61,$20,$74,$6F,$6F,$6B,$0D
    db $63,$61,$72,$65,$20,$CB,$4D,$61,$72,$69,$65,$2E,$20,$13,$A3,$BF
    COP #$14
    db $2F,$01,$F3,$B4
    RTL
    COP #$30
    db $2F,$01,$58,$B5,$04
    %CopJumpIfEventFlagIsUnset($9F02, $B513)
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $3F,$B5
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    COP #$80
    db $18
    COP #$82
    RTL
    LDA.W #$BFC0
    TSB.W wButtonMask
    COP #$03
    db $29
    COP #$04
    COP #$01
    db $75,$B6
    COP #$03
    db $5B
    COP #$04
    LDA.W #$0020
    STA.W $03B4
    COP #$10
    db $0A,$01,$01,$00,$01,$80,$03
    LDA.W #$BFC0
    TRB.W wButtonMask
    %CopSetScriptAddrToNextInstruction()
    RTL
    %CopJumpIfEventFlagIsUnset($9B04, $B553)
    COP #$01
    db $AC,$B5
    BRK #$5E
    COP #$0A
    db $3E
    COP #$09
    db $04,$9B
    RTL
    COP #$01
    db $44,$B6
    RTL
    COP #$01
    db $61,$B5
    %CopRestoreToFullHealth()
    COP #$86
    RTL
    db $10,$0E,$3C,$88,$9D,$4D,$61,$72,$69,$65,$2C,$20,$E1,$64,$6F,$6C
    db $6C,$2E,$20,$0D,$88,$B5,$03,$24,$97,$50,$75,$72,$70,$6C,$65,$20
    db $90,$0D,$03,$20,$BB,$C2,$70,$6F,$63,$6B,$65,$74,$2E,$20,$11,$54
    db $61,$6B,$65,$20,$E4,$F2,$FE,$61,$6E,$64,$0D,$73,$61,$76,$65,$20
    db $44,$72,$2E,$4C,$65,$6F,$2E,$20,$13,$A3,$BF,$10,$4E,$6F,$62,$6F
    db $64,$79,$20,$A7,$62,$72,$65,$61,$6B,$20,$97,$0D,$70,$72,$6F,$6D
    db $69,$73,$65,$20,$E3,$BA,$C8,$0D,$F2,$45,$76,$69,$6C,$2E,$20,$11
    db $93,$F1,$A1,$6E,$6F,$20,$0D,$72,$65,$76,$69,$76,$61,$6C,$20,$CB
    db $E1,$F6,$0D,$75,$6E,$6C,$65,$73,$73,$20,$44,$65,$61,$74,$68,$74
    db $6F,$6C,$6C,$20,$BA,$0D,$64,$65,$66,$65,$61,$74,$65,$64,$2E,$20
    db $11,$44,$72,$2E,$8B,$6D,$75,$73,$74,$20,$A1,$0D,$E0,$BB,$E1,$0D
    db $8D,$43,$61,$73,$74,$6C,$65,$2E,$20,$11,$48,$65,$72,$65,$2C,$20
    db $E6,$E4,$73,$74,$6F,$6E,$65,$20,$0D,$AD,$C2,$70,$6F,$63,$6B,$65
    db $74,$20,$96,$B3,$0D,$E2,$E1,$8D,$43,$61,$73,$74,$6C,$65,$2E,$20
    db $13,$A3,$BF,$10,$88,$77,$6F,$6E,$64,$65,$72,$20,$68,$6F,$77,$20
    db $4C,$69,$73,$61,$20,$69,$73,$2C,$20,$0D,$88,$F8,$E2,$DB,$68,$65
    db $72,$20,$0D,$9E,$E1,$F6,$BA,$0D,$72,$65,$76,$69,$76,$65,$64,$2E
    db $20,$13,$A3,$BF,$10,$0F,$02,$02,$2C,$20,$0D,$FE,$C8,$69,$74,$2E
    db $20,$0D,$0E,$3C,$44,$72,$2E,$8B,$A7,$70,$61,$73,$73,$20,$61,$77
    db $61,$79,$20,$0D,$70,$65,$61,$63,$65,$66,$75,$6C,$6C,$79,$2E,$20
    db $0D,$0E,$5A,$57,$65,$20,$74,$6F,$6F,$6C,$73,$2C,$20,$65,$78,$69
    db $73,$74,$20,$E2,$A1,$0D,$EC,$62,$79,$20,$B8,$62,$65,$69,$6E,$67
    db $73,$2E,$20,$0D,$0E,$5A,$57,$65,$20,$98,$68,$61,$70,$70,$79,$20
    db $69,$66,$20,$77,$65,$60,$72,$65,$20,$0D,$68,$65,$6C,$70,$66,$75
    db $6C,$20,$E2,$E1,$68,$75,$6D,$61,$6E,$73,$2E,$0D,$0E,$3C,$82,$77
    db $65,$20,$68,$75,$72,$74,$20,$69,$66,$20,$74,$68,$65,$79,$20,$0D
    db $ED,$75,$73,$20,$BB,$E1,$77,$72,$6F,$6E,$67,$20,$0D,$77,$61,$79
    db $2E,$20,$0D,$0E,$5A,$45,$76,$65,$6E,$20,$EB,$77,$65,$20,$77,$6F
    db $75,$6C,$64,$20,$0D,$BE,$E2,$E7,$74,$68,$65,$6D,$20,$CA,$0D,$E2
    db $ED,$75,$73,$20,$E1,$77,$72,$6F,$6E,$67,$20,$0D,$77,$61,$79,$2C
    db $20,$77,$65,$20,$63,$61,$6E,$6E,$6F,$74,$2E,$20,$0D,$0E,$3C,$92
    db $BA,$EE,$70,$61,$69,$6E,$66,$75,$6C,$2E,$20,$0D,$0E,$5A,$83,$44
    db $72,$2E,$8B,$75,$6E,$64,$65,$72,$73,$74,$6F,$6F,$64,$0D,$6F,$75
    db $72,$20,$66,$65,$65,$6C,$69,$6E,$67,$73,$2E,$20,$0D,$0E,$5A,$91
    db $74,$6F,$6F,$6C,$73,$20,$44,$72,$2E,$8B,$75,$73,$65,$64,$0D,$6D
    db $75,$73,$74,$20,$B5,$62,$65,$65,$6E,$20,$68,$61,$70,$70,$79,$2E
    db $20,$0E,$78,$13,$A4,$BF
    COP #$14
    db $52,$01,$AE,$B7
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $DB,$B7
    COP #$81
    db $1E,$08
    COP #$83

CODE_04B7BD:
    COP #$81
    db $0D,$02
    COP #$83
    COP #$96
    COP #$81
    db $0F,$03
    COP #$83
    COP #$81
    db $0E,$02
    COP #$83
    COP #$97
    COP #$81
    db $0F,$03
    COP #$83
    BRA CODE_04B7BD
    COP #$01
    db $E0,$B7
    RTL
    db $10,$57,$65,$20,$98,$77,$65,$61,$6B,$20,$96,$74,$69,$6D,$69,$64
    db $20,$0D,$61,$6E,$69,$6D,$61,$6C,$73,$2E,$20,$11,$44,$6F,$6E,$60
    db $E5,$FE,$E8,$69,$74,$60,$D7,$0D,$75,$6E,$66,$61,$69,$72,$20,$E1
    db $77,$65,$61,$6B,$65,$72,$20,$0D,$AA,$98,$64,$65,$66,$65,$61,$74
    db $65,$64,$0D,$66,$69,$72,$73,$74,$3F,$20,$13,$A3,$BF
    COP #$14
    db $3B,$01,$34,$B8
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $61,$B8
    COP #$81
    db $1E,$08
    COP #$83

CODE_04B843:
    COP #$81
    db $0E,$02
    COP #$83
    COP #$97
    COP #$81
    db $0F,$03
    COP #$83
    COP #$81
    db $0D,$02
    COP #$83
    COP #$96
    COP #$81
    db $0F,$03
    COP #$83
    BRA CODE_04B843
    COP #$01
    db $66,$B8
    RTL
    db $10,$88,$77,$6F,$75,$6C,$64,$20,$B5,$6C,$69,$6B,$65,$64,$20,$E2
    db $0D,$B5,$62,$65,$65,$6E,$20,$62,$6F,$72,$6E,$20,$97,$0D,$70,$6C
    db $61,$6E,$74,$2E,$20,$11,$88,$77,$6F,$75,$6C,$64,$20,$CA,$66,$65
    db $61,$72,$20,$0D,$61,$6E,$79,$74,$68,$69,$6E,$67,$2E,$20,$13,$A3
    db $BF
    COP #$14
    db $3C,$01,$AE,$B8
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $D3,$B8
    %CopMakeNpcUnpassable()

CODE_04B8B9:
    COP #$0C
    db $00,$04,$C6,$B8
    COP #$80
    db $0C
    COP #$82
    BRA CODE_04B8B9
    COP #$80
    db $1E
    COP #$82
    COP #$0C
    db $00,$04,$C6,$B8
    BRA CODE_04B8B9
    %CopJumpIfEventFlagIsUnset($0605, $B8DF)
    %CopJumpIfEventFlagIsUnset($8606, $B8E4)
    db $02,$01,$F8,$B8,$6B
    COP #$18
    db $15,$EE,$B8,$02,$01,$76,$B9,$6B
    COP #$01
    db $21,$B9
    BRK #$5E
    COP #$0A
    db $15
    RTL
    db $10,$57,$65,$20,$63,$61,$6E,$6E,$6F,$74,$20,$F9,$0D,$9B,$6F,$75
    db $74,$73,$69,$64,$65,$20,$62,$65,$63,$61,$75,$73,$65,$0D,$CB,$E1
    db $63,$61,$74,$73,$2E,$20,$13,$A3,$BF,$10,$94,$FE,$AE,$67,$65,$74
    db $74,$69,$6E,$67,$20,$0D,$72,$69,$64,$20,$CB,$E1,$63,$61,$74,$73
    db $2E,$20,$11,$54,$61,$6B,$65,$20,$E4,$6D,$61,$67,$69,$63,$2C,$20
    db $E1,$0D,$4D,$61,$67,$69,$63,$20,$CB,$53,$70,$61,$72,$6B,$20,$42
    db $6F,$6D,$62,$2E,$20,$11,$02,$02,$20,$D4,$0D,$03,$24,$53,$70,$61
    db $72,$6B,$20,$42,$6F,$6D,$62,$2E,$20,$03,$20,$13,$A3,$BF,$10,$49
    db $74,$20,$BA,$CA,$65,$61,$73,$79,$20,$E2,$68,$69,$74,$20,$0D,$E1
    db $65,$6E,$65,$6D,$69,$65,$73,$20,$F2,$53,$70,$61,$72,$6B,$0D,$42
    db $6F,$6D,$62,$2C,$20,$A2,$69,$66,$20,$FE,$64,$6F,$2C,$20,$0D,$69
    db $74,$20,$77,$6F,$72,$6B,$73,$20,$EE,$77,$65,$6C,$6C,$2E,$20,$13
    db $A3,$BF
    COP #$14
    db $1E,$01,$C1,$B9
    RTL
    COP #$17
    db $C8,$B9
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $D6,$B9
    COP #$10
    db $0F,$01,$01,$F8,$01,$E0,$03
    RTL
    db $10,$0F,$02,$02,$20,$BA,$0D,$73,$77,$61,$6C,$6C,$6F,$77,$65,$64
    db $20,$69,$6E,$74,$6F,$20,$E1,$0D,$6D,$6F,$64,$65,$6C,$2E,$20,$13
    db $A3,$BF
    COP #$14
    db $45,$01,$FF,$B9
    RTL
    COP #$17
    db $06,$BA
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $14,$BA
    COP #$10
    db $0F,$02,$01,$F8,$01,$E0,$03
    RTL
    db $10,$0F,$02,$02,$20,$BA,$0D,$73,$77,$61,$6C,$6C,$6F,$77,$65,$64
    db $20,$69,$6E,$74,$6F,$20,$E1,$0D,$6D,$6F,$64,$65,$6C,$2E,$20,$13
    db $A3,$BF
    %CopJumpIfEventFlagIsUnset($8600, $BA4C)
    COP #$17
    db $68,$BA
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL

CODE_04BA45:
    BRK #$43
    COP #$80
    db $02
    COP #$82
    %CopSetScriptAddrToNextInstruction()
    COP #$0C
    db $00,$02,$55,$BA
    RTL
    BRK #$43
    COP #$80
    db $01
    COP #$82
    %CopSetScriptAddrToNextInstruction()
    COP #$0C
    db $00,$02,$67,$BA
    BRL CODE_04BA45
    RTL
    COP #$01
    db $7A,$BA
    COP #$09
    db $00,$86
    COP #$16
    COP #$17
    db $00,$00
    COP #$27
    db $4C,$BA,$10,$92,$BA,$44,$72,$2E,$4C,$65,$6F,$60,$D7,$0D,$6C,$61
    db $62,$6F,$72,$61,$74,$6F,$72,$79,$2E,$20,$11,$93,$98,$6D,$61,$63
    db $68,$69,$6E,$65,$73,$20,$0D,$6C,$75,$72,$6B,$69,$6E,$67,$20,$9B
    db $B9,$0D,$77,$68,$69,$63,$68,$20,$6F,$6E,$6C,$79,$20,$E1,$0D,$70
    db $6F,$77,$65,$72,$66,$75,$6C,$20,$11,$5A,$61,$6E,$74,$65,$74,$73
    db $75,$20,$53,$77,$6F,$72,$64,$20,$A7,$0D,$64,$65,$66,$65,$61,$74
    db $2E,$20,$11,$46,$69,$72,$73,$74,$20,$CB,$61,$6C,$6C,$2C,$20,$EA
    db $E2,$0D,$97,$63,$65,$72,$74,$61,$69,$6E,$20,$64,$6F,$6F,$72,$20
    db $E2,$B4,$0D,$FE,$69,$6E,$74,$6F,$20,$E1,$72,$6F,$6F,$6D,$2E,$20
    db $13,$A3,$BF
    LDA.W #$2F80
    TSB.W wButtonMask
    COP #$03
    db $02
    COP #$04
    COP #$34
    COP #$03
    db $29
    COP #$04
    COP #$01
    db $65,$BB
    COP #$03
    db $15
    COP #$04
    COP #$96
    COP #$80
    db $23
    COP #$82
    COP #$01
    db $88,$BB
    COP #$09
    db $00,$80
    COP #$05
    db $01,$00
    COP #$01
    db $8F,$BC
    COP #$09
    db $02,$80
    COP #$05
    db $03,$00
    COP #$80
    db $1F
    COP #$82
    COP #$01
    db $13,$BD
    COP #$09
    db $01,$88
    LDA.W #$2F80
    TRB.W wButtonMask
    COP #$3C
    db $04
    COP #$10
    db $0D,$02,$01,$90,$00,$A0,$00
    RTL
    db $10,$44,$72,$2E,$4C,$65,$6F,$2C,$20,$8A,$8D,$0D,$77,$69,$73,$68
    db $65,$73,$20,$E2,$DB,$FE,$61,$74,$20,$0D,$6F,$6E,$63,$65,$21,$20
    db $13,$A3,$BF,$10,$41,$72,$65,$20,$FE,$B1,$E2,$61,$6C,$6C,$6F,$77
    db $0D,$68,$69,$6D,$20,$E2,$6D,$61,$6B,$65,$20,$97,$64,$65,$61,$6C
    db $20,$0D,$F2,$44,$65,$61,$74,$68,$74,$6F,$6C,$6C,$3F,$20,$11,$8A
    db $8D,$6B,$6E,$6F,$77,$73,$20,$0D,$6E,$6F,$74,$68,$69,$6E,$67,$20
    db $99,$E1,$0D,$76,$61,$6C,$75,$65,$20,$CB,$B8,$6C,$69,$76,$65,$73
    db $21,$20,$11,$4E,$6F,$20,$6D,$61,$74,$74,$65,$72,$20,$68,$6F,$77
    db $20,$73,$6D,$61,$6C,$6C,$2C,$20,$0D,$9A,$AA,$B5,$97,$0D,$72,$69
    db $67,$68,$74,$20,$E2,$65,$78,$69,$73,$74,$20,$BB,$74,$68,$69,$73
    db $0D,$77,$6F,$72,$6C,$64,$2E,$20,$11,$89,$E1,$74,$72,$65,$65,$73
    db $20,$BB,$E4,$0D,$F6,$FD,$63,$75,$74,$20,$BB,$0D,$68,$61,$6C,$66
    db $2C,$20,$11,$E1,$6F,$78,$79,$67,$65,$6E,$20,$77,$6F,$75,$6C,$64
    db $20,$0D,$64,$65,$63,$72,$65,$61,$73,$65,$20,$96,$C7,$CB,$0D,$75
    db $73,$20,$77,$6F,$75,$6C,$64,$20,$64,$69,$65,$2E,$20,$11,$10,$57
    db $65,$20,$64,$6F,$20,$F5,$8A,$0D,$8D,$74,$65,$6C,$6C,$73,$20,$75
    db $73,$20,$E2,$0D,$64,$6F,$2E,$20,$11,$8A,$8D,$6D,$61,$6B,$65,$73
    db $20,$61,$6C,$6C,$0D,$CB,$E1,$64,$65,$63,$69,$73,$69,$6F,$6E,$73
    db $20,$AE,$0D,$75,$73,$2E,$20,$13,$A3,$BF,$10,$44,$72,$2E,$4C,$65
    db $6F,$2C,$20,$FE,$6C,$6F,$76,$65,$20,$79,$6F,$75,$72,$0D,$64,$61
    db $75,$67,$68,$74,$65,$72,$20,$4C,$69,$73,$61,$20,$64,$6F,$6E,$60
    db $E5,$0D,$79,$6F,$75,$3F,$20,$11,$89,$FE,$6F,$62,$65,$79,$2C,$20
    db $73,$68,$65,$20,$F1,$0D,$72,$65,$6D,$61,$69,$6E,$20,$73,$61,$66
    db $65,$2E,$20,$11,$57,$65,$20,$F1,$A1,$77,$61,$69,$74,$69,$6E,$67
    db $20,$66,$6F,$72,$0D,$FE,$6F,$75,$74,$73,$69,$64,$65,$20,$BB,$E1
    db $0D,$61,$69,$72,$73,$68,$69,$70,$2E,$20,$11,$84,$6F,$75,$74,$20
    db $F4,$FE,$98,$0D,$72,$65,$61,$64,$79,$2E,$20,$13,$A3,$BF,$10,$8F
    db $66,$6F,$72,$67,$69,$76,$65,$20,$6D,$65,$21,$20,$11,$91,$F6,$F1
    db $B3,$E2,$0D,$72,$75,$69,$6E,$20,$73,$6F,$6F,$6E,$65,$72,$20,$6F
    db $72,$20,$6C,$61,$74,$65,$72,$2E,$20,$11,$83,$88,$A7,$64,$6F,$20
    db $6E,$6F,$74,$68,$69,$6E,$67,$20,$0D,$6D,$6F,$72,$65,$2E,$20,$11
    db $4F,$68,$2C,$20,$4D,$61,$73,$74,$65,$72,$21,$20,$8F,$0D,$B7,$6D
    db $65,$2E,$20,$13,$A3,$BF
    COP #$05
    db $02,$00
    COP #$96
    COP #$81
    db $17,$04
    COP #$83
    COP #$81
    db $15,$05
    COP #$83
    COP #$09
    db $03,$80
    COP #$86
    RTL
    COP #$05
    db $00,$00
    BRK #$43
    COP #$81
    db $16,$04
    COP #$83
    COP #$97
    COP #$81
    db $17,$03
    COP #$83
    COP #$01
    db $BC,$BD
    COP #$03
    db $1F
    COP #$04
    COP #$09
    db $01,$80
    COP #$05
    db $02,$00
    COP #$96
    COP #$81
    db $17,$03
    COP #$83
    COP #$81
    db $15,$05
    COP #$83
    BRK #$43
    COP #$86
    RTL
    db $10,$48,$65,$79,$2C,$20,$69,$74,$60,$D7,$74,$69,$6D,$65,$20,$E2
    db $67,$6F,$2E,$20,$13,$A3,$BF
    COP #$14
    db $27,$01,$DA,$BD
    RTL
    JSL.L CODE_03B161
    COP #$17
    db $EE,$BD
    SEP #$20
    LDA.B #$04
    PHA
    REP #$20
    LDA.W #$A288
    PHA
    RTL
    %CopJumpIfEventFlagIsUnset($9D01, $BE00)
    COP #$01
    db $33,$BF
    COP #$38
    db $00,$03
    COP #$09
    db $01,$9D

CODE_04BE00:
    COP #$01
    db $59,$BF
    COP #$1A
    db $5B,$CF,$02,$22,$BE
    LDA.L $0003D0
    BEQ CODE_04BE22
    db $02,$01,$7D,$BF,$EE,$2D,$04,$02,$10,$0D,$01,$00,$88,$01,$90,$01
    db $6B

CODE_04BE22:
    COP #$01
    db $8B,$BF
    RTL
    COP #$14
    db $47,$01,$2E,$BE
    RTL
    JSL.L CODE_03B161
    COP #$17
    db $42,$BE
    SEP #$20
    LDA.B #$04
    PHA
    REP #$20
    LDA.W #$A288
    PHA
    RTL
    %CopJumpIfEventFlagIsUnset($9D02, $BE00)
    COP #$01
    db $33,$BF
    COP #$38
    db $00,$03
    COP #$09
    db $02,$9D
    BRL CODE_04BE00
    COP #$14
    db $30,$01,$5E,$BE
    RTL
    JSL.L CODE_03B161
    COP #$17
    db $72,$BE
    SEP #$20
    LDA.B #$04
    PHA
    REP #$20
    LDA.W #$A288
    PHA
    RTL
    %CopJumpIfEventFlagIsUnset($9D03, $BE00)
    COP #$01
    db $33,$BF
    COP #$38
    db $00,$03
    COP #$09
    db $03,$9D
    BRL CODE_04BE00
    COP #$14
    db $43,$01,$8E,$BE
    RTL
    %CopJumpIfEventFlagIsUnset($9B07, $BEF0)
    COP #$09
    db $07,$9B
    COP #$B2
    db $F3,$BE,$04,$00,$00,$00,$00,$00,$40
    COP #$B2
    db $F3,$BE,$04,$20,$00,$00,$00,$00,$40
    COP #$B2
    db $F3,$BE,$04,$40,$00,$00,$00,$00,$40
    COP #$B2
    db $F3,$BE,$04,$60,$00,$00,$00,$00,$40
    COP #$B2
    db $F3,$BE,$04,$00,$00,$40,$00,$00,$40
    COP #$B2
    db $F3,$BE,$04,$20,$00,$40,$00,$00,$40
    COP #$B2
    db $F3,$BE,$04,$40,$00,$40,$00,$00,$40
    COP #$B2
    db $F3,$BE,$04,$60,$00,$40,$00,$00,$40
    COP #$86
    RTL
    COP #$A8
    db $00,$80,$0E
    LDA.W $0005
    STA.W $001E,X
    STZ.W $0020,X
    LDA.W $0372
    STA.W $001C,X
    COP #$A4
    COP #$80
    db $05
    COP #$82
    COP #$81
    db $0A,$3C
    COP #$83
    db $02,$86,$6B
    %CopJumpIfItemIsNotEquipped(!itemIceArmor, CODE_04BF1D)
    RTL

CODE_04BF1D:
    LDA.W #$00F3
    JSL.L CODE_04F462
    BCS CODE_04BF2F
    LDA.W #$00E1
    JSL.L CODE_04F462
    BCC CODE_04BF32

CODE_04BF2F:
    COP #$39
    db $04

CODE_04BF32:
    RTL
    db $10,$88,$9D,$F7,$CE,$74,$68,$65,$0D,$77,$6F,$72,$6C,$64,$2E,$20
    db $8F,$E6,$0D,$74,$68,$69,$73,$2E,$20,$11,$02,$02,$20,$D4,$0D,$45
    db $58,$50,$2E,$20,$11,$0C,$10,$57,$6F,$75,$6C,$64,$20,$FE,$BE,$E2
    db $B3,$0D,$A0,$E2,$44,$72,$2E,$4C,$65,$6F,$60,$D7,$0D,$4C,$61,$62
    db $6F,$72,$61,$74,$6F,$72,$79,$3F,$20,$0C,$47,$6F,$6F,$64,$20,$6C
    db $75,$63,$6B,$2E,$20,$13,$A3,$BF,$84,$A0,$E2,$C3,$F4,$0D,$FE,$77
    db $69,$73,$68,$20,$E2,$72,$65,$74,$75,$72,$6E,$2E,$20,$13,$A3,$BF
    db $12,$08,$08,$04,$0C
    COP #$14
    db $59,$01,$AF,$BF
    RTL
    COP #$30
    db $59,$01,$C9,$BF,$04
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $C4,$BF
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $DD,$BF
    RTL
    COP #$18
    db $06,$D1,$BF

CODE_04BFCE:
    COP #$86
    RTL
    COP #$01
    db $D7,$BF
    BRA CODE_04BFCE
    db $10,$0E,$3C,$13,$DE,$BF,$10,$93,$98,$C7,$0D,$67,$68,$6F,$73,$74
    db $73,$20,$BB,$E1,$74,$6F,$72,$74,$75,$72,$65,$20,$0D,$72,$6F,$6F
    db $6D,$20,$CB,$E1,$62,$61,$73,$65,$6D,$65,$6E,$74,$2E,$20,$11,$46
    db $69,$72,$73,$74,$2C,$20,$0D,$6C,$6F,$6F,$6B,$20,$AE,$E1,$53,$70
    db $69,$72,$69,$74,$20,$0D,$53,$77,$6F,$72,$64,$2E,$20,$13,$DF,$F0
    COP #$14
    db $5A,$01,$2E,$C0
    RTL
    %CopJumpIfEventFlagIsUnset($8806, $C042)
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $4B,$C0
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$17
    db $54,$C0
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $59,$C0
    COP #$09
    db $06,$88
    RTL
    db $02,$01,$AC,$C0,$6B,$10,$4D,$79,$20,$75,$6E,$63,$6C,$65,$20,$BA
    db $0D,$E1,$66,$61,$6D,$6F,$75,$73,$20,$61,$72,$63,$68,$69,$74,$65
    db $63,$74,$20,$0D,$47,$61,$75,$64,$69,$2E,$20,$11,$88,$BD,$97,$62
    db $69,$74,$20,$99,$0D,$61,$72,$63,$68,$69,$74,$65,$63,$74,$75,$72
    db $65,$2E,$20,$0D,$88,$F1,$73,$68,$6F,$77,$20,$FE,$0D,$D8,$6C,$61
    db $74,$65,$72,$2E,$20,$13,$DF,$F0,$10,$57,$68,$61,$74,$20,$64,$6F
    db $20,$FE,$E8,$0D,$99,$E1,$77,$61,$6C,$6C,$3F,$20,$0D,$88,$9D,$6B
    db $6E,$6F,$77,$6E,$20,$61,$73,$20,$97,$0D,$3C,$73,$70,$65,$65,$64
    db $3E,$20,$61,$72,$63,$68,$69,$74,$65,$63,$74,$2E,$20,$13,$DF,$F0
    RTL
    COP #$14
    db $5F,$01,$EC,$C0
    RTL
    COP #$30
    db $5F,$01,$11,$C1,$04
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $01,$C1
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$14
    db $95,$01,$0C,$C1
    COP #$01
    db $94,$C1
    RTL
    db $02,$01,$F2,$C1,$6B
    COP #$01
    db $18,$C1
    COP #$86
    RTL
    db $10,$0E,$3C,$94,$FE,$EE,$6D,$75,$63,$68,$2E,$20,$11,$93,$98,$C7
    db $74,$68,$6F,$72,$6E,$73,$20,$0D,$BB,$E1,$62,$61,$73,$65,$6D,$65
    db $6E,$74,$2E,$20,$11,$89,$FE,$66,$72,$65,$65,$20,$E1,$0D,$73,$6F
    db $6C,$64,$69,$65,$72,$20,$72,$69,$67,$68,$74,$20,$BB,$66,$72,$6F
    db $6E,$74,$0D,$CB,$77,$68,$65,$72,$65,$20,$88,$B5,$62,$65,$65,$6E
    db $20,$0D,$63,$61,$70,$74,$75,$72,$65,$64,$2C,$20,$11,$FE,$F1,$72
    db $65,$63,$65,$69,$76,$65,$20,$0D,$E1,$45,$6C,$65,$6D,$65,$6E,$74
    db $61,$6C,$20,$4D,$61,$69,$6C,$2E,$20,$13,$DF,$F0,$10,$92,$BA,$8A
    db $4D,$61,$67,$72,$69,$64,$64,$60,$73,$0D,$43,$61,$73,$74,$6C,$65
    db $2E,$20,$11,$91,$8A,$BA,$E1,$0D,$67,$72,$65,$61,$74,$65,$73,$74
    db $20,$6D,$61,$6E,$20,$BB,$E1,$0D,$77,$6F,$72,$6C,$64,$2E,$20,$11
    db $0A,$49,$40,$6D,$75,$73,$74,$40,$73,$61,$79,$40,$74,$68,$61,$74
    db $40,$6F,$72,$0D,$49,$40,$77,$69,$6C,$6C,$40,$62,$65,$40,$70,$75
    db $6E,$69,$73,$68,$65,$64,$2E,$13,$DF,$F0,$10,$92,$BA,$E1,$43,$61
    db $73,$74,$6C,$65,$20,$CB,$0D,$8A,$4D,$61,$67,$72,$69,$64,$64,$2E
    db $20,$11,$91,$8A,$BA,$E1,$0D,$67,$72,$65,$61,$74,$65,$73,$74,$20
    db $6D,$61,$6E,$20,$BB,$E1,$0D,$77,$6F,$72,$6C,$64,$2E,$20,$11,$88
    db $64,$6F,$6E,$60,$E5,$B5,$E2,$73,$61,$79,$20,$0D,$E3,$61,$6E,$79
    db $6D,$6F,$72,$65,$2C,$20,$A3,$0D,$E1,$8A,$D5,$64,$69,$64,$20,$0D
    db $62,$65,$63,$6F,$6D,$65,$20,$97,$B2,$6D,$61,$6E,$2E,$20,$13,$DF
    db $F0
    COP #$14
    db $61,$01,$60,$C2
    RTL
    COP #$85
    db $9D,$A9,$00
    %CopJumpIfEventFlagIsUnset($8804, $C2AE)
    COP #$17
    db $BC,$C2
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$02,$1F,$7B,$C2
    RTL
    %CopJumpIfEventFlagIsUnset($0803, $C2B9)
    COP #$17
    db $00,$00
    LDA.W #$2F80
    TSB.W wButtonMask
    COP #$03
    db $1F
    COP #$04
    COP #$80
    db $2C
    COP #$82
    COP #$2B
    db $F0,$FF,$00,$00
    COP #$01
    db $16,$C3
    BRK #$5E
    COP #$0A
    db $0F
    COP #$09
    db $04,$88
    LDA.W #$2F80
    TRB.W wButtonMask
    COP #$80
    db $12
    COP #$82
    COP #$17
    db $DD,$C2
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    %CopJumpIfEventFlagIsUnset($8804, $C2DD)
    %CopJumpIfItemIsNotEquipped(!itemDreamRod, CODE_04C2D8)
    COP #$01
    db $EB,$C2
    COP #$3C
    db $04
    COP #$10
    db $13,$03,$01,$50,$01,$A0,$01
    RTL

CODE_04C2D8:
    COP #$01
    db $E2,$C2
    RTL

    COP #$01
    db $E7,$C3
    db $6B,$10,$5A,$7A,$7A,$7A,$20,$13,$DF,$F0,$10,$02
    db $02,$20,$70,$6C,$61,$63,$65,$64,$20,$E1,$0D,$85,$52,$6F,$64,$20
    db $75,$70,$6F,$6E,$20,$E1,$0D,$73,$6F,$6C,$64,$69,$65,$72,$60,$D7
    db $68,$65,$61,$64,$2E,$20,$13,$DF,$F0,$10,$4F,$6F,$70,$73,$21,$20
    db $88,$F3,$73,$6C,$65,$65,$70,$69,$6E,$67,$2E,$20,$11,$4C,$61,$74
    db $65,$6C,$79,$20,$88,$B5,$62,$65,$65,$6E,$20,$0D,$68,$61,$76,$69
    db $6E,$67,$20,$E1,$73,$61,$6D,$65,$20,$64,$72,$65,$61,$6D,$20,$0D
    db $61,$73,$20,$44,$72,$2E,$4C,$65,$6F,$2E,$20,$11,$89,$88,$77,$6F
    db $75,$6C,$64,$20,$B5,$0D,$D6,$44,$72,$2E,$4C,$65,$6F,$2C,$20,$0D
    db $E1,$F6,$77,$6F,$75,$6C,$64,$20,$CA,$62,$65,$0D,$BE,$74,$68,$69
    db $73,$2E,$20,$11,$88,$64,$6F,$6E,$60,$E5,$BD,$FB,$E2,$0D,$6F,$62
    db $65,$79,$20,$61,$6E,$79,$6D,$6F,$72,$65,$21,$20,$11,$93,$98,$C7
    db $74,$68,$6F,$72,$6E,$73,$20,$0D,$BB,$E1,$A4,$CB,$0D,$8D,$43,$61
    db $73,$74,$6C,$65,$2E,$20,$11,$95,$6D,$75,$73,$74,$20,$E6,$E4,$0D
    db $61,$72,$6D,$6F,$72,$20,$F2,$79,$6F,$75,$2E,$20,$11,$02,$02,$20
    db $D4,$0D,$03,$24,$E1,$45,$6C,$65,$6D,$65,$6E,$74,$61,$6C,$20,$4D
    db $61,$69,$6C,$2E,$20,$03,$20,$13,$DF,$F0,$10,$88,$B5,$97,$66,$65
    db $65,$6C,$69,$6E,$67,$20,$E3,$0D,$FE,$F1,$63,$68,$61,$6E,$67,$65
    db $20,$E1,$0D,$77,$6F,$72,$6C,$64,$2E,$20,$0D,$47,$6F,$6F,$64,$20
    db $6C,$75,$63,$6B,$21,$20,$13,$DF,$F0
    COP #$14
    db $62,$01,$1D,$C4
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $C5,$C4

CODE_04C426:
    COP #$97
    COP #$81
    db $17,$08
    COP #$83
    COP #$03
    db $1F
    COP #$04
    COP #$80
    db $13
    COP #$82
    COP #$03
    db $1F
    COP #$04
    COP #$80
    db $14
    COP #$82
    COP #$03
    db $1F
    COP #$04
    COP #$80
    db $12
    COP #$82
    COP #$03
    db $1F
    COP #$04
    COP #$81
    db $15,$0B
    COP #$83
    COP #$03
    db $1F
    COP #$04
    COP #$80
    db $14
    COP #$82
    COP #$03
    db $1F
    COP #$04
    COP #$80
    db $12
    COP #$82
    COP #$03
    db $1F
    COP #$04
    COP #$96
    COP #$80
    db $14
    COP #$82
    COP #$03
    db $1F
    COP #$04
    COP #$81
    db $17,$10
    COP #$83
    COP #$03
    db $1F
    COP #$04
    COP #$80
    db $13
    COP #$82
    COP #$03
    db $1F
    COP #$04
    COP #$81
    db $16,$0B
    COP #$83
    COP #$03
    db $1F
    COP #$04
    COP #$80
    db $14
    COP #$82
    COP #$03
    db $1F
    COP #$04
    COP #$80
    db $13
    COP #$82
    COP #$03
    db $1F
    COP #$04
    COP #$97
    COP #$80
    db $14
    COP #$82
    COP #$03
    db $1F
    COP #$04
    COP #$81
    db $17,$08
    COP #$83
    BRL CODE_04C426
    COP #$01
    db $CA,$C4
    RTL
    db $10,$88,$9D,$67,$75,$61,$72,$64,$69,$6E,$67,$20,$0D,$E1,$63,$61
    db $73,$74,$6C,$65,$2E,$20,$0D,$44,$6F,$6E,$60,$E5,$EA,$E2,$6D,$65
    db $2E,$20,$13,$DF,$F0
    COP #$14
    db $66,$01,$F6,$C4
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $04,$C5
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$14
    db $95,$01,$0F,$C5
    COP #$01
    db $14,$C5
    RTL
    db $02,$01,$75,$C5,$6B,$10,$92,$BA,$8A,$0D,$4D,$61,$67,$72,$69,$64
    db $64,$60,$D7,$43,$61,$73,$74,$6C,$65,$2E,$20,$11,$4F,$75,$72,$20
    db $8A,$BA,$E1,$0D,$67,$72,$65,$61,$74,$65,$73,$74,$20,$6D,$61,$6E
    db $20,$BB,$E1,$0D,$77,$6F,$72,$6C,$64,$2E,$20,$11,$0A,$49,$40,$6D
    db $75,$73,$74,$40,$73,$61,$79,$40,$74,$68,$69,$73,$40,$6F,$72,$0D
    db $49,$40,$77,$69,$6C,$6C,$40,$62,$65,$40,$70,$75,$6E,$69,$73,$68
    db $65,$64,$2E,$13,$DF,$F0,$10,$88,$E8,$68,$65,$20,$BA,$BB,$73,$68
    db $6F,$63,$6B,$0D,$9E,$6C,$6F,$73,$69,$6E,$67,$20,$E1,$0D,$51,$75
    db $65,$65,$6E,$2E,$20,$13,$DF,$F0
    COP #$14
    db $67,$01,$9E,$C5
    RTL
    COP #$30
    db $67,$01,$15,$C6,$04
    COP #$17
    db $CB,$C5
    %CopMakeNpcUnpassable()
    COP #$80
    db $1B
    COP #$82
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$80
    db $1C
    COP #$82
    COP #$31
    db $12
    COP #$03
    db $79
    COP #$04
    COP #$09
    db $01,$80

CODE_04C5C4:
    COP #$80
    db $1D
    COP #$82
    BRA CODE_04C5C4
    %CopJumpIfEventFlagIsUnset($8703, $C5FF)

    %CopJumpIfItemIsNotEquipped(!itemHarpString, CODE_04C610)
    COP #$01
    db $0A,$C8
    COP #$1A
    db $02,$CF,$02,$FA,$C5
    LDA.L $0003D0
    BNE CODE_04C5FA
    COP #$09
    db $03,$87
    COP #$01
    db $4C,$C8
    COP #$0B
    db $1A
    COP #$17
    db $0B,$C6
    COP #$27
    db $B3,$C5

CODE_04C5FA:
    db $02,$01,$71,$C8,$6B
    COP #$01
    db $76,$C6
    COP #$17
    db $0B,$C6
    COP #$27
    db $B3,$C5,$02,$01,$9E,$C7,$6B

CODE_04C610:
    COP #$01
    db $DE,$C7
    RTL

    COP #$01
    db $1C,$C6
    COP #$86
    RTL
    db $10,$0E,$3C,$81,$73,$61,$64,$20,$73,$6F,$75,$6E,$64,$69,$6E,$67
    db $20,$F0,$0D,$BA,$63,$6F,$6D,$69,$6E,$67,$20,$AD,$E1,$0D,$74,$68
    db $65,$61,$74,$65,$72,$2E,$20,$11,$4F,$68,$2C,$20,$F5,$A7,$88,$64
    db $6F,$3F,$20,$0D,$88,$63,$61,$6E,$60,$E5,$70,$6C,$61,$79,$20,$97
    db $68,$61,$72,$70,$20,$0D,$77,$69,$74,$68,$6F,$75,$74,$20,$73,$74
    db $72,$69,$6E,$67,$73,$2E,$20,$13,$DF,$F0,$10,$94,$FE,$EE,$0D,$6D
    db $75,$63,$68,$20,$AE,$63,$6F,$6D,$69,$6E,$67,$2E,$20,$11,$42,$65
    db $66,$6F,$72,$65,$20,$88,$70,$6C,$61,$79,$20,$73,$6F,$6D,$65,$20
    db $0D,$6D,$75,$73,$69,$63,$20,$6C,$65,$74,$20,$C3,$E7,$FE,$0D,$C2
    db $73,$74,$6F,$72,$79,$2E,$20,$11,$88,$66,$65,$6C,$6C,$20,$BB,$6C
    db $6F,$76,$65,$20,$BC,$0D,$6F,$6E,$63,$65,$20,$BB,$C2,$32,$34,$20
    db $79,$65,$61,$72,$73,$2E,$20,$11,$49,$74,$20,$F3,$F4,$88,$76,$69
    db $73,$69,$74,$65,$64,$20,$0D,$97,$6D,$69,$6E,$65,$20,$74,$6F,$77
    db $6E,$2C,$20,$0D,$47,$72,$61,$73,$73,$20,$56,$61,$6C,$6C,$65,$79
    db $2E,$20,$11,$57,$68,$65,$6E,$20,$88,$F3,$69,$6E,$6A,$75,$72,$65
    db $64,$2C,$20,$0D,$E9,$F3,$97,$67,$69,$72,$6C,$20,$FB,$0D,$74,$6F
    db $6F,$6B,$20,$63,$61,$72,$65,$20,$CB,$6D,$65,$2E,$20,$11,$88,$63
    db $6F,$75,$6C,$64,$6E,$60,$E5,$E7,$68,$65,$72,$20,$0D,$C2,$74,$72
    db $75,$65,$20,$66,$65,$65,$6C,$69,$6E,$67,$73,$20,$0D,$74,$68,$6F
    db $75,$67,$68,$2E,$2E,$2E,$2E,$2E,$2E,$2E,$2E,$20,$11,$91,$67,$69
    db $72,$6C,$60,$D7,$6E,$61,$6D,$65,$20,$F3,$0D,$D8,$BE,$4C,$69,$73
    db $61,$2E,$20,$11,$91,$6D,$75,$73,$69,$63,$20,$88,$9D,$B1,$0D,$E2
    db $70,$6C,$61,$79,$20,$6E,$6F,$77,$20,$BA,$97,$73,$6F,$6E,$67,$20
    db $0D,$E3,$88,$77,$72,$6F,$74,$65,$20,$AE,$68,$65,$72,$2E,$20,$13
    db $DF,$F0,$10,$93,$98,$6E,$6F,$20,$77,$6F,$72,$64,$73,$2E,$20,$11
    db $88,$68,$6F,$70,$65,$20,$73,$6F,$6D,$65,$64,$61,$79,$20,$73,$6F
    db $6D,$65,$6F,$6E,$65,$0D,$F1,$A1,$61,$62,$6C,$65,$20,$E2,$D0,$0D
    db $77,$6F,$72,$64,$73,$20,$E2,$C2,$6D,$75,$73,$69,$63,$2E,$20,$13
    db $DF,$F0,$10,$88,$F8,$E2,$70,$6C,$61,$79,$20,$6D,$75,$73,$69,$63
    db $2C,$20,$0D,$A2,$E1,$68,$61,$72,$70,$20,$73,$74,$72,$69,$6E,$67
    db $20,$0D,$BA,$62,$72,$6F,$6B,$65,$6E,$2E,$20,$13,$DF,$F0,$10,$4F
    db $68,$21,$20,$0D,$54,$68,$61,$74,$20,$BA,$97,$68,$61,$72,$70,$20
    db $73,$74,$72,$69,$6E,$67,$2E,$11,$88,$70,$72,$6F,$6D,$69,$73,$65
    db $20,$E2,$ED,$69,$74,$20,$0D,$63,$61,$72,$65,$66,$75,$6C,$6C,$79
    db $20,$69,$66,$20,$FE,$B0,$0D,$69,$74,$20,$E2,$6D,$65,$2E,$20,$0C
    db $94,$FE,$EE,$6D,$75,$63,$68,$2E,$20,$0D,$8F,$73,$69,$74,$20,$96
    db $0D,$6C,$69,$73,$74,$65,$6E,$20,$E2,$C2,$6D,$75,$73,$69,$63,$2E
    db $20,$11,$13,$77,$C6,$49,$74,$20,$73,$65,$65,$6D,$73,$20,$69,$6D
    db $70,$6F,$72,$74,$61,$6E,$74,$20,$0D,$E2,$79,$6F,$75,$2E,$20,$13
    db $DF,$F0
    COP #$3B
    db $68,$01,$A4,$C8,$02,$17,$9E,$A2,$E2,$20,$A9,$00,$48,$C2,$20,$A9
    db $5E,$B0,$48,$6B
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $B2,$C8
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$14
    db $95,$01,$BD,$C8
    COP #$01
    db $C2,$C8
    RTL
    db $02,$01,$04,$C9,$6B,$10,$4F,$6E,$65,$20,$CB,$E1,$73,$6F,$6C,$64
    db $69,$65,$72,$73,$20,$0D,$62,$65,$74,$72,$61,$79,$65,$64,$20,$E1
    db $4B,$69,$6E,$67,$21,$20,$0D,$48,$65,$20,$BA,$74,$72,$79,$69,$6E
    db $67,$20,$E2,$0D,$65,$73,$63,$61,$70,$65,$20,$F2,$44,$72,$2E,$4C
    db $65,$6F,$2E,$20,$13,$DF,$F0,$10,$91,$51,$75,$65,$65,$6E,$20,$70
    db $61,$73,$73,$65,$64,$20,$61,$77,$61,$79,$3F,$11,$8A,$8D,$6D,$75
    db $73,$74,$20,$A1,$0D,$BB,$73,$68,$6F,$63,$6B,$21,$20,$11,$48,$65
    db $20,$64,$69,$64,$20,$AC,$68,$65,$20,$0D,$AB,$E2,$73,$61,$76,$65
    db $20,$E1,$0D,$51,$75,$65,$65,$6E,$2E,$20,$13,$DF,$F0
    COP #$14
    db $7F,$01,$51,$C9
    RTL
    COP #$30
    db $7F,$01,$D1,$C9,$04
    %CopJumpIfEventFlagIsUnset($8805, $C978)
    COP #$17
    db $9F,$C9
    %CopMakeNpcUnpassable()

CODE_04C964:
    %CopJumpIfEventFlagIsUnset($8000, $C971)
    COP #$80
    db $0C
    COP #$82
    BRA CODE_04C964
    COP #$80
    db $0D
    COP #$82
    BRA CODE_04C964
    LDA.W $0016,X
    ORA.W #$2000
    STA.W $0016,X
    COP #$18
    db $37,$89,$C9
    COP #$86
    RTL
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$36,$17,$93,$C9
    RTL
    COP #$01
    db $B6,$CA
    BRK #$5E
    COP #$0A
    db $37
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$18
    db $29,$A9,$C9,$02,$01,$76,$CA,$6B
    COP #$01
    db $21,$CA
    COP #$1A
    db $02,$CF,$02,$C8,$C9
    LDA.L $0003D0
    BNE CODE_04C9C8
    COP #$01
    db $47,$CA
    BRK #$5E
    COP #$0A
    db $29
    COP #$09
    db $00,$00
    RTL

CODE_04C9C8:
    COP #$01
    db $A8,$CA
    COP #$09
    db $00,$80
    RTL
    COP #$01
    db $D8,$C9
    COP #$86
    RTL
    db $10,$0E,$3C,$88,$64,$6F,$20,$CA,$BD,$FB,$FE,$0D,$61,$72,$65,$2C
    db $20,$A2,$74,$68,$61,$6E,$6B,$20,$FE,$0D,$EE,$6D,$75,$63,$68,$20
    db $AE,$0D,$72,$65,$6C,$65,$61,$73,$69,$6E,$67,$20,$6D,$65,$2E,$20
    db $11,$88,$F1,$B0,$FE,$97,$67,$69,$66,$74,$0D,$69,$66,$20,$FE,$A6
    db $62,$61,$63,$6B,$2E,$20,$13,$DF,$F0,$10,$88,$9D,$E1,$77,$69,$66
    db $65,$20,$CB,$8A,$0D,$4D,$61,$67,$72,$69,$64,$64,$2E,$20,$44,$6F
    db $20,$FE,$E8,$0D,$88,$9D,$70,$72,$65,$74,$74,$79,$3F,$20,$0C,$92
    db $BA,$C2,$70,$72,$65,$73,$65,$6E,$74,$20,$E2,$0D,$79,$6F,$75,$2E
    db $20,$11,$91,$51,$75,$65,$65,$6E,$20,$D0,$0D,$D8,$BB,$0D,$02,$02
    db $60,$53,$20,$70,$6F,$63,$6B,$65,$74,$2E,$20,$13,$DF,$F0,$10,$44
    db $6F,$20,$FE,$BE,$69,$74,$3F,$20,$0D,$95,$6D,$61,$79,$20,$B3,$77
    db $68,$65,$72,$65,$76,$65,$72,$20,$0D,$FE,$F8,$77,$69,$74,$68,$69
    db $6E,$20,$E1,$0D,$8D,$43,$61,$73,$74,$6C,$65,$2E,$20,$13,$DF,$F0
    db $10,$2E,$2E,$2E,$2E,$2E,$2E,$2E,$2E,$2E,$20,$13,$DF,$F0,$10,$02
    db $02,$20,$AF,$03,$24,$E1,$0D,$49,$6E,$76,$75,$6C,$6E,$65,$72,$61
    db $62,$6C,$65,$20,$42,$72,$61,$63,$65,$6C,$65,$74,$20,$0D,$03,$20
    db $77,$68,$65,$72,$65,$20,$E1,$51,$75,$65,$65,$6E,$20,$F3,$0D,$73
    db $74,$61,$6E,$64,$69,$6E,$67,$2E,$20,$13,$DF,$F0
    COP #$14
    db $6D,$01,$FB,$CA
    RTL
    %CopJumpIfEventFlagIsUnset($8805, $CB29)
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $2C,$CB
    %CopMakeNpcUnpassable()
    COP #$05
    db $07,$06
    COP #$17
    db $3F,$CB
    COP #$16
    COP #$96
    COP #$80
    db $17
    COP #$82
    COP #$97
    COP #$80
    db $14
    COP #$82
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$86
    RTL
    %CopJumpIfItemIsNotEquipped(!itemPlatinumCard, CODE_04CB3A)
    COP #$01
    db $98,$CB
    COP #$09
    db $07,$86
    RTL

CODE_04CB3A:
    COP #$01
    db $44,$CB
    RTL
    COP #$01
    db $94,$CB
    RTL
    db $10,$91,$74,$6F,$70,$20,$66,$6C,$6F,$6F,$72,$20,$CB,$E4,$0D,$74
    db $6F,$77,$65,$72,$20,$BA,$97,$70,$72,$69,$73,$6F,$6E,$2E,$20,$11
    db $41,$6E,$79,$6F,$6E,$65,$20,$FB,$64,$6F,$65,$73,$20,$CA,$0D,$B5
    db $E1,$50,$6C,$61,$74,$69,$6E,$75,$6D,$20,$43,$61,$72,$64,$0D,$63
    db $61,$6E,$6E,$6F,$74,$20,$65,$6E,$74,$65,$72,$2E,$20,$13,$DF,$F0
    db $10,$13,$BB,$CB,$10,$4F,$68,$2C,$20,$E3,$BA,$E1,$0D,$50,$6C,$61
    db $74,$69,$6E,$75,$6D,$20,$43,$61,$72,$64,$2C,$20,$88,$9D,$0D,$73
    db $6F,$72,$72,$79,$2E,$20,$11,$8F,$B3,$69,$6E,$73,$69,$64,$65,$2E
    db $20,$13,$DF,$F0
    COP #$3B
    db $70,$01,$DE,$CB,$02,$17,$9E,$A2,$E2,$20,$A9,$00,$48,$C2,$20,$A9
    db $5E,$B0,$48,$6B
    COP #$85
    db $9D,$A9,$00
    %CopJumpIfEventFlagIsUnset($8805, $CC20)
    COP #$17
    db $23,$CC
    COP #$18
    db $28,$F8,$CB
    COP #$17
    db $2D,$CC
    BRA CODE_04CBFF
    COP #$B0
    db $32,$CC,$04,$00,$20

CODE_04CBFF:
    %CopMakeNpcUnpassable()
    COP #$05
    db $01,$00
    COP #$16
    COP #$17
    db $00,$00
    COP #$81
    db $17,$02
    COP #$83
    COP #$81
    db $16,$03
    COP #$83
    COP #$17
    db $28,$CC
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$86
    RTL
    db $02,$01,$48,$CC,$6B,$02,$01,$DF,$CC,$6B,$02,$01,$1B,$CD,$6B
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$0B,$30,$3C,$CC
    RTL
    COP #$01
    db $45,$CD
    BRK #$5E
    COP #$0A
    db $28
    COP #$86
    RTL
    db $10,$88,$9D,$97,$67,$75,$61,$72,$64,$2E,$20,$0D,$83,$88,$9D,$74
    db $69,$72,$65,$64,$20,$CB,$C2,$0D,$6A,$6F,$62,$2E,$20,$0D,$88,$A9
    db $B9,$E2,$72,$65,$6C,$61,$78,$2E,$20,$11,$0F,$57,$68,$69,$6C,$65
    db $20,$6C,$69,$73,$74,$65,$6E,$69,$6E,$67,$20,$E2,$74,$68,$65,$0D
    db $67,$75,$61,$72,$64,$2C,$20,$02,$02,$20,$73,$65,$65,$73,$20,$61
    db $0D,$63,$61,$72,$64,$20,$75,$6E,$64,$65,$72,$20,$E1,$67,$75,$61
    db $72,$64,$60,$73,$0D,$66,$65,$65,$74,$2E,$20,$11,$83,$02,$02,$20
    db $63,$61,$6E,$60,$E5,$0D,$B4,$69,$74,$20,$A3,$E1,$0D,$67,$75,$61
    db $72,$64,$20,$BA,$73,$74,$61,$6E,$64,$69,$6E,$67,$20,$CD,$0D,$69
    db $74,$2E,$20,$0F,$13,$DF,$F0,$10,$88,$6C,$6F,$76,$65,$20,$6C,$69
    db $73,$74,$65,$6E,$69,$6E,$67,$20,$E2,$0D,$6D,$75,$73,$69,$63,$20
    db $AD,$E1,$66,$72,$6F,$6E,$74,$20,$0D,$72,$6F,$77,$2E,$20,$11,$8F
    db $64,$6F,$20,$CA,$62,$6F,$74,$68,$65,$72,$20,$0D,$6D,$65,$2E,$20
    db $13,$DF,$F0,$10,$88,$9D,$97,$67,$75,$61,$72,$64,$2C,$20,$0D,$88
    db $9D,$74,$69,$72,$65,$64,$20,$CB,$C2,$6A,$6F,$62,$2E,$20,$0D,$88
    db $A9,$B9,$E2,$72,$65,$6C,$61,$78,$2E,$20,$13,$DF,$F0,$10,$02,$02
    db $20,$AF,$0D,$03,$24,$97,$63,$61,$72,$64,$2E,$20,$03,$20,$13,$DF
    db $F0
    COP #$14
    db $72,$01,$60,$CD
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $6E,$CD
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    db $02,$01,$73,$CD,$6B,$10,$88,$B5,$97,$66,$72,$69,$65,$6E,$64,$20
    db $FB,$0D,$6F,$6E,$63,$65,$20,$64,$69,$73,$6F,$62,$65,$79,$65,$64
    db $20,$8A,$0D,$4D,$61,$67,$72,$69,$64,$64,$2E,$20,$48,$65,$20,$77
    db $61,$6E,$74,$65,$64,$20,$E2,$0D,$73,$61,$76,$65,$20,$44,$72,$2E
    db $4C,$65,$6F,$2E,$20,$11,$48,$65,$20,$F3,$74,$61,$6B,$65,$6E,$20
    db $E2,$E1,$0D,$74,$6F,$72,$74,$75,$72,$65,$20,$72,$6F,$6F,$6D,$20
    db $BB,$E1,$0D,$66,$69,$72,$73,$74,$20,$A4,$96,$0D,$6E,$65,$76,$65
    db $72,$20,$A9,$62,$61,$63,$6B,$2E,$20,$11,$3C,$92,$68,$61,$72,$70
    db $20,$73,$74,$72,$69,$6E,$67,$20,$BA,$61,$0D,$62,$69,$72,$74,$68
    db $64,$61,$79,$20,$70,$72,$65,$73,$65,$6E,$74,$20,$AD,$0D,$C2,$66
    db $72,$69,$65,$6E,$64,$2E,$20,$11,$88,$9D,$61,$62,$6C,$65,$20,$E2
    db $70,$6C,$61,$79,$20,$0D,$67,$72,$65,$61,$74,$20,$6D,$75,$73,$69
    db $63,$20,$F2,$E4,$0D,$73,$74,$72,$69,$6E,$67,$2E,$3E,$20,$11,$48
    db $65,$20,$9F,$74,$6F,$6C,$64,$20,$C3,$88,$0D,$63,$6F,$75,$6C,$64
    db $2E,$20,$13,$DF,$F0
    COP #$14
    db $87,$01,$5A,$CE
    RTL

CODE_04CE5A:
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$39,$2F,$70,$CE
    RTL

CODE_04CE64:
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$39,$2F,$6F,$CE
    BRA CODE_04CE5A
    RTL
    COP #$01
    db $9D,$CE
    COP #$1A
    db $02,$CF,$02,$97,$CE
    LDA.L $0003D0
    BNE UNREACH_04CE97
    COP #$18
    db $38,$8C,$CE,$02,$01,$0E,$CF,$80,$D8
    COP #$01
    db $B9,$CE
    BRK #$5E
    COP #$0A
    db $38
    BRA CODE_04CE64

UNREACH_04CE97:
    db $02,$01,$27,$CF,$80,$C7,$10,$95,$F8,$4D,$65,$64,$69,$63,$61,$6C
    db $20,$48,$65,$72,$62,$73,$0D,$64,$6F,$6E,$60,$E5,$79,$6F,$75,$3F
    db $20,$0C,$10,$53,$65,$65,$3F,$20,$0D,$88,$B5,$E1,$61,$62,$69,$6C
    db $69,$74,$79,$20,$E2,$0D,$72,$65,$61,$64,$20,$70,$65,$6F,$70,$6C
    db $65,$73,$60,$20,$6D,$69,$6E,$64,$73,$2E,$20,$11,$48,$65,$72,$65
    db $20,$88,$F1,$B0,$FE,$0D,$6F,$6E,$65,$2E,$20,$11,$02,$02,$20,$D4
    db $0D,$03,$24,$97,$4D,$65,$64,$69,$63,$61,$6C,$20,$48,$65,$72,$62
    db $2E,$20,$03,$20,$13,$DF,$F0,$10,$48,$65,$79,$2C,$20,$FE,$61,$6C
    db $72,$65,$61,$64,$79,$20,$B5,$0D,$6F,$6E,$65,$2E,$20,$13,$DF,$F0
    db $10,$4F,$68,$2C,$20,$88,$67,$75,$65,$73,$73,$20,$C2,$61,$62,$69
    db $6C,$69,$74,$79,$0D,$BA,$CA,$70,$65,$72,$66,$65,$63,$74,$2E,$20
    db $13,$DF,$F0
    COP #$3B
    db $7E,$01,$60,$CF,$02,$17,$9E,$A2,$E2,$20,$A9,$00,$48,$C2,$20,$A9
    db $5E,$B0,$48,$6B
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $6E,$CF
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $73,$CF
    RTL
    db $10,$4D,$75,$73,$69,$63,$20,$BA,$D5,$0D,$73,$74,$72,$61,$6E,$67
    db $65,$2E,$20,$11,$91,$73,$61,$6D,$65,$20,$6D,$75,$73,$69,$63,$20
    db $0D,$73,$6F,$6D,$65,$74,$69,$6D,$65,$73,$20,$73,$6F,$75,$6E,$64
    db $73,$20,$EE,$0D,$77,$6F,$6E,$64,$65,$72,$66,$75,$6C,$20,$F4,$88
    db $9D,$0D,$68,$61,$70,$70,$79,$20,$11,$96,$73,$61,$64,$20,$F4,$88
    db $9D,$0D,$64,$65,$70,$72,$65,$73,$73,$65,$64,$2E,$20,$13,$DF,$F0
    COP #$14
    db $6B,$01,$DA,$CF
    RTL
    COP #$14
    db $85,$01,$E9,$CF
    COP #$17
    db $15,$D0
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$A1
    db $10,$00,$30,$00
    COP #$17
    db $1A,$D0
    COP #$96
    COP #$80
    db $0E
    COP #$82
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$1C,$33,$06,$D0
    RTL
    COP #$03
    db $05
    COP #$04
    COP #$97
    COP #$80
    db $0E
    COP #$82
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $1F,$D0
    RTL
    COP #$01
    db $53,$D0
    RTL
    db $10,$92,$BA,$E1,$0D,$73,$6F,$6C,$64,$69,$65,$72,$73,$60,$20,$64
    db $6F,$72,$6D,$69,$74,$6F,$72,$79,$2E,$20,$11,$88,$9D,$74,$61,$6B
    db $69,$6E,$67,$20,$63,$61,$72,$65,$20,$CB,$0D,$74,$68,$65,$6D,$2E
    db $20,$13,$DF,$F0,$10,$4F,$68,$2C,$20,$88,$F3,$BC,$0D,$72,$65,$6D
    db $6F,$76,$69,$6E,$67,$20,$97,$73,$70,$65,$63,$6B,$20,$CB,$0D,$64
    db $75,$73,$74,$20,$AD,$68,$69,$73,$20,$65,$79,$65,$2E,$20,$13,$DF
    db $F0
    COP #$14
    db $82,$01,$87,$D0
    RTL
    %CopJumpIfEventFlagIsUnset($8805, $D0B5)
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $B8,$D0
    %CopMakeNpcUnpassable()
    COP #$05
    db $00,$07
    COP #$17
    db $CB,$D0
    COP #$16
    COP #$97
    COP #$80
    db $17
    COP #$82
    COP #$96
    COP #$80
    db $14
    COP #$82
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$86
    RTL
    %CopJumpIfItemIsNotEquipped(!itemVipCard, CODE_04D0C6)
    COP #$01
    db $33,$D1
    COP #$09
    db $00,$87
    RTL

CODE_04D0C6:
    COP #$01
    db $D0,$D0
    RTL

CODE_04D0CB:
    COP #$01
    db $2F,$D1
    RTL

    db $10,$92,$74,$6F,$77,$65,$72,$20,$BA,$0D,$63,$6F,$6E,$6E,$65,$63
    db $74,$65,$64,$20,$E2,$E1,$0D,$61,$69,$72,$73,$68,$69,$70,$60,$D7
    db $64,$6F,$63,$6B,$20,$61,$74,$20,$E1,$0D,$74,$6F,$70,$20,$66,$6C
    db $6F,$6F,$72,$2E,$20,$11,$41,$6E,$79,$6F,$6E,$65,$20,$77,$69,$74
    db $68,$6F,$75,$74,$20,$97,$56,$49,$50,$20,$0D,$63,$61,$72,$64,$20
    db $63,$61,$6E,$6E,$6F,$74,$20,$B4,$69,$6E,$2E,$20,$13,$DF,$F0,$10
    db $13,$52,$D1,$10,$4F,$68,$2C,$20,$E3,$BA,$E1,$56,$49,$50,$20,$0D
    db $63,$61,$72,$64,$2E,$20,$0D,$88,$9D,$EE,$73,$6F,$72,$72,$79,$2E
    db $20,$0D,$8F,$A6,$69,$6E,$2E,$20,$13,$DF,$F0
    COP #$3B
    db $86,$01,$71,$D1,$02,$17,$9E,$A2,$E2,$20,$A9,$00,$48,$C2,$20,$A9
    db $5E,$B0,$48,$6B
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $7F,$D1
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    db $02,$01,$84,$D1,$6B,$10,$88,$66,$69,$6E,$64,$20,$97,$67,$72,$65
    db $61,$74,$20,$0D,$C7,$74,$68,$69,$6E,$67,$73,$20,$77,$61,$6E,$64
    db $65,$72,$69,$6E,$67,$20,$0D,$61,$72,$6F,$75,$6E,$64,$2E,$20,$11
    db $88,$B5,$73,$65,$65,$6E,$20,$D8,$0D,$73,$68,$69,$6E,$79,$20,$9B
    db $E1,$0D,$63,$61,$73,$74,$6C,$65,$2E,$20,$11,$83,$88,$64,$69,$64
    db $20,$CA,$70,$69,$63,$6B,$20,$75,$70,$2E,$13,$DF,$F0
    COP #$14
    db $79,$01,$E3,$D1
    RTL
    COP #$30
    db $79,$01,$1A,$D2,$04
    COP #$17
    db $03,$D2
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    %CopJumpIfEventFlagIsUnset($8604, $D1F9)
    RTL
    COP #$16
    COP #$85
    db $9D,$A9,$00
    COP #$86
    RTL
    COP #$01
    db $66,$D2
    BRK #$4E
    COP #$09
    db $04,$86
    SEP #$20
    LDA.W playerSouls
    ORA.B #$10
    STA.W playerSouls
    REP #$20
    RTL
    COP #$01
    db $21,$D2
    COP #$86
    RTL
    db $10,$0E,$3C,$53,$6F,$6D,$65,$6F,$6E,$65,$20,$BA,$63,$61,$6C,$6C
    db $69,$6E,$67,$20,$0D,$02,$02,$20,$AD,$E1,$0D,$68,$6F,$75,$73,$65
    db $2E,$20,$11,$88,$BD,$AC,$0D,$99,$E1,$8D,$0D,$43,$61,$73,$74,$6C
    db $65,$2E,$20,$11,$88,$F1,$B7,$FE,$F4,$0D,$FE,$A6,$62,$61,$63,$6B
    db $2E,$20,$13,$DF,$F0,$10,$45,$76,$65,$6E,$20,$EB,$88,$64,$6F,$6E
    db $60,$E5,$0D,$6C,$6F,$6F,$6B,$20,$BE,$69,$74,$2C,$20,$0D,$88,$9D
    db $AD,$E1,$73,$6B,$79,$20,$6A,$75,$73,$74,$0D,$BE,$79,$6F,$75,$2E
    db $20,$11,$88,$BD,$9A,$CB,$E1,$0D,$69,$6E,$76,$69,$73,$69,$62,$6C
    db $65,$20,$70,$61,$73,$73,$61,$67,$65,$73,$20,$BB,$0D,$E1,$8D,$43
    db $61,$73,$74,$6C,$65,$2E,$20,$11,$57,$6F,$75,$6C,$64,$20,$FE,$BE
    db $E2,$77,$61,$6C,$6B,$0D,$E1,$A4,$F2,$6D,$65,$3F,$20,$11,$91,$DD
    db $E3,$0D,$6B,$6E,$6F,$77,$73,$20,$E1,$63,$61,$73,$74,$6C,$65,$60
    db $D7,$0D,$73,$65,$63,$72,$65,$74,$20,$70,$61,$73,$73,$61,$67,$65
    db $73,$20,$6A,$6F,$69,$6E,$73,$20,$0D,$79,$6F,$75,$21,$20,$13,$DF
    db $F0
    COP #$14
    db $8C,$01,$09,$D3
    RTL
    COP #$14
    db $95,$01,$1C,$D3
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $4D,$D3
    %CopMakeNpcUnpassable()
    BRA CODE_04D32D
    COP #$17
    db $52,$D3
    COP #$9F
    db $F0,$FF
    %CopMakeNpcUnpassable()
    COP #$96
    COP #$80
    db $14
    COP #$82

CODE_04D32D:
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$25,$0C,$37,$D3
    RTL
    %CopJumpIfEventFlagIsUnset($9A07, $D34A)
    COP #$01
    db $C3,$D3
    BRK #$5E
    COP #$0A
    db $31
    COP #$09
    db $07,$9A
    %CopSetScriptAddrToNextInstruction()
    RTL
    db $02,$01,$57,$D3,$6B,$02,$01,$97,$D3,$6B,$10,$89,$8A,$8D,$0D,$64
    db $6F,$65,$73,$6E,$60,$E5,$A6,$62,$61,$63,$6B,$2C,$20,$0D,$74,$68
    db $65,$6E,$20,$88,$F1,$A1,$63,$72,$6F,$77,$6E,$65,$64,$0D,$E1,$6E
    db $65,$78,$74,$20,$4B,$69,$6E,$67,$2E,$20,$11,$48,$65,$2C,$20,$68
    db $65,$2C,$20,$68,$65,$2E,$20,$13,$DF,$F0,$10,$8A,$8D,$BA,$62,$61
    db $63,$6B,$2E,$20,$0D,$8F,$64,$6F,$20,$CA,$E7,$0D,$61,$6E,$79,$62
    db $6F,$64,$79,$20,$F5,$88,$B5,$0D,$73,$61,$69,$64,$20,$E2,$79,$6F
    db $75,$2E,$20,$13,$DF,$F0,$10,$02,$02,$20,$AF,$0D,$03,$24,$E1,$4D
    db $61,$73,$74,$65,$72,$60,$D7,$45,$6D,$62,$6C,$65,$6D,$20,$48,$2E
    db $03,$20,$13,$DF,$F0
    COP #$14
    db $8D,$01,$E9,$D3
    RTL
    COP #$17
    db $F2,$D3
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    db $02,$14,$95,$01,$FD,$D3,$02,$01,$02,$D4,$6B,$02,$01,$38,$D4,$6B
    db $10,$91,$6B,$65,$79,$20,$E2,$E1,$61,$69,$72,$73,$68,$69,$70,$0D
    db $B6,$62,$65,$65,$6E,$20,$73,$74,$6F,$6C,$65,$6E,$21,$20,$0D,$88
    db $64,$6F,$6E,$60,$E5,$BD,$F5,$BA,$0D,$B1,$E2,$68,$61,$70,$70,$65
    db $6E,$2E,$20,$13,$DF,$F0,$10,$93,$61,$70,$70,$65,$61,$72,$73,$20
    db $E2,$A1,$97,$0D,$66,$69,$67,$68,$74,$20,$CD,$E1,$61,$69,$72,$73
    db $68,$69,$70,$60,$73,$0D,$64,$6F,$63,$6B,$2E,$20,$11,$49,$74,$20
    db $73,$65,$65,$6D,$73,$20,$73,$6F,$6D,$65,$20,$CB,$C2,$0D,$66,$72
    db $69,$65,$6E,$64,$73,$20,$B5,$70,$61,$73,$73,$65,$64,$20,$0D,$61
    db $77,$61,$79,$2E,$20,$11,$88,$68,$61,$74,$65,$20,$62,$65,$69,$6E
    db $67,$20,$97,$0D,$73,$6F,$6C,$64,$69,$65,$72,$2E,$20,$13,$DF,$F0
    COP #$3B
    db $8F,$01,$B8,$D4,$02,$17,$9E,$A2,$E2,$20,$A9,$00,$48,$C2,$20,$A9
    db $5E,$B0,$48,$6B
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $C6,$D4
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $CB,$D4
    RTL
    db $10,$44,$6F,$6E,$60,$E5,$FE,$E8,$E3,$0D,$73,$68,$65,$60,$D7,$97
    db $6E,$69,$63,$65,$20,$67,$69,$72,$6C,$2E,$20,$0D,$53,$68,$65,$20
    db $73,$65,$65,$6D,$73,$20,$E2,$BD,$77,$68,$61,$74,$0D,$CF,$77,$61
    db $6E,$74,$2E,$20,$13,$DF,$F0
    COP #$14
    db $92,$01,$09,$D5
    RTL
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $17,$D5
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $1C,$D5
    RTL
    db $10,$50,$68,$65,$77,$21,$20,$95,$DF,$6D,$65,$21,$20,$11,$44,$6F
    db $6E,$60,$E5,$73,$6E,$65,$61,$6B,$20,$75,$70,$20,$62,$65,$68,$69
    db $6E,$64,$20,$0D,$6D,$65,$2E,$20,$88,$61,$6C,$6D,$6F,$73,$74,$20
    db $66,$65,$6C,$6C,$20,$69,$6E,$74,$6F,$0D,$E1,$72,$69,$76,$65,$72
    db $2E,$20,$13,$DF,$F0
    COP #$3B
    db $95,$01,$77,$D5,$02,$17,$9E,$A2,$E2,$20,$A9,$00,$48,$C2,$20,$A9
    db $5E,$B0,$48,$6B
    COP #$30
    db $95,$01,$E4,$D5,$04
    %CopJumpIfEventFlagIsUnset($9F02, $D59B)
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $C7,$D5
    %CopMakeNpcUnpassable()
    COP #$05
    db $07,$00
    COP #$80
    db $02
    COP #$82
    %CopSetScriptAddrToNextInstruction()
    RTL
    LDA.W #$BFC0
    TSB.W wButtonMask
    COP #$03
    db $29
    COP #$04
    COP #$01
    db $0C,$D8
    COP #$03
    db $5B
    COP #$04
    LDA.W #$0020
    STA.W $03B4
    COP #$10
    db $0D,$03,$01,$A0,$00,$50,$00
    LDA.W #$BFC0
    TRB.W wButtonMask
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$09
    db $07,$80
    %CopJumpIfEventFlagIsUnset($9B05, $D5DF)
    COP #$01
    db $39,$D6
    BRK #$5E
    COP #$0A
    db $3F
    COP #$09
    db $05,$9B
    RTL
    COP #$01
    db $CA,$D7
    RTL
    COP #$01
    db $ED,$D5
    %CopRestoreToFullHealth()
    COP #$86
    RTL
    db $10,$0E,$3C,$88,$6B,$6E,$65,$77,$20,$F5,$F3,$0D,$68,$61,$70,$70
    db $65,$6E,$69,$6E,$67,$2E,$20,$11,$88,$AB,$64,$6F,$20,$6E,$6F,$74
    db $68,$69,$6E,$67,$20,$E2,$0D,$70,$72,$65,$76,$65,$6E,$74,$20,$E1
    db $51,$75,$65,$65,$6E,$20,$66,$72,$6F,$6D,$0D,$70,$61,$73,$73,$69
    db $6E,$67,$20,$61,$77,$61,$79,$2E,$20,$13,$DF,$F0,$10,$88,$B5,$66
    db $61,$69,$6C,$65,$64,$20,$61,$73,$20,$0D,$97,$4B,$69,$6E,$67,$2E
    db $20,$11,$88,$6F,$72,$64,$65,$72,$65,$64,$20,$CF,$E2,$62,$65,$0D
    db $6C,$6F,$79,$61,$6C,$20,$E2,$6D,$65,$2E,$20,$11,$82,$6B,$69,$6C
    db $6C,$65,$64,$20,$77,$68,$6F,$6D,$65,$76,$65,$72,$20,$0D,$77,$6F
    db $75,$6C,$64,$20,$CA,$66,$6F,$6C,$6C,$6F,$77,$20,$6D,$65,$2E,$20
    db $11,$4F,$6E,$63,$65,$20,$FE,$72,$65,$61,$63,$68,$20,$E1,$74,$6F
    db $70,$0D,$E1,$6F,$6E,$6C,$79,$20,$77,$61,$79,$20,$BA,$64,$6F,$77
    db $6E,$2E,$20,$11,$88,$F3,$BC,$97,$63,$6F,$77,$61,$72,$64,$2E,$20
    db $0D,$88,$C8,$97,$70,$72,$6F,$6D,$69,$73,$65,$20,$F2,$0D,$E1,$65
    db $76,$69,$6C,$20,$8A,$0D,$44,$65,$61,$74,$68,$74,$6F,$6C,$6C,$2E
    db $20,$11,$53,$69,$6D,$70,$6C,$79,$20,$A3,$88,$0D,$74,$68,$6F,$75
    db $67,$68,$74,$20,$69,$74,$20,$77,$6F,$75,$6C,$64,$20,$0D,$69,$6D
    db $70,$72,$65,$73,$73,$20,$E1,$51,$75,$65,$65,$6E,$2E,$20,$11,$83
    db $E1,$51,$75,$65,$65,$6E,$20,$F3,$0D,$63,$61,$70,$74,$75,$72,$65
    db $64,$20,$62,$79,$20,$68,$65,$72,$20,$6F,$77,$6E,$20,$0D,$64,$65
    db $73,$69,$72,$65,$20,$96,$70,$61,$73,$73,$65,$64,$20,$0D,$61,$77
    db $61,$79,$2E,$20,$11,$88,$6D,$75,$73,$74,$20,$61,$70,$6F,$6C,$6F
    db $67,$69,$7A,$65,$20,$E2,$0D,$44,$72,$2E,$4C,$65,$6F,$2E,$20,$11
    db $88,$B5,$03,$24,$E1,$42,$6C,$61,$63,$6B,$20,$53,$74,$6F,$6E,$65
    db $0D,$03,$20,$F2,$6D,$65,$2E,$20,$95,$6D,$75,$73,$74,$20,$68,$61
    db $76,$65,$0D,$9A,$36,$20,$CB,$74,$68,$65,$73,$65,$20,$6E,$6F,$77
    db $2E,$20,$11,$8F,$B3,$E2,$E1,$77,$6F,$72,$6C,$64,$0D,$CB,$65,$76
    db $69,$6C,$20,$96,$64,$65,$66,$65,$61,$74,$20,$0D,$44,$65,$61,$74
    db $68,$74,$6F,$6C,$6C,$2E,$20,$11,$92,$BA,$9A,$88,$A7,$64,$6F,$20
    db $0D,$AE,$44,$72,$2E,$4C,$65,$6F,$2E,$20,$13,$DF,$F0,$10,$88,$66
    db $69,$6E,$61,$6C,$6C,$79,$20,$72,$65,$61,$6C,$69,$7A,$65,$64,$20
    db $0D,$F5,$F3,$68,$61,$70,$70,$65,$6E,$69,$6E,$67,$20,$0D,$F4,$E1
    db $73,$69,$74,$75,$61,$74,$69,$6F,$6E,$20,$77,$61,$73,$0D,$61,$74
    db $20,$69,$74,$73,$20,$77,$6F,$72,$73,$74,$2E,$20,$13,$DF,$F0,$10
    db $0F,$95,$66,$69,$6E,$61,$6C,$6C,$79,$20,$C8,$69,$74,$21,$20,$0D
    db $0E,$1E,$46,$69,$72,$73,$74,$20,$CB,$61,$6C,$6C,$2C,$20,$6C,$65
    db $74,$20,$C3,$0D,$73,$61,$79,$20,$74,$68,$61,$6E,$6B,$20,$79,$6F
    db $75,$2E,$20,$0D,$0E,$5A,$88,$D9,$E2,$E8,$CB,$0D,$C7,$74,$68,$69
    db $6E,$67,$73,$2E,$20,$0D,$0E,$5A,$88,$BD,$E4,$6D,$61,$79,$20,$73
    db $6F,$75,$6E,$64,$20,$0D,$DA,$A2,$BB,$E1,$0D,$B8,$77,$6F,$72,$6C
    db $64,$2C,$20,$0D,$0E,$3C,$69,$66,$20,$97,$D1,$6B,$69,$6C,$6C,$73
    db $20,$CC,$0D,$6D,$61,$6E,$20,$68,$65,$20,$BA,$97,$6D,$75,$72,$64
    db $65,$72,$65,$72,$2E,$20,$0D,$0E,$28,$48,$6F,$77,$65,$76,$65,$72
    db $2C,$20,$69,$66,$20,$97,$D1,$0D,$6B,$69,$6C,$6C,$73,$20,$31,$30
    db $30,$2C,$20,$0D,$74,$68,$65,$6E,$20,$68,$65,$20,$BA,$70,$72,$61
    db $69,$73,$65,$64,$20,$61,$73,$20,$0D,$97,$68,$65,$72,$6F,$2E,$20
    db $0D,$0E,$5A,$88,$62,$65,$63,$61,$6D,$65,$20,$97,$6B,$69,$6E,$67
    db $20,$62,$79,$20,$0D,$E4,$74,$68,$65,$6F,$72,$79,$2C,$20,$0D,$A2
    db $88,$9F,$66,$65,$6C,$74,$20,$0D,$6C,$6F,$6E,$65,$6C,$79,$2E,$20
    db $0D,$0E,$5A,$45,$76,$65,$6E,$20,$69,$66,$20,$88,$68,$61,$64,$20
    db $C7,$6D,$65,$6E,$0D,$0E,$2D,$96,$62,$65,$61,$75,$74,$69,$66,$75
    db $6C,$20,$77,$6F,$6D,$65,$6E,$20,$0D,$9B,$6D,$65,$2C,$20,$88,$66
    db $65,$6C,$74,$20,$0D,$61,$6C,$6F,$6E,$65,$2E,$20,$0D,$0E,$5A,$4E
    db $6F,$77,$20,$88,$72,$65,$61,$6C,$69,$7A,$65,$20,$6E,$6F,$20,$6D
    db $61,$6E,$20,$0D,$A7,$C0,$62,$79,$20,$68,$69,$6D,$73,$65,$6C,$66
    db $2E,$20,$0D,$0E,$8C,$88,$9D,$B1,$E2,$73,$70,$65,$6E,$64,$20,$0D
    db $9A,$E1,$6D,$6F,$6E,$65,$79,$20,$88,$0D,$D4,$AD,$0D,$44,$65,$61
    db $74,$68,$74,$6F,$6C,$6C,$20,$E2,$63,$6F,$6E,$73,$74,$72,$75,$63
    db $74,$0D,$96,$62,$75,$69,$6C,$64,$20,$97,$67,$72,$65,$61,$74,$20
    db $0D,$74,$6F,$77,$6E,$2E,$20,$0D,$0E,$5A,$92,$BA,$C2,$77,$61,$79
    db $20,$CB,$0D,$63,$6F,$6D,$70,$65,$6E,$73,$61,$74,$69,$6E,$67,$20
    db $E1,$0D,$CF,$88,$68,$65,$6C,$70,$65,$64,$20,$0D,$64,$65,$66,$65
    db $61,$74,$2E,$20,$0D,$0E,$3C,$42,$75,$74,$2C,$20,$88,$61,$6C,$73
    db $6F,$20,$F8,$E2,$0D,$62,$75,$69,$6C,$64,$20,$97,$74,$6F,$77,$6E
    db $20,$77,$68,$65,$72,$65,$20,$0D,$CF,$77,$6F,$6E,$60,$E5,$B5,$0D
    db $61,$6E,$79,$74,$68,$69,$6E,$67,$20,$E2,$66,$65,$61,$72,$2E,$20
    db $0D,$0E,$28,$96,$74,$68,$65,$79,$20,$A7,$62,$65,$67,$69,$6E,$20
    db $E2,$0D,$A5,$BB,$74,$68,$65,$6D,$73,$65,$6C,$76,$65,$73,$2E,$0D
    db $0E,$5A,$02,$02,$2C,$20,$0D,$74,$68,$61,$6E,$6B,$20,$FE,$EE,$6D
    db $75,$63,$68,$2E,$20,$0D,$0E,$46,$88,$F1,$62,$75,$69,$6C,$64,$20
    db $73,$74,$61,$74,$75,$65,$73,$20,$0D,$CB,$FE,$96,$44,$72,$2E,$8B
    db $0D,$BB,$E1,$63,$65,$6E,$74,$65,$72,$20,$CB,$74,$6F,$77,$6E,$2E
    db $0D,$0E,$28,$88,$70,$72,$6F,$6D,$69,$73,$65,$20,$E2,$E7,$0D,$65
    db $76,$65,$72,$79,$20,$67,$65,$6E,$65,$72,$61,$74,$69,$6F,$6E,$20
    db $61,$62,$6F,$75,$74,$0D,$FF,$61,$63,$63,$6F,$6D,$70,$6C,$69,$73
    db $68,$6D,$65,$6E,$74,$73,$2E,$20,$0E,$78,$13,$E0,$F0
    COP #$3B
    db $85,$01,$C0,$DA,$02,$17,$9E,$A2,$E2,$20,$A9,$00,$48,$C2,$20,$A9
    db $5E,$B0,$48,$6B
    COP #$A1
    db $E0,$FF,$20,$00
    COP #$85
    db $9D,$A9,$00
    COP #$17
    db $F1,$DA
    COP #$97
    COP #$80
    db $14
    COP #$82
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$1C,$33,$E2,$DA
    RTL
    COP #$03
    db $05
    COP #$04
    COP #$96
    COP #$80
    db $14
    COP #$82
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $F6,$DA
    RTL
    db $10,$53,$68,$65,$20,$F3,$72,$65,$6D,$6F,$76,$69,$6E,$67,$20,$73
    db $6F,$6D,$65,$20,$0D,$64,$75,$73,$74,$20,$AD,$C2,$65,$79,$65,$2E
    db $20,$13,$DF,$F0
    COP #$14
    db $6E,$01,$21,$DB
    RTL
    COP #$30
    db $6E,$01,$98,$DB,$04
    %CopJumpIfEventFlagIsUnset($8805, $DB81)
    COP #$85
    db $9D,$A9,$00
    %CopMakeNpcUnpassable()
    COP #$17
    db $93,$DB
    COP #$05
    db $00,$00
    COP #$09
    db $00,$00
    COP #$16
    COP #$97
    COP #$81
    db $17,$02
    COP #$83
    COP #$01
    db $7E,$DC
    COP #$32
    db $00
    COP #$B2
    db $84,$DB,$04,$80,$00,$00,$00,$00,$02
    BRK #$5B
    COP #$05
    db $01,$00
    BRK #$04
    LDA.W $0016,X
    ORA.W #$0010
    STA.W $0016,X
    COP #$97
    COP #$80
    db $27
    COP #$82
    COP #$81
    db $28,$08
    COP #$83
    COP #$81
    db $29,$08
    COP #$83
    COP #$86
    RTL
    COP #$97
    COP #$81
    db $25,$10
    COP #$83
    COP #$09
    db $01,$80
    COP #$86
    RTL
    COP #$01
    db $65,$DC
    RTL
    COP #$14
    db $83,$01,$A3,$DB
    COP #$01
    db $B3,$DB
    RTL
    db $02,$14,$81,$01,$AE,$DB,$02,$01,$EB,$DB,$6B,$02,$01,$22,$DC,$6B
    db $10,$0E,$3C,$8F,$73,$61,$76,$65,$20,$44,$72,$2E,$4C,$65,$6F,$2E
    db $20,$0D,$48,$65,$20,$6D,$75,$73,$74,$20,$A1,$BB,$E1,$0D,$70,$72
    db $69,$73,$6F,$6E,$20,$CB,$E1,$6C,$65,$66,$74,$20,$0D,$74,$6F,$77
    db $65,$72,$21,$21,$20,$13,$DF,$F0,$10,$0E,$3C,$8F,$73,$61,$76,$65
    db $20,$C2,$66,$72,$69,$65,$6E,$64,$21,$0D,$48,$65,$20,$6D,$75,$73
    db $74,$20,$A1,$BB,$E1,$73,$61,$6D,$65,$0D,$70,$72,$69,$73,$6F,$6E
    db $20,$E3,$44,$72,$2E,$8B,$0D,$BA,$69,$6E,$2E,$20,$13,$DF,$F0,$10
    db $0E,$3C,$8F,$A6,$E2,$E1,$0D,$61,$69,$72,$73,$68,$69,$70,$20,$64
    db $6F,$63,$6B,$20,$61,$73,$20,$73,$6F,$6F,$6E,$20,$0D,$61,$73,$20
    db $70,$6F,$73,$73,$69,$62,$6C,$65,$2E,$20,$11,$44,$72,$2E,$8B,$BA
    db $77,$61,$69,$74,$69,$6E,$67,$20,$AE,$0D,$79,$6F,$75,$2E,$20,$13
    db $DF,$F0,$10,$41,$72,$65,$20,$FE,$02,$02,$3F,$20,$11,$8F,$DB,$E2
    db $44,$72,$2E,$4C,$65,$6F,$2E,$20,$13,$DF,$F0,$10,$44,$6F,$63,$74
    db $6F,$72,$2C,$20,$77,$65,$20,$A7,$66,$69,$6E,$61,$6C,$6C,$79,$0D
    db $73,$74,$61,$72,$74,$20,$6F,$75,$72,$20,$73,$68,$69,$70,$2E,$20
    db $13,$DF,$F0
    COP #$14
    db $81,$01,$AD,$DC
    RTL
    %CopJumpIfEventFlagIsUnset($8805, $DD40)
    COP #$85
    db $9D,$A9,$00
    %CopMakeNpcUnpassable()
    COP #$05
    db $01,$00
    COP #$03
    db $65
    COP #$04
    COP #$16
    COP #$96
    COP #$81
    db $2A,$02
    COP #$83
    COP #$01
    db $43,$DD
    COP #$32
    db $0D
    COP #$B2
    db $A5,$DD,$04,$80,$00,$F0,$FF,$40,$00
    COP #$B2
    db $CE,$DD,$04,$80,$00,$00,$00,$40,$00
    COP #$B2
    db $FD,$DD,$04,$80,$00,$10,$00,$40,$00
    COP #$B2
    db $26,$DE,$04,$90,$00,$00,$00,$40,$00
    COP #$05
    db $02,$00
    COP #$01
    db $4D,$DD
    COP #$09
    db $03,$80
    COP #$03
    db $03
    COP #$05
    db $00,$00
    COP #$09
    db $00,$00
    LDA.W $0000,X
    SEC
    SBC.W #$0002
    STA.W $0000,X
    BRK #$44
    COP #$04
    COP #$05
    db $04,$00
    COP #$96
    COP #$80
    db $27
    COP #$82
    COP #$81
    db $28,$08
    COP #$83
    COP #$81
    db $29,$08
    COP #$83
    COP #$09
    db $05,$80
    COP #$86
    RTL
    db $10,$44,$6F,$6B,$21,$21,$20,$13,$DF,$F0,$10,$95,$98,$51,$75,$65
    db $65,$6E,$20,$4D,$61,$67,$72,$69,$64,$64,$21,$11,$95,$64,$65,$73
    db $74,$72,$6F,$79,$65,$64,$20,$E1,$0D,$77,$6F,$72,$6C,$64,$21,$20
    db $0D,$44,$69,$64,$6E,$60,$E5,$FE,$72,$65,$61,$6C,$69,$7A,$65,$3F
    db $21,$20,$11,$10,$53,$68,$75,$74,$20,$75,$70,$20,$77,$69,$6D,$70
    db $21,$20,$11,$44,$65,$66,$65,$61,$74,$20,$68,$69,$6D,$21,$20,$13
    db $DF,$F0
    COP #$97
    COP #$81
    db $17,$02
    COP #$83
    COP #$05
    db $03,$00
    COP #$03
    db $03
    COP #$80
    db $24
    COP #$82
    COP #$B0
    db $4B,$DE,$04,$40,$00
    COP #$80
    db $2B
    COP #$82
    COP #$04
    COP #$05
    db $06,$00
    COP #$86
    RTL
    COP #$97
    COP #$81
    db $17,$02
    COP #$83
    COP #$05
    db $03,$00
    COP #$03
    db $03
    COP #$80
    db $24
    COP #$82
    COP #$B0
    db $54,$DE,$04,$40,$00
    BRK #$1B
    COP #$80
    db $2B
    COP #$82
    COP #$04
    COP #$09
    db $04,$80
    COP #$05
    db $06,$00
    COP #$86
    RTL
    COP #$97
    COP #$81
    db $17,$02
    COP #$83
    COP #$05
    db $03,$00
    COP #$03
    db $03
    COP #$80
    db $24
    COP #$82
    COP #$B0
    db $4B,$DE,$04,$40,$00
    COP #$80
    db $2B
    COP #$82
    COP #$04
    COP #$05
    db $06,$00
    COP #$86
    RTL
    COP #$03
    db $51
    COP #$04
    COP #$AA
    db $00
    COP #$97
    COP #$81
    db $1A,$02
    COP #$83
    COP #$80
    db $11
    COP #$82
    COP #$03
    db $3D
    COP #$04
    COP #$09
    db $02,$80
    COP #$05
    db $06,$00
    COP #$86
    RTL
    COP #$81
    db $25,$20
    COP #$83
    COP #$86
    RTL
    COP #$81
    db $25,$07
    COP #$83
    COP #$09
    db $00,$80
    COP #$86
    RTL
    COP #$14
    db $83,$01,$68,$DE
    RTL
    COP #$30
    db $83,$01,$1D,$E0,$04
    %CopJumpIfEventFlagIsUnset($9F05, $DFDC)
    %CopJumpIfEventFlagIsUnset($8805, $DFAF)
    COP #$85
    db $9D,$A9,$00
    %CopMakeNpcUnpassable()
    COP #$14
    db $6E,$01,$8B,$DE,$82,$06,$00
    COP #$14
    db $81,$01,$98,$DE,$02,$17,$DF,$DF,$02,$91,$6B
    COP #$17
    db $E4,$DF
    COP #$05
    db $01,$00
    COP #$96
    COP #$80
    db $23
    COP #$82
    PHX
    LDX.W $039C
    LDA.W #$0003
    STA.W $001E,X
    STZ.W $0020,X
    JSL.L CODE_0088F3
    PLX
    COP #$05
    db $05,$00
    COP #$16
    COP #$81
    db $26,$02
    COP #$83
    COP #$80
    db $23
    COP #$82
    %CopMakeNpcUnpassable()
    COP #$01
    db $40,$E2
    COP #$03
    db $1F
    COP #$04
    COP #$01
    db $6D,$E2
    COP #$03
    db $3D
    COP #$04
    COP #$01
    db $A0,$E2
    COP #$B2
    db $E8,$E6,$04,$40,$00,$70,$FF,$40,$00
    COP #$B2
    db $61,$E9,$04,$40,$00,$60,$FF,$40,$00
    COP #$05
    db $07,$00
    COP #$01
    db $B9,$E2
    COP #$03
    db $1F
    COP #$04
    COP #$01
    db $ED,$E2
    COP #$03
    db $5B
    COP #$04
    LDA.W #$0004
    STA.W textSpeed
    COP #$01
    db $82,$E3
    LDA.W #$0003
    STA.W textSpeed
    COP #$03
    db $1F
    COP #$04
    COP #$01
    db $58,$E4
    COP #$09
    db $07,$00
    COP #$05
    db $07,$00
    COP #$01
    db $8E,$E4
    LDA.W #$6FC0
    TRB.W wButtonMask
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$1E,$18,$43,$DF
    RTL
    LDA.W #$6FC0
    TSB.W wButtonMask
    COP #$01
    db $C3,$E4
    BRK #$5E
    COP #$0A
    db $23
    COP #$03
    db $1F
    COP #$04
    COP #$01
    db $09,$E5
    COP #$16
    COP #$80
    db $26
    COP #$82
    COP #$80
    db $23
    COP #$82
    COP #$03
    db $3D
    COP #$04
    COP #$01
    db $33,$E5
    COP #$80
    db $26
    COP #$82
    COP #$80
    db $23
    COP #$82
    COP #$B0
    db $9C,$E9,$04,$00,$03
    COP #$03
    db $3D
    COP #$04
    COP #$80
    db $22
    COP #$82
    %CopMakeNpcUnpassable()
    COP #$05
    db $06,$00
    COP #$03
    db $15
    COP #$04
    COP #$31
    db $13
    COP #$03
    db $79
    COP #$04
    COP #$09
    db $05,$88
    LDA.W #$6FC0
    TRB.W wButtonMask

CODE_04DFA8:
    COP #$17
    db $F7,$DF
    %CopSetScriptAddrToNextInstruction()
    RTL
    %CopJumpIfEventFlagIsUnset($8900, $DFC2)

    db $02,$AC,$FC,$E6,$04,$30,$02,$80,$01,$40,$00,$80,$0B
    COP #$AC
    db $0A,$E7,$04,$20,$02,$90,$01,$40,$00
    COP #$9F
    db $80,$00
    COP #$96
    COP #$80
    db $22
    COP #$82
    %CopMakeNpcUnpassable()
    BRA CODE_04DFA8
    db $02,$86,$6B,$02,$01,$F6,$E0,$6B
    COP #$01
    db $44,$E1
    LDA.W #$6FC0
    TSB.W wButtonMask
    COP #$09
    db $00,$80
    COP #$17
    db $00,$00
    RTL
    %CopJumpIfEventFlagIsUnset($8900, $E018)
    %CopJumpIfEventFlagIsUnset($8901, $E018)
    LDA.W #$0004
    STA.W textSpeed
    COP #$01
    db $51,$E5
    LDA.W #$0003
    STA.W textSpeed
    COP #$09
    db $01,$89
    RTL
    COP #$01
    db $DB,$E6
    RTL
    COP #$14
    db $81,$01,$25,$E0,$80,$06
    COP #$14
    db $6E,$01,$32,$E0,$02,$01,$F0,$E0,$02,$86,$6B
    COP #$01
    db $39,$E0
    COP #$86
    RTL
    db $10,$0E,$3C,$88,$9D,$44,$72,$2E,$4C,$65,$6F,$2E,$20,$0D,$88,$B5
    db $62,$65,$65,$6E,$20,$F7,$0D,$AD,$E1,$64,$61,$72,$6B,$6E,$65,$73
    db $73,$2E,$20,$11,$88,$9D,$B1,$E2,$72,$65,$74,$72,$69,$65,$76,$65
    db $0D,$E1,$42,$6C,$61,$63,$6B,$20,$53,$74,$6F,$6E,$65,$2C,$20,$B3
    db $0D,$E2,$E1,$57,$6F,$72,$6C,$64,$20,$CB,$45,$76,$69,$6C,$20,$0D
    db $96,$64,$65,$66,$65,$61,$74,$20,$44,$65,$61,$74,$68,$74,$6F,$6C
    db $6C,$2E,$20,$11,$88,$68,$6F,$70,$65,$20,$FE,$F1,$A6,$0D,$F2,$6D
    db $65,$2E,$20,$11,$91,$61,$69,$72,$73,$68,$69,$70,$20,$64,$6F,$63
    db $6B,$20,$BA,$61,$74,$0D,$E1,$74,$6F,$70,$20,$66,$6C,$6F,$6F,$72
    db $20,$CB,$E1,$0D,$72,$69,$67,$68,$74,$20,$74,$6F,$77,$65,$72,$2E
    db $20,$11,$88,$F1,$A1,$77,$61,$69,$74,$69,$6E,$67,$20,$AE,$0D,$79
    db $6F,$75,$2E,$20,$13,$DF,$F0,$10,$0E,$3C,$13,$F7,$E0,$10,$88,$9D
    db $44,$72,$2E,$4C,$65,$6F,$2E,$20,$0D,$88,$F1,$73,$61,$76,$65,$20
    db $E1,$73,$74,$6F,$72,$79,$20,$0D,$AE,$6C,$61,$74,$65,$72,$2E,$20
    db $11,$8F,$73,$61,$76,$65,$20,$E1,$74,$77,$6F,$20,$0D,$73,$6F,$6C
    db $64,$69,$65,$72,$73,$20,$FB,$70,$72,$6F,$6D,$69,$73,$65,$64,$20
    db $0D,$E2,$A6,$F2,$6D,$65,$2E,$20,$13,$DF,$F0,$10,$95,$98,$02,$02
    db $2E,$20,$0D,$42,$69,$72,$64,$73,$20,$AD,$47,$72,$65,$65,$6E,$57
    db $6F,$6F,$64,$20,$0D,$74,$6F,$6C,$64,$20,$C3,$CB,$79,$6F,$75,$2E
    db $20,$11,$91,$73,$74,$6F,$6E,$65,$73,$20,$FE,$B5,$0D,$63,$6F,$6C
    db $6C,$65,$63,$74,$65,$64,$20,$98,$6B,$65,$79,$73,$20,$E2,$0D,$6F
    db $70,$65,$6E,$20,$E1,$67,$61,$74,$65,$20,$E2,$E1,$0D,$57,$6F,$72
    db $6C,$64,$20,$CB,$45,$76,$69,$6C,$2E,$20,$11,$54,$68,$65,$79,$20
    db $98,$E1,$4F,$72,$69,$67,$69,$6E,$73,$20,$0D,$CB,$50,$6F,$77,$65
    db $72,$20,$AE,$6D,$61,$63,$68,$69,$6E,$65,$73,$20,$0D,$E3,$62,$65
    db $63,$6B,$6F,$6E,$20,$65,$76,$69,$6C,$2E,$20,$11,$8A,$8D,$68,$6F
    db $6C,$64,$73,$20,$74,$68,$65,$0D,$6C,$61,$73,$74,$20,$73,$74,$6F
    db $6E,$65,$2E,$20,$11,$57,$65,$20,$B5,$E2,$66,$72,$65,$65,$20,$68
    db $69,$6D,$20,$74,$6F,$0D,$B4,$E1,$6C,$61,$73,$74,$20,$73,$74,$6F
    db $6E,$65,$2E,$20,$11,$47,$6F,$20,$74,$68,$65,$6E,$20,$E2,$E1,$57
    db $6F,$72,$6C,$64,$20,$0D,$CB,$45,$76,$69,$6C,$20,$96,$64,$65,$66
    db $65,$61,$74,$20,$0D,$44,$65,$61,$74,$68,$74,$6F,$6C,$6C,$2E,$20
    db $13,$DF,$F0,$10,$13,$DF,$F0,$10,$95,$74,$6F,$6F,$6B,$20,$AC,$0D
    db $61,$77,$61,$79,$20,$AD,$6D,$65,$2E,$20,$11,$95,$98,$64,$69,$72
    db $74,$69,$65,$72,$20,$74,$68,$61,$6E,$20,$0D,$65,$76,$69,$6C,$21
    db $20,$13,$DF,$F0,$10,$44,$72,$2E,$4C,$65,$6F,$2C,$20,$FE,$EA,$74
    db $6F,$6F,$20,$0D,$6D,$75,$63,$68,$2E,$20,$11,$4C,$69,$66,$65,$20
    db $BA,$6E,$65,$76,$65,$72,$20,$65,$61,$73,$79,$2E,$20,$0D,$4C,$6F
    db $6F,$6B,$21,$20,$13,$DF,$F0,$10,$48,$65,$79,$2C,$20,$6B,$65,$65
    db $70,$20,$77,$61,$6C,$6B,$69,$6E,$67,$2E,$20,$0E,$28,$13,$E0,$F0
    db $10,$44,$61,$64,$64,$79,$21,$20,$11,$44,$61,$64,$64,$79,$21,$20
    db $88,$6B,$6E,$65,$77,$20,$0D,$88,$77,$6F,$75,$6C,$64,$20,$DB,$79
    db $6F,$75,$2C,$20,$0D,$A2,$CA,$BE,$74,$68,$69,$73,$2E,$2E,$2E,$2E
    db $20,$13,$DF,$F0,$10,$44,$72,$2E,$4C,$65,$6F,$2C,$20,$0D,$FE,$F1
    db $73,$74,$69,$6C,$6C,$20,$64,$6F,$20,$77,$68,$61,$74,$0D,$88,$73
    db $61,$79,$3F,$20,$11,$10,$59,$6F,$75,$2E,$2E,$2E,$2E,$2E,$2E,$2E
    db $2E,$20,$11,$41,$73,$20,$FE,$73,$61,$69,$64,$2C,$20,$88,$C8,$97
    db $0D,$C9,$E2,$63,$61,$6C,$6C,$20,$0D,$44,$65,$61,$74,$68,$74,$6F
    db $6C,$6C,$21,$20,$11,$4C,$69,$73,$61,$20,$B6,$6E,$6F,$74,$68,$69
    db $6E,$67,$20,$E2,$64,$6F,$0D,$F2,$74,$68,$69,$73,$2E,$20,$11,$10
    db $53,$68,$75,$74,$20,$75,$70,$21,$20,$11,$44,$72,$2E,$4C,$65,$6F
    db $2C,$20,$FE,$73,$74,$69,$6C,$6C,$20,$0D,$B5,$E2,$77,$6F,$72,$6B
    db $20,$AE,$75,$73,$2E,$20,$13,$DF,$F0,$10,$80,$72,$69,$67,$68,$74
    db $2E,$20,$11,$88,$63,$61,$6E,$6E,$6F,$74,$20,$73,$61,$63,$72,$69
    db $66,$69,$63,$65,$20,$0D,$70,$65,$6F,$70,$6C,$65,$73,$60,$20,$C1
    db $0D,$61,$6E,$79,$6D,$6F,$72,$65,$2E,$20,$11,$83,$70,$6C,$65,$61
    db $73,$65,$2C,$20,$72,$65,$6C,$65,$61,$73,$65,$20,$0D,$4C,$69,$73
    db $61,$2E,$20,$11,$53,$68,$65,$20,$BA,$E1,$6D,$6F,$73,$74,$20,$0D
    db $70,$72,$65,$63,$69,$6F,$75,$73,$20,$74,$68,$69,$6E,$67,$20,$BB
    db $74,$68,$69,$73,$0D,$77,$6F,$72,$6C,$64,$2E,$20,$11,$45,$76,$65
    db $6E,$20,$69,$66,$20,$88,$AB,$CA,$0D,$DB,$68,$65,$72,$2C,$20,$73
    db $68,$65,$20,$77,$6F,$75,$6C,$64,$20,$0D,$73,$74,$69,$6C,$6C,$20
    db $A1,$C2,$0D,$6D,$6F,$74,$69,$76,$61,$74,$69,$6F,$6E,$2E,$20,$11
    db $88,$A7,$65,$6E,$64,$75,$72,$65,$20,$61,$6E,$79,$74,$68,$69,$6E
    db $67,$20,$0D,$62,$79,$20,$BC,$69,$6D,$61,$67,$69,$6E,$69,$6E,$67
    db $20,$68,$65,$72,$20,$0D,$66,$61,$63,$65,$2E,$20,$13,$DF,$F0,$10
    db $95,$98,$9C,$68,$6F,$6E,$65,$73,$74,$20,$6D,$61,$6E,$2E,$11,$80
    db $72,$69,$67,$68,$74,$2C,$20,$44,$72,$2E,$4C,$65,$6F,$2E,$20,$0D
    db $4C,$65,$61,$76,$65,$20,$4C,$69,$73,$61,$20,$61,$6C,$6F,$6E,$65
    db $2E,$20,$13,$DF,$F0,$10,$0F,$8B,$77,$68,$69,$73,$70,$65,$72,$65
    db $64,$20,$BB,$0D,$02,$02,$60,$D7,$65,$61,$72,$73,$2E,$20,$0F,$11
    db $0A,$02,$02,$2C,$0D,$73,$74,$61,$79,$40,$62,$65,$68,$69,$6E,$64
    db $40,$6D,$65,$2E,$2E,$2E,$2E,$13,$DF,$F0,$10,$0A,$48,$65,$72,$65
    db $2C,$40,$74,$61,$6B,$65,$40,$74,$68,$69,$73,$40,$61,$6E,$64,$0D
    db $67,$65,$74,$40,$6F,$6E,$40,$74,$68,$65,$40,$61,$69,$72,$73,$68
    db $69,$70,$2E,$11,$50,$6C,$65,$61,$73,$65,$40,$74,$61,$6B,$65,$40
    db $63,$61,$72,$65,$40,$6F,$66,$0D,$4C,$69,$73,$61,$2E,$13,$DF,$F0
    db $10,$88,$F1,$CA,$72,$75,$6E,$20,$61,$77,$61,$79,$2E,$20,$0D,$4A
    db $75,$73,$74,$20,$E6,$C3,$77,$68,$65,$72,$65,$76,$65,$72,$20,$0D
    db $FE,$77,$61,$6E,$74,$2E,$20,$13,$DF,$F0,$10,$0F,$4C,$69,$73,$61
    db $2C,$20,$0D,$0E,$3C,$D2,$66,$6F,$72,$67,$69,$76,$65,$20,$6D,$65
    db $2E,$20,$0D,$0E,$50,$13,$E0,$F0,$10,$02,$02,$2C,$20,$88,$E8,$0D
    db $88,$F3,$62,$6F,$72,$6E,$20,$BB,$E1,$0D,$77,$72,$6F,$6E,$67,$20
    db $67,$65,$6E,$65,$72,$61,$74,$69,$6F,$6E,$2E,$20,$11,$53,$63,$69
    db $65,$6E,$74,$69,$73,$74,$73,$20,$98,$0D,$73,$75,$70,$70,$6F,$73
    db $65,$64,$20,$E2,$69,$6E,$76,$65,$6E,$74,$20,$0D,$6D,$61,$63,$68
    db $69,$6E,$65,$73,$20,$BB,$6F,$72,$64,$65,$72,$20,$E2,$0D,$6D,$61
    db $6B,$65,$20,$CF,$68,$61,$70,$70,$79,$2E,$20,$11,$83,$9C,$75,$6E
    db $65,$78,$70,$65,$63,$74,$65,$64,$20,$0D,$73,$63,$69,$65,$6E,$74
    db $69,$73,$74,$20,$6D,$61,$79,$20,$72,$75,$69,$6E,$20,$74,$68,$65
    db $0D,$63,$75,$6C,$74,$75,$72,$65,$2E,$20,$11,$53,$6F,$6D,$65,$20
    db $CF,$A5,$0D,$68,$61,$70,$70,$69,$6E,$65,$73,$73,$20,$63,$6F,$6D
    db $65,$73,$20,$0D,$71,$75,$69,$63,$6B,$6C,$79,$2C,$20,$11,$88,$E8
    db $69,$74,$20,$63,$6F,$6D,$65,$73,$20,$F2,$0D,$70,$61,$74,$69,$65
    db $6E,$74,$63,$65,$2E,$20,$11,$4C,$69,$73,$61,$2C,$20,$88,$9D,$73
    db $6F,$72,$72,$79,$20,$AE,$0D,$6C,$65,$61,$76,$69,$6E,$67,$20,$79
    db $6F,$75,$2E,$20,$11,$88,$9D,$CA,$70,$61,$73,$73,$69,$6E,$67,$20
    db $61,$77,$61,$79,$2C,$0D,$72,$61,$74,$68,$65,$72,$2C,$20,$0D,$88
    db $9D,$B1,$E2,$73,$6C,$65,$65,$70,$2E,$20,$11,$57,$68,$65,$6E,$20
    db $97,$73,$63,$69,$65,$6E,$74,$69,$73,$74,$20,$F2,$0D,$C2,$6B,$6E
    db $6F,$77,$6C,$65,$64,$67,$65,$20,$BA,$0D,$6E,$65,$65,$64,$65,$64
    db $2C,$20,$88,$F1,$A1,$0D,$62,$61,$63,$6B,$2E,$20,$11,$0A,$4C,$69
    db $73,$61,$2C,$40,$62,$65,$40,$68,$61,$70,$70,$79,$2E,$0D,$42,$75
    db $74,$40,$64,$6F,$6E,$60,$74,$40,$72,$75,$73,$68,$0D,$79,$6F,$75
    db $72,$73,$65,$6C,$66,$2E,$0D,$0E,$28,$59,$65,$73,$2C,$40,$67,$72
    db $61,$64,$75,$61,$6C,$6C,$79,$2E,$2E,$2E,$2E,$2E,$2E,$2E,$2E,$13
    db $DF,$F0,$10,$2E,$2E,$2E,$2E,$2E,$2E,$2E,$2E,$20,$13,$DF,$F0
    COP #$81
    db $09,$03
    COP #$83
    COP #$80
    db $03
    COP #$82
    COP #$05
    db $06,$00
    COP #$80
    db $09
    COP #$82
    COP #$80
    db $03
    COP #$82
    %CopMakeNpcUnpassable()
    COP #$17
    db $36,$E7
    %CopSetScriptAddrToNextInstruction()
    RTL
    %CopJumpIfEventFlagIsUnset($8902, $E723)
    COP #$97
    COP #$80
    db $08
    COP #$82
    %CopMakeNpcUnpassable()
    COP #$17
    db $3B,$E7
    COP #$05
    db $02,$09
    COP #$16
    COP #$17
    db $53,$E7
    COP #$80
    db $09
    COP #$82
    COP #$80
    db $06
    COP #$82
    %CopMakeNpcUnpassable()
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$01
    db $58,$E7
    RTL
    COP #$01
    db $72,$E7
    COP #$1A
    db $02,$CF,$02,$46,$E7
    COP #$01
    db $74,$E8
    COP #$17
    db $53,$E7
    COP #$09
    db $02,$89
    RTL
    COP #$01
    db $21,$E9
    RTL
    db $10,$0F,$4C,$69,$73,$61,$20,$BC,$6B,$65,$65,$70,$73,$20,$0D,$63
    db $72,$79,$69,$6E,$67,$2E,$20,$13,$DF,$F0,$10,$48,$65,$6C,$6C,$6F
    db $2E,$20,$94,$FE,$AE,$0D,$73,$74,$61,$79,$69,$6E,$67,$20,$F2,$C3
    db $77,$68,$69,$6C,$65,$20,$0D,$C2,$66,$61,$74,$68,$65,$72,$20,$70
    db $61,$73,$73,$65,$64,$20,$61,$77,$61,$79,$2E,$11,$88,$64,$69,$64
    db $6E,$60,$E5,$E8,$88,$77,$6F,$75,$6C,$64,$0D,$DB,$68,$69,$6D,$20
    db $61,$67,$61,$69,$6E,$2E,$20,$11,$83,$A3,$CB,$FE,$88,$0D,$F3,$66
    db $69,$6E,$61,$6C,$6C,$79,$20,$61,$62,$6C,$65,$20,$E2,$0D,$DB,$68
    db $69,$6D,$20,$61,$67,$61,$69,$6E,$2E,$20,$11,$45,$76,$65,$72,$20
    db $73,$69,$6E,$63,$65,$20,$FE,$73,$61,$76,$65,$64,$20,$0D,$C3,$61
    db $74,$20,$47,$72,$61,$73,$73,$20,$56,$61,$6C,$6C,$65,$79,$2C,$20
    db $0D,$88,$69,$6D,$61,$67,$69,$6E,$65,$64,$20,$FE,$0D,$66,$69,$67
    db $68,$74,$69,$6E,$67,$20,$C4,$0D,$FA,$88,$63,$6C,$6F,$73,$65,$64
    db $20,$C2,$0D,$65,$79,$65,$73,$2E,$20,$11,$42,$79,$20,$E1,$77,$61
    db $79,$2C,$20,$0D,$88,$77,$6F,$75,$6C,$64,$20,$BE,$FE,$E2,$0D,$61
    db $6E,$73,$77,$65,$72,$20,$C2,$71,$75,$65,$73,$74,$69,$6F,$6E,$73
    db $2E,$20,$11,$41,$72,$65,$20,$FE,$97,$72,$65,$61,$6C,$20,$B8,$0D
    db $62,$65,$69,$6E,$67,$20,$BE,$6D,$65,$3F,$20,$0C,$88,$DB,$2E,$2E
    db $2E,$2E,$2E,$2E,$2E,$2E,$2E,$20,$11,$88,$66,$65,$65,$6C,$20,$BE
    db $FE,$98,$0D,$66,$61,$72,$20,$61,$77,$61,$79,$20,$65,$76,$65,$6E
    db $20,$EB,$0D,$FE,$98,$72,$69,$67,$68,$74,$20,$BB,$66,$72,$6F,$6E
    db $74,$0D,$CB,$6D,$65,$2E,$20,$11,$88,$66,$65,$65,$6C,$20,$BE,$FE
    db $98,$0D,$F7,$75,$73,$20,$AD,$E1,$0D,$73,$6B,$79,$2E,$20,$11,$88
    db $64,$6F,$6E,$60,$E5,$BD,$68,$6F,$77,$20,$E2,$0D,$65,$78,$70,$72
    db $65,$73,$73,$20,$E1,$77,$61,$79,$20,$88,$0D,$66,$65,$65,$6C,$2E
    db $20,$11,$83,$E3,$BA,$6F,$6B,$61,$79,$2C,$20,$0D,$49,$2C,$20,$88
    db $6C,$6F,$76,$65,$2E,$2E,$2E,$20,$11,$95,$98,$B1,$E2,$66,$69,$67
    db $68,$74,$0D,$44,$65,$61,$74,$68,$74,$6F,$6C,$6C,$2C,$20,$72,$69
    db $67,$68,$74,$3F,$20,$11,$13,$22,$E9,$10,$88,$77,$6F,$75,$6C,$64
    db $20,$73,$61,$79,$20,$67,$6F,$6F,$64,$62,$79,$65,$2C,$20,$0D,$A2
    db $88,$BD,$88,$9D,$B1,$0D,$E2,$63,$72,$79,$2E,$20,$11,$8F,$6C,$65
    db $61,$76,$65,$20,$77,$68,$69,$6C,$65,$20,$C2,$0D,$A0,$BA,$74,$75
    db $72,$6E,$65,$64,$2E,$20,$13,$DF,$F0
    COP #$81
    db $15,$03
    COP #$83
    COP #$80
    db $12
    COP #$82
    COP #$09
    db $07,$80
    COP #$05
    db $07,$80
    LDA.W $0016,X
    ORA.W #$1000
    STA.W $0016,X
    COP #$96
    COP #$80
    db $17
    COP #$82
    COP #$81
    db $15,$03
    COP #$83
    COP #$97
    COP #$80
    db $17
    COP #$82
    COP #$09
    db $07,$80
    COP #$05
    db $06,$00
    COP #$86
    RTL
    COP #$03
    db $40
    COP #$B0
    db $B5,$E9,$04,$00,$03
    COP #$1B
    db $AC,$E9,$02,$00
    COP #$04
    COP #$09
    db $06,$80
    COP #$86
    RTL
    COP #$A8
    db $00,$80,$0E
    COP #$A3
    LDA.W $0372
    STA.W $001C,X
    JSR.W CODE_04E9CF
    BRK #$85
    COP #$80
    db $00
    COP #$82
    COP #$86
    RTL

CODE_04E9CF:
    COP #$1F
    COP #$35
    db $40
    LDA.W $0437
    SEC
    SBC.W #$0020
    CLC
    ADC.W $0000,X
    STA.W $0000,X
    COP #$1F
    COP #$35
    db $40
    LDA.W $0437
    SEC
    SBC.W #$0020
    CLC
    ADC.W $0002,X
    STA.W $0002,X
    RTS
    %CopJumpIfEventFlagIsUnset($8702, $EA13)
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$28,$05,$06,$EA
    RTL
    COP #$01
    db $16,$EA
    BRK #$5E
    COP #$0A
    db $1A
    COP #$09
    db $02,$87
    COP #$86
    RTL
    db $10,$91,$62,$6F,$64,$79,$20,$BA,$68,$6F,$6C,$64,$69,$6E,$67,$20
    db $0D,$73,$6F,$6D,$65,$74,$68,$69,$6E,$67,$2E,$20,$11,$02,$02,$20
    db $AF,$0D,$3C,$03,$24,$68,$61,$72,$70,$20,$73,$74,$72,$69,$6E,$67
    db $2E,$03,$20,$3E,$20,$13,$DF,$F0
    LDA.W #$2C81
    STA.L $7F0000
    COP #$03
    db $02
    COP #$04
    COP #$34
    LDA.W #$6FC0
    TSB.W wButtonMask
    COP #$80
    db $23
    COP #$82
    COP #$03
    db $3D
    COP #$04
    COP #$01
    db $A6,$EA
    COP #$80
    db $1F
    COP #$82
    COP #$03
    db $1F
    COP #$04
    COP #$01
    db $9D,$EC
    COP #$09
    db $00,$80
    COP #$05
    db $01,$00
    COP #$03
    db $1F
    COP #$04
    COP #$01
    db $BE,$EC
    COP #$09
    db $03,$88
    COP #$3C
    db $04
    COP #$10
    db $10,$01,$01,$20,$00,$F0,$01
    LDA.W #$6FC0
    TRB.W wButtonMask
    RTL
    db $10,$88,$B5,$62,$65,$65,$6E,$20,$68,$61,$75,$6E,$74,$65,$64,$20
    db $62,$79,$0D,$97,$6D,$6F,$6E,$73,$74,$65,$72,$20,$A8,$0D,$3C,$72
    db $65,$73,$65,$61,$72,$63,$68,$2E,$3E,$20,$11,$88,$77,$6F,$75,$6C
    db $64,$20,$CA,$70,$61,$79,$20,$0D,$61,$74,$74,$65,$6E,$74,$69,$6F
    db $6E,$20,$E2,$C2,$77,$69,$66,$65,$20,$0D,$96,$64,$61,$75,$67,$68
    db $74,$65,$72,$2E,$20,$11,$53,$74,$69,$6C,$6C,$20,$88,$64,$69,$64
    db $6E,$60,$E5,$0D,$75,$6E,$64,$65,$72,$73,$74,$61,$6E,$64,$2E,$20
    db $11,$88,$F3,$70,$72,$61,$69,$73,$65,$64,$20,$61,$73,$20,$97,$0D
    db $67,$65,$6E,$69,$75,$73,$2C,$20,$73,$63,$69,$65,$6E,$74,$69,$73
    db $74,$20,$96,$0D,$65,$76,$65,$6E,$20,$E1,$8A,$6F,$66,$74,$65,$6E
    db $20,$0D,$67,$61,$76,$65,$20,$C3,$6F,$72,$64,$65,$72,$73,$2E,$20
    db $11,$88,$6B,$65,$70,$74,$20,$69,$6E,$76,$65,$6E,$74,$69,$6E,$67
    db $20,$0D,$74,$68,$69,$6E,$67,$73,$2C,$20,$57,$61,$74,$65,$72,$20
    db $4D,$69,$6C,$6C,$2C,$20,$0D,$45,$6C,$65,$76,$61,$74,$6F,$72,$2C
    db $20,$96,$65,$76,$65,$6E,$20,$0D,$E4,$41,$69,$72,$73,$68,$69,$70
    db $2E,$20,$11,$46,$69,$6E,$61,$6C,$6C,$79,$20,$88,$69,$6E,$76,$65
    db $6E,$74,$65,$64,$20,$0D,$97,$C9,$E2,$63,$61,$6C,$6C,$20,$75,$70
    db $6F,$6E,$0D,$65,$76,$69,$6C,$2C,$20,$6F,$6E,$6C,$79,$20,$E2,$0D
    db $72,$65,$61,$6C,$69,$7A,$65,$20,$73,$6F,$6D,$65,$74,$68,$69,$6E
    db $67,$2E,$20,$11,$54,$6F,$6F,$6C,$73,$20,$98,$E9,$E2,$0D,$6D,$61
    db $6B,$65,$20,$70,$65,$6F,$70,$6C,$65,$73,$60,$20,$C1,$0D,$65,$61
    db $73,$69,$65,$72,$2E,$20,$11,$83,$F4,$74,$6F,$6F,$6C,$73,$20,$73
    db $74,$61,$72,$74,$20,$0D,$E2,$ED,$70,$65,$6F,$70,$6C,$65,$2C,$20
    db $11,$74,$68,$65,$69,$72,$20,$63,$75,$6C,$74,$75,$72,$65,$20,$F1
    db $0D,$64,$65,$63,$6C,$69,$6E,$65,$20,$96,$74,$68,$65,$79,$20,$F1
    db $0D,$62,$65,$63,$6F,$6D,$65,$20,$75,$6E,$68,$61,$70,$70,$79,$2E
    db $20,$11,$57,$68,$65,$6E,$20,$88,$B4,$E2,$E1,$0D,$57,$6F,$72,$6C
    db $64,$20,$CB,$45,$76,$69,$6C,$2C,$20,$0D,$44,$65,$61,$74,$68,$74
    db $6F,$6C,$6C,$20,$F1,$A1,$0D,$63,$61,$6C,$6C,$65,$64,$2E,$20,$11
    db $88,$64,$6F,$6E,$60,$E5,$F8,$E2,$0D,$A5,$E4,$62,$65,$61,$75,$74
    db $69,$66,$75,$6C,$0D,$F6,$F1,$A1,$0D,$64,$65,$73,$74,$72,$6F,$79
    db $65,$64,$2E,$20,$13,$DF,$F0,$10,$50,$6C,$65,$61,$73,$65,$2C,$20
    db $6C,$65,$74,$20,$C3,$6F,$66,$66,$20,$0D,$73,$6F,$6D,$65,$77,$68
    db $65,$72,$65,$21,$20,$13,$DF,$F0,$10,$44,$72,$2E,$4C,$65,$6F,$2C
    db $20,$0D,$FE,$6D,$61,$79,$20,$A1,$72,$69,$67,$68,$74,$2E,$20,$11
    db $83,$88,$6D,$75,$73,$74,$20,$E6,$FE,$74,$6F,$0D,$8D,$63,$61,$73
    db $74,$6C,$65,$20,$96,$0D,$6D,$61,$6B,$65,$20,$73,$75,$72,$65,$20
    db $FE,$64,$6F,$20,$CA,$0D,$65,$73,$63,$61,$70,$65,$2E,$20,$11,$88
    db $B5,$E2,$77,$6F,$72,$72,$79,$20,$99,$0D,$E1,$70,$72,$65,$73,$65
    db $6E,$74,$2C,$20,$0D,$CA,$74,$6F,$6D,$6F,$72,$72,$6F,$77,$2E,$20
    db $11,$88,$6D,$75,$73,$74,$20,$64,$6F,$20,$C2,$6A,$6F,$62,$20,$6F
    db $72,$20,$62,$65,$0D,$70,$75,$6E,$69,$73,$68,$65,$64,$2E,$20,$11
    db $8F,$74,$72,$79,$20,$E2,$0D,$75,$6E,$64,$65,$72,$73,$74,$61,$6E
    db $64,$20,$74,$68,$69,$73,$2E,$20,$13,$DF,$F0
    COP #$80
    db $14
    COP #$82
    COP #$05
    db $00,$00
    COP #$80
    db $13
    COP #$82
    COP #$09
    db $01,$80
    %CopSetScriptAddrToNextInstruction()
    RTL
    %CopMakeNpcUnpassable()
    COP #$80
    db $13
    COP #$82
    %CopSetScriptAddrToNextInstruction()
    RTL
    COP #$14
    db $95,$01,$8C,$ED
    COP #$3B
    db $95,$01,$9E,$ED
    LDA.W $0016,X
    AND.W #$FFEF
    STA.W $0016,X
    %CopSetScriptAddrToNextInstruction()
    COP #$0D
    db $00,$17,$0F,$9F,$ED
    RTL
    COP #$01
    db $B6,$ED
    COP #$09
    db $00,$89
    STZ.W $0419
    BRK #$91
    COP #$10
    db $13,$01,$01,$70,$01,$F0,$00
    RTL
    db $10,$02,$02,$20,$64,$72,$6F,$76,$65,$20,$0D,$E1,$41,$69,$72,$73
    db $68,$69,$70,$20,$A0,$E2,$0D,$E1,$64,$6F,$63,$6B,$2E,$20,$13,$DF
    db $F0
    COP #$14
    db $84,$01,$DE,$ED
    RTL
    JSL.L CODE_03B161
    COP #$17
    db $75,$EE
    SEP #$20
    LDA.B #$04
    PHA
    REP #$20
    LDA.W #$A288
    PHA
    RTL
    db $10,$93,$98,$C7,$0D,$74,$72,$65,$61,$73,$75,$72,$65,$20,$63,$68
    db $65,$73,$74,$73,$20,$68,$69,$64,$64,$65,$6E,$0D,$BB,$E1,$62,$61
    db $73,$65,$6D,$65,$6E,$74,$73,$20,$96,$0D,$74,$6F,$77,$65,$72,$73
    db $2E,$20,$11,$89,$97,$73,$6F,$6C,$64,$69,$65,$72,$2C,$20,$E1,$CC
    db $0D,$FB,$6B,$6E,$6F,$77,$73,$20,$97,$6C,$6F,$74,$20,$99,$0D,$E1
    db $8D,$63,$61,$73,$74,$6C,$65,$20,$0D,$6A,$6F,$69,$6E,$73,$20,$79
    db $6F,$75,$2C,$20,$11,$74,$68,$65,$6E,$20,$E1,$74,$72,$65,$61,$73
    db $75,$72,$65,$73,$20,$0D,$F1,$A1,$AF,$65,$61,$73,$69,$6C,$79,$2E
    db $20,$11,$0C
    COP #$01
    db $F2,$ED

CODE_04EE79:
    COP #$01
    db $90,$F0
    COP #$1A
    db $5B,$CF,$02,$98,$EE
    LDA.L $0003D0
    BEQ CODE_04EE98
    COP #$01
    db $B8,$F0
    COP #$10
    db $10,$01,$00,$F0,$01,$40,$01
    RTL

CODE_04EE98:
    COP #$01
    db $CB,$F0
    RTL
    COP #$14
    db $63,$01,$A4,$EE
    RTL
    JSL.L CODE_03B161
    COP #$17
    db $29,$EF
    SEP #$20
    LDA.B #$04
    PHA
    REP #$20
    LDA.W #$A288
    PHA
    RTL
    db $10,$91,$5A,$61,$6E,$74,$65,$74,$73,$75,$20,$53,$77,$6F,$72,$64
    db $20,$BA,$0D,$AF,$BB,$4C,$65,$6F,$60,$D7,$0D,$6C,$61,$62,$6F,$72
    db $61,$74,$6F,$72,$79,$2E,$20,$11,$82,$E1,$53,$70,$69,$72,$69,$74
    db $20,$53,$77,$6F,$72,$64,$20,$0D,$BB,$E4,$63,$61,$73,$74,$6C,$65
    db $2E,$2E,$2E,$2E,$2E,$20,$11,$74,$72,$79,$20,$E2,$72,$65,$6D,$65
    db $6D,$62,$65,$72,$20,$77,$68,$65,$72,$65,$20,$0D,$E1,$69,$6E,$76
    db $69,$6E,$63,$69,$62,$6C,$65,$20,$0D,$C4,$61,$72,$65,$2E,$20,$11
    db $0C
    COP #$01
    db $B8,$EE
    BRL CODE_04EE79
    %CopJumpIfItemIsNotEquipped(!itemElementalArmor, CODE_04EF36)
    RTL

CODE_04EF36:
    LDA.W #$0088
    JSL.L CODE_04F462
    BCS CODE_04EF40
    RTL

CODE_04EF40:
    COP #$39
    db $03
    RTL
    DEC.W $038A
    RTL
    LDA.W $038C
    SEC
    SBC.W #$0008
    STA.W $038C
    RTL
    DEC.W $038C
    RTL
    %CopJumpIfEventFlagIsUnset($8900, $EF69)
    %CopJumpIfItemIsNotEquipped(!itemAirshipKey, CODE_04EF69)
    COP #$0D
    db $00,$17,$0F,$6A,$EF

CODE_04EF69:
    RTL
    LDA.W #$2F80
    TSB.W wButtonMask
    COP #$1B
    db $76,$EF,$02,$00
    LDA.W $0016,X
    AND.W #$FFEF
    STA.W $0016,X
    COP #$01
    db $F9,$EF
    LDA.W $0016,X
    ORA.W #$0010
    STA.W $0016,X
    BRK #$4F
    %CopSetScriptAddrToNextInstruction()
    LDA.W $033E
    BEQ CODE_04EF99
    DEC.W $038A
    RTL

CODE_04EF99:
    BRK #$4A
    COP #$1B
    db $A1,$EF,$46,$00
    BRK #$91
    %CopSetScriptAddrToNextInstruction()
    LDA.W $0340
    BEQ CODE_04EFAE
    DEC.W $038C
    RTL

CODE_04EFAE:
    STZ.W $034E
    STZ.W $0350
    LDA.W #$0200
    STA.W $0346
    STA.W $0348
    LDA.W #$0002
    STA.W $0030,X

CODE_04EFC3:
    COP #$03
    db $10
    LDA.W $0340
    SEC
    SBC.W $0030,X
    STA.W $0340
    COP #$04
    INC.W $0030,X
    LDA.W $0030,X
    CMP.W #$0010
    BCC CODE_04EFC3
    STZ.W $0419
    COP #$10
    db $13,$02,$01,$70,$01,$F0,$00
    COP #$03
    db $10
    LDA.W $0340
    SEC
    SBC.W $0030,X
    STA.W $0340
    COP #$04
    RTL
    db $10,$02,$02,$20,$70,$6C,$75,$67,$67,$65,$64,$20,$0D,$BB,$E1,$73
    db $74,$61,$72,$74,$69,$6E,$67,$20,$6B,$65,$79,$2E,$20,$13,$DF,$F0
    SEP #$20
    LDY.W #$F02B
    STY.W $03D8
    LDA.B #$04
    STA.W $03DA
    REP #$20
    COP #$86
    RTL
    db $16,$19,$06,$0D,$00,$00,$01,$00,$15,$17,$0D,$14,$00,$00,$01,$00
    db $18,$1A,$0D,$14,$00,$00,$01,$00,$17,$18,$10,$14,$00,$00,$01,$00
    db $13,$1C,$14,$1E,$00,$00,$01,$00,$13,$16,$1E,$23,$00,$00,$01,$00
    db $19,$1C,$1E,$23,$00,$00,$01,$00,$16,$19,$23,$29,$00,$00,$01,$00
    db $FF,$10,$88,$9D,$F7,$CE,$0D,$E1,$77,$6F,$72,$6C,$64,$2C,$20,$0D
    db $B9,$E6,$74,$68,$69,$73,$2E,$20,$11,$02,$02,$20,$D4,$0D,$45,$58
    db $50,$21,$20,$11,$0C,$10,$57,$6F,$75,$6C,$64,$20,$FE,$BE,$E2,$0D
    db $72,$65,$74,$75,$72,$6E,$20,$E2,$E1,$6F,$75,$74,$73,$69,$64,$65
    db $20,$0D,$CB,$8D,$43,$61,$73,$74,$6C,$65,$3F,$20,$0C,$47,$6F,$6F
    db $64,$20,$6C,$75,$63,$6B,$20,$74,$68,$65,$6E,$2E,$20,$13,$DF,$F0
    db $84,$A0,$E2,$C3,$F4,$0D,$FE,$66,$65,$65,$6C,$20,$BE,$69,$74,$2E
    db $20,$13,$DF,$F0,$12,$08,$08,$04,$0C

CODE_04F0E4:
    PHP
    PHX
    PHB
    REP #$20
    LDA.W actId
    INC A
    STA.W $1B90
    LDA.W saveGameEntry
    STA.L $701FFE
    XBA
    ASL A
    ASL A
    TAY
    PHY
    LDX.W #$0203
    LDA.W #$01FF
    MVN $70,$7F
    LDX.W #$1A5E
    LDA.W #$01F9
    MVN $70,$01
    PLX
    PLB
    JSL.L calcCrcOfSaveGameEntry
    LDA.B $16
    STA.L $7003FA,X
    LDA.B $18
    STA.L $7003FC,X
    PHB
    TXY
    TYA
    CLC
    ADC.W #$1000
    TAY
    LDA.W #$03FD
    MVN $70,$70
    PLB
    PLX
    PLP
    RTL


CODE_04F132:
    PHP
    PHB
    PHX
    REP #$20
    LDA.W saveGameEntry
    XBA
    ASL A
    ASL A
    TAX
    JSL.L calcCrcOfSaveGameEntry
    LDA.B $16
    CMP.L $7003FA,X
    BNE CODE_04F169
    LDA.B $18
    CMP.L $7003FC,X
    BNE CODE_04F169
    LDY.W #$0203
    LDA.W #$01FF
    MVN $7F,$70
    LDY.W #$1A5E
    LDA.W #$01F9
    MVN $01,$70
    PLX
    PLB
    PLP
    CLC
    RTL


CODE_04F169:
    PLX
    PLB
    PLP
    SEC
    RTL


calcCrcOfSaveGameEntry:
    PHP
    PHX
    PHY
    REP #$20
    LDA.W saveGameEntry
    XBA
    ASL A
    ASL A
    TAX
    LDA.W #$3652
    STA.B $16
    STA.B $18
    LDA.W #$01FD
    STA.B $0C

CODE_04F186:
    LDA.L save_entries,X
    PHA
    CLC
    ADC.B $16
    STA.B $16
    PLA
    EOR.B $18
    STA.B $18
    INX
    INX
    DEC.B $0C
    BNE CODE_04F186
    PLY
    PLX
    PLP
    RTL


CODE_04F19F:
    PHP
    REP #$20
    LDA.W #$C002
    STA.B $29
    SEP #$20
    LDA.B #$0A
    STA.B $2B
    REP #$20
    LDA.W #$4000
    STA.B $23
    LDX.W #$8000
    STX.B $25
    JSL.L CODE_02B272
    PHB
    LDX.W #$8000
    LDY.W #$3000
    LDA.W #$3FFF
    MVN $7F,$7E
    PLB
    LDA.W #$C002
    STA.B $29
    SEP #$20
    LDA.B #$0B
    STA.B $2B
    REP #$20
    LDA.W #$2000
    STA.B $23
    LDX.W #$8000
    STX.B $25
    JSL.L CODE_02B272
    PHB
    LDX.W #$8000
    LDY.W #$1000
    LDA.W #$1FFF
    MVN $7F,$7E
    PLB
    LDA.W #$D002
    STA.B $29
    SEP #$20
    LDA.B #$09
    STA.B $2B
    REP #$20
    LDA.W #$2000
    STA.B $23
    LDX.W #$8000
    STX.B $25
    JSL.L CODE_02B272
    PHB
    LDX.W #$8000
    LDY.W #$C000
    LDA.W #$1FFF
    MVN $7F,$7E
    PLB
    JSL.L CODE_04F260
    PLP
    RTL


CODE_04F223:
    PHP
    REP #$20
    LDA.W currentMapNumber
    SEC
    SBC.W #$000F
    CMP.W #$0004
    BCS CODE_04F235
    BRL CODE_04F256


CODE_04F235:
    LDA.W $0312
    AND.W #$001F
    XBA
    LSR A
    CLC
    ADC.W #$1000
    STA.W $03DD
    LDA.W $0312
    AND.W #$0003
    ASL A
    TAX
    LDA.L UNREACH_04F258,X
    STA.W $03DF
    INC.W $03E1

CODE_04F256:
    PLP
    RTL


UNREACH_04F258:
    db $60,$20,$80,$20,$A0,$20,$C0,$20

CODE_04F260:
    PHP
    REP #$20
    LDX.W #$0000
    TXA

CODE_04F267:
    STA.W $0100,X
    INX
    INX
    CPX.W #$0200
    BNE CODE_04F267
    DEC A
    STA.W $0100,X
    PLP
    RTL

    db $08,$DA,$E2,$20,$AD,$CD,$03,$F0,$35,$9C,$CD,$03,$A2,$00,$00,$9B
    db $AD,$CC,$03,$8D,$1B,$21,$9C,$1B,$21,$B9,$84,$FC,$8D,$1C,$21,$8D
    db $1C,$21,$C2,$20,$AD,$35,$21,$9F,$00,$79,$7E,$9F,$00,$7B,$7E,$98
    db $E2,$20,$18,$6D,$CE,$03,$A8,$E8,$E8,$E0,$00,$02,$D0,$DB,$FA,$28
    db $6B

zCalculateCurrentPositionAndActIdSomething:
    LDA.B $18
    PHA
    SEP #$20
    LDA.W $0343
    JSL.L multiply
    STA.B $02,S
    LDA.B $16
    LSR A
    LSR A
    LSR A
    LSR A
    AND.B #$0F
    CLC
    ADC.B $01,S
    STA.B $01,S
    LDA.B $17
    CLC
    ADC.B $02,S
    STA.B $02,S
    REP #$20
    PLX
    CPX.W #$4000
    BCC CODE_04F2E5
    LDX.W #$0000

CODE_04F2E5:
    RTL


CODE_04F2E6:
    LDA.B $18
    AND.W #$00F8
    ASL A
    ASL A
    PHA
    LDA.B $16
    AND.W #$00F8
    LSR A
    LSR A
    LSR A
    CLC
    ADC.B $01,S
    STA.B $01,S
    LDA.B $16
    AND.W #$0100
    ASL A
    ASL A
    CLC
    ADC.B $01,S
    STA.B $01,S
    LDA.B $18
    AND.W #$0100
    ASL A
    ASL A
    ASL A
    CLC
    ADC.B $01,S
    STA.B $01,S
    PLA
    CLC
    ADC.W #$6000
    RTL


CODE_04F31A:
    PHP
    SEP #$20
    TXA
    AND.B #$0F
    CMP.B #$0F
    REP #$20
    BEQ CODE_04F329
    INX
    PLP
    RTL


CODE_04F329:
    TXA
    CLC
    ADC.W #$00F1
    TAX
    PLP
    RTL


CODE_04F331:
    PHP
    REP #$20
    TXA
    SEP #$20
    CLC
    ADC.B #$10
    REP #$20
    BCS CODE_04F341
    TAX
    PLP
    RTL


CODE_04F341:
    CLC
    ADC.W $0342
    TAX
    PLP
    RTL


markChestOpened:
    PHP
    REP #$20
    PHA
    PHX
    PHY
    PHA
    PHY
    AND.W #$03F8
    LSR A
    LSR A
    LSR A
    CLC
    ADC.B $01,S
    STA.B $01,S
    PLY
    PLA
    AND.W #$0007
    TAX
    SEP #$20
    LDA.L bitmask_0,X
    ORA.W $0000,Y
    STA.W $0000,Y
    REP #$20
    PLY
    PLX
    PLA
    PLP
    RTL

    db $08,$C2,$20,$48,$DA,$5A,$48,$5A,$29,$F8,$03,$4A,$4A,$4A,$18,$63
    db $01,$83,$01,$7A,$68,$29,$07,$00,$AA,$E2,$20,$BF,$77,$FA,$01,$49
    db $FF,$39,$00,$00,$99,$00,$00,$C2,$20,$7A,$FA,$68,$28,$6B

checkForSealedLair:
    PHP
    REP #$20
    PHA
    PHX
    PHY
    PHA
    PHY
    AND.W #$03F8
    LSR A
    LSR A
    LSR A
    CLC
    ADC.B $01,S
    STA.B $01,S
    PLY
    PLA
    AND.W #$0007
    TAX
    SEP #$20
    LDA.L bitmask_0,X
    AND.W $0000,Y
    REP #$20
    BNE CODE_04F3CE
    PLY
    PLX
    PLA
    PLP
    CLC
    RTL


CODE_04F3CE:
    PLY
    PLX
    PLA
    PLP
    SEC
    RTL


CODE_04F3D4:
    PHP
    SEP #$20
    LDY.W $039C
    LDX.W $001E,Y
    CPX.W #$002C
    BCS CODE_04F3E8
    LDA.W UNREACH_01FA7F,X
    PLP
    CLC
    RTL


CODE_04F3E8:
    PLP
    SEC
    RTL


CODE_04F3EB:
    PHP
    REP #$20
    LDA.W $001C,X
    EOR.W #$4000
    STA.W $001C,X
    PLP
    RTL


CODE_04F3F9:
    PHP
    PHX
    SEP #$20
    LDA.W currentMapNumber
    SEC
    SBC.B #$0F
    CMP.B #$04
    BCS CODE_04F40A
    BRL CODE_04F45F


CODE_04F40A:
    LDA.W $0439
    BNE CODE_04F414
    LDA.W playerEquippedSword
    BNE CODE_04F440

CODE_04F414:
    LDX.W $039C
    LDA.B #$0A
    STA.W $0024,X
    LDY.W $001E,X
    LDA.W UNREACH_01FA7F,Y
    EOR.B #$01
    STA.W $001E,X
    REP #$20
    STZ.W $0020,X
    JSL.L CODE_0088F3
    LDX.W $039E
    LDA.W $0016,X
    ORA.W #$2000
    STA.W $0016,X
    SEP #$20
    BRA CODE_04F45F


CODE_04F440:
    LDX.W $039C
    LDA.B #$0B
    STA.W $0024,X
    REP #$20
    STZ.W $0020,X
    JSL.L CODE_0088F3
    LDX.W $039E
    LDA.W $0016,X
    AND.W #$DFFF
    STA.W $0016,X
    SEP #$20

CODE_04F45F:
    PLX
    PLP
    RTL


CODE_04F462:
    STA.B $00
    LDY.W $039C
    LDA.W $0016,Y
    BIT.W #$0C00
    BEQ CODE_04F471
    CLC
    RTL

CODE_04F471:
    PHX
    LDA.W player_pos_x_real
    AND.W #$000F
    BEQ CODE_04F485
    LDA.W player_pos_y_real
    AND.W #$000F
    BEQ CODE_04F4B0
    BRL CODE_04F51A

CODE_04F485:
    LDA.W player_pos_y_real
    AND.W #$000F
    BNE CODE_04F4E8
    LDA.W player_pos_x_real
    STA.B $16
    LDA.W player_pos_y_real
    SEC
    SBC.W #$0010
    STA.B $18
    JSL.L zCalculateCurrentPositionAndActIdSomething
    LDA.L $7E8000,X
    AND.W #$00FF
    CMP.B $00
    BNE CODE_04F4AD
    BRL CODE_04F56F

CODE_04F4AD:
    PLX
    CLC
    RTL

CODE_04F4B0:
    LDA.W player_pos_x_real
    AND.W #$FFF0
    STA.B $16
    LDA.W player_pos_y_real
    SEC
    SBC.W #$0010
    STA.B $18
    JSL.L zCalculateCurrentPositionAndActIdSomething
    LDA.L $7E8000,X
    AND.W #$00FF
    CMP.B $00
    BNE CODE_04F4D3
    BRL CODE_04F56F

CODE_04F4D3:
    JSL.L CODE_04F31A
    LDA.L $7E8000,X
    AND.W #$00FF
    CMP.B $00
    BNE CODE_04F4E5
    BRL CODE_04F56F

CODE_04F4E5:
    PLX
    CLC
    RTL

CODE_04F4E8:
    LDA.W player_pos_x_real
    STA.B $16
    LDA.W player_pos_y_real
    AND.W #$FFF0
    SEC
    SBC.W #$0010
    STA.B $18
    JSL.L zCalculateCurrentPositionAndActIdSomething
    LDA.L $7E8000,X
    AND.W #$00FF
    CMP.B $00
    BEQ CODE_04F56F
    JSL.L CODE_04F331
    LDA.L $7E8000,X
    AND.W #$00FF
    CMP.B $00
    BEQ CODE_04F56F
    PLX
    CLC
    RTL

CODE_04F51A:
    LDA.W player_pos_x_real
    AND.W #$FFF0
    STA.B $16
    LDA.W player_pos_y_real
    AND.W #$FFF0
    SEC
    SBC.W #$0010
    STA.B $18
    JSL.L zCalculateCurrentPositionAndActIdSomething
    LDA.L $7E8000,X
    AND.W #$00FF
    CMP.B $00
    BEQ CODE_04F56F
    PHX
    JSL.L CODE_04F31A
    LDA.L $7E8000,X
    AND.W #$00FF
    PLX
    CMP.B $00
    BEQ CODE_04F56F
    JSL.L CODE_04F331
    LDA.L $7E8000,X
    AND.W #$00FF
    CMP.B $00
    BEQ CODE_04F56F
    JSL.L CODE_04F31A
    LDA.L $7E8000,X
    AND.W #$00FF
    CMP.B $00
    BEQ CODE_04F56F
    PLX
    CLC
    RTL

CODE_04F56F:
    PLX
    SEC
    RTL

checkForStartPress:
    LDA.W StartMenuDisplayed
    BMI CODE_04F5DB
    BNE CODE_04F5D1
    LDA.W $0323
    BIT.B #$10
    BEQ CODE_04F5DB
    INC.W StartMenuDisplayed
    LDA.B #$F2
    STA.W $2140
    LDA.W $4218
    BIT.B #$80
    BNE CODE_04F5B1
    LDY.W #$C536
    JSL.L printOsdStringFromBank2
    LDA.W $0439
    BNE CODE_04F5AC
    LDA.W $0456
    LDX.W #$1B80
    JSL.L convert_hex_to_dec
    LDY.W #$C547
    JSL.L printOsdStringFromBank2

CODE_04F5AC:
    LDA.B #$01
    STA.W $03B8

CODE_04F5B1:
    JSR.W vblankAndCheckIfStartWasPressed
    BNE CODE_04F5B1

CODE_04F5B6:
    JSR.W vblankAndCheckIfStartWasPressed
    BEQ CODE_04F5B6
    LDY.W #$C56A
    JSL.L printOsdStringFromBank2
    LDA.B #$01
    STA.W $03B8
    LDA.B #$01
    STA.W $2140
    JSL.L wait_vblank
    RTL


CODE_04F5D1:
    LDA.W $0323
    BIT.B #$10
    BNE CODE_04F5DB
    STZ.W StartMenuDisplayed

CODE_04F5DB:
    RTL


vblankAndCheckIfStartWasPressed:
    LDX.W $0312
    DEX
    STX.W $0312
    JSL.L wait_vblank
    LDA.W $0323
    BIT.B #$10
    RTS


healPlayerContinously:
    LDA.W bPlayerHealthRestore
    BEQ CODE_04F613
    LDA.W $0312
    AND.B #$03
    BNE CODE_04F613
    DEC.W bPlayerHealthRestore
    LDA.W playerCurrentHealth
    CMP.W playerMaxHealth
    BCS CODE_04F60B
    INC.W playerCurrentHealth
    BRK #$48
    BRA CODE_04F60E


CODE_04F60B:
    STZ.W bPlayerHealthRestore

CODE_04F60E:
    LDA.B #$04
    TSB.W updateHudBitfield

CODE_04F613:
    RTL


CODE_04F614:
    LDA.W $043D
    ORA.W $043E
    BEQ CODE_04F686
    LDA.W $0312
    AND.B #$07
    BNE CODE_04F686
    REP #$20
    BRK #$48
    SED
    LDA.W $043D
    AND.W #$000F
    BNE CODE_04F66D
    LDA.W $043D
    AND.W #$00F0
    BNE CODE_04F65E
    LDA.W $043D
    AND.W #$0F00
    BNE CODE_04F64F
    LDA.W $043D
    SEC
    SBC.W #$1000
    STA.W $043D
    LDA.W #$1000
    BRA CODE_04F67A


CODE_04F64F:
    LDA.W $043D
    SEC
    SBC.W #$0100
    STA.W $043D
    LDA.W #$0100
    BRA CODE_04F67A

CODE_04F65E:
    LDA.W $043D
    SEC
    SBC.W #$0010
    STA.W $043D
    LDA.W #$0010
    BRA CODE_04F67A


CODE_04F66D:
    LDA.W $043D
    SEC
    SBC.W #$0001
    STA.W $043D
    LDA.W #$0001

CODE_04F67A:
    CLD
    JSL.L addExp
    SEP #$20
    LDA.B #$02
    TSB.W updateHudBitfield

CODE_04F686:
    RTL


addExp:
    SED
    CLC
    ADC.W $1B78
    STA.W $1B78
    LDA.W $1B7A
    ADC.W #$0000
    STA.W $1B7A
    BCC CODE_04F6A3
    LDA.W #$9999
    STA.W $1B78
    STA.W $1B7A

CODE_04F6A3:
    CLD
    RTL


addGold:
    SED
    CLC
    ADC.W playerGold
    STA.W playerGold
    LDA.W $1B68
    ADC.W #$0000
    STA.W $1B68
    CMP.W #$009A
    BCC CODE_04F6C7
    LDA.W #$9999
    STA.W playerGold
    LDA.W #$0099
    STA.W $1B68

CODE_04F6C7:
    CLD
    RTL


subtractGold:
    SED
    STA.B $04
    LDA.W playerGold
    SEC
    SBC.B $04
    STA.B $00
    LDA.W $1B68
    SBC.W #$0000
    STA.B $02
    BCS CODE_04F6E1
    CLD
    SEC
    RTL

CODE_04F6E1:
    LDA.B $00
    STA.W playerGold
    LDA.B $02
    STA.W $1B68
    CLD
    CLC
    RTL


clearL3:
    PHX
    PHP
    REP #$20
    LDA.W #$2000
    LDX.W #$0000

CODE_04F6F8:
    STA.L $7F7000,X
    INX
    INX
    CPX.W #$1000
    BNE CODE_04F6F8
    PLP
    PLX
    RTL


CODE_04F706:
    LDA.W lairRevealInProgress
    BEQ CODE_04F722
    PHB
    LDA.B #$7F
    PHA
    PLB
    REP #$20
    LDX.W #$0000

CODE_04F715:
    STZ.W $0483,X
    INX
    INX
    CPX.W #$0400
    BNE CODE_04F715
    SEP #$20
    PLB

CODE_04F722:
    RTL


CODE_04F723:
    LDA.B #$02
    STA.B $2A
    LDA.W $0343
    XBA
    LDA.W $0345
    JSL.L multiply
    XBA
    TAY
    BEQ CODE_04F73C
    LDX.W #$8000
    JSR.W CODE_04F73D

CODE_04F73C:
    RTL


CODE_04F73D:
    PHX
    PHY
    LDX.W #$0000
    TXY
    LDA.B #$00
    STA.B $0C

CODE_04F747:
    LDA.B #$04
    STA.B $0E

CODE_04F74B:
    LDA.L $7E2001,X
    INX
    INX
    AND.B #$02
    PHA
    DEC.B $0E
    BNE CODE_04F74B
    PLA
    ASL A
    ORA.B $01,S
    ASL A
    ORA.B $02,S
    ASL A
    ORA.B $03,S
    LSR A
    STA.W $0200,Y
    INY
    PLA
    PLA
    PLA
    DEC.B $0C
    BNE CODE_04F747
    PLY
    PLX

CODE_04F770:
    LDA.L $7E0000,X
    STA.B $29
    LDA.B ($29)
    STA.L $7F0000,X
    INX
    DEY
    BNE CODE_04F770
    RTS


checkMapChange:
    LDA.W zwSceneId
    BEQ CODE_04F7D4
    LDA.W $032E
    BEQ CODE_04F798
    LDA.B #$1E
    STA.W $03E5
    LDA.B #$FF
    STA.W $03E7
    JSR.W CODE_04F7D5

CODE_04F798:
    STZ.W $032E
    STZ.B $42
    JSL.L disableNmiInterruptAndBlankScreen
    LDA.W zwSceneId
    STA.W mapSubNumber
    LDA.W $0319
    STA.W mapNumber
    STZ.W zwSceneId
    JSL.L CODE_04F9B5
    JSL.L CODE_008127
    JSL.L enable_interrupts
    STZ.W $03E5
    LDA.B #$01
    STA.W $03E7
    JSR.W CODE_04F827
    INC.W $032E
    STZ.W $03E3
    STZ.W $0462
    JSL.L CODE_008127

CODE_04F7D4:
    RTL


CODE_04F7D5:
    LDA.W $03E3
    BPL CODE_04F7DD
    BRL CODE_04F87C


CODE_04F7DD:
    BEQ CODE_04F7F4
    DEC A
    BEQ CODE_04F7F4
    DEC A
    BEQ CODE_04F801
    DEC A
    BEQ CODE_04F801
    DEC A
    BEQ CODE_04F809
    DEC A
    BEQ CODE_04F809
    DEC A
    BEQ CODE_04F801
    DEC A
    BEQ CODE_04F801

CODE_04F7F4:
    LDA.B #$0F

CODE_04F7F6:
    JSL.L CODE_008127
    STA.W $2100
    DEC A
    BPL CODE_04F7F6
    RTS


CODE_04F801:
    JSL.L CODE_008127
    STZ.W $2100
    RTS


CODE_04F809:
    LDA.B #$0F

CODE_04F80B:
    JSL.L CODE_008127
    JSL.L CODE_008127
    STA.W $2100
    PHA
    EOR.B #$0F
    ASL A
    ASL A
    ASL A
    ASL A
    ORA.B #$03
    STA.W $2106
    PLA
    DEC A
    BPL CODE_04F80B
    RTS


CODE_04F827:
    LDA.W $03E3
    BMI CODE_04F87C
    BEQ CODE_04F843
    DEC A
    BEQ CODE_04F852
    DEC A
    BEQ CODE_04F843
    DEC A
    BEQ CODE_04F852
    DEC A
    BEQ CODE_04F85C
    DEC A
    BEQ CODE_04F852
    DEC A
    BEQ CODE_04F85C
    DEC A
    BEQ CODE_04F852

CODE_04F843:
    LDA.B #$00

CODE_04F845:
    JSL.L CODE_008127
    STA.W $2100
    INC A
    CMP.B #$10
    BCC CODE_04F845
    RTS


CODE_04F852:
    JSL.L CODE_008127
    LDA.B #$0F
    STA.W $2100
    RTS


CODE_04F85C:
    LDA.B #$00

CODE_04F85E:
    JSL.L CODE_008127
    JSL.L CODE_008127
    STA.W $2100
    PHA
    EOR.B #$0F
    ASL A
    ASL A
    ASL A
    ASL A
    ORA.B #$03
    STA.W $2106
    PLA
    INC A
    CMP.B #$10
    BCC CODE_04F85E
    RTS


CODE_04F87C:
    LDA.W $03E7
    BPL CODE_04F88F
    INC.W $0462
    JSL.L clearL3
    LDA.B #$01
    TSB.W $03B8
    BRA CODE_04F894


CODE_04F88F:
    LDA.B #$0F
    STA.W $2100

CODE_04F894:
    JSL.L CODE_008127
    JSL.L CODE_008127
    LDA.W $03E5
    ASL A
    ASL A
    ASL A
    ASL A
    XBA
    LDA.W $03E3
    ADC.W $03E3
    XBA
    TAX
    REP #$20
    LDA.W #$4000
    STA.W $2116
    LDA.L UNREACH_098000,X
    STA.W $2118
    LDA.L UNREACH_098002,X
    STA.W $2118
    LDA.L UNREACH_098004,X
    STA.W $2118
    LDA.L UNREACH_098006,X
    STA.W $2118
    LDA.L UNREACH_098008,X
    STA.W $2118
    LDA.L UNREACH_09800A,X
    STA.W $2118
    LDA.L UNREACH_09800C,X
    STA.W $2118
    LDA.L UNREACH_09800E,X
    STA.W $2118
    SEP #$20
    LDA.W $03E7
    BPL CODE_04F900
    LDA.W $03E5
    CLC
    ADC.W $03E7
    STA.W $03E5
    BPL CODE_04F894
    RTS


CODE_04F900:
    LDA.W $03E5
    CLC
    ADC.W $03E7
    STA.W $03E5
    CMP.B #$20
    BEQ CODE_04F911
    BRL CODE_04F894


CODE_04F911:
    RTS


CODE_04F912:
    LDX.W #$8000
    STX.W $0352
    LDX.W #$C000
    STX.W $0356
    LDX.W #$6000
    STX.W $0354
    LDX.W #$7000
    STX.W $0358
    LDX.W #$2000
    STX.W $035A
    LDX.W #$2800
    STX.W $035E
    LDX.W #$3000
    STX.W $0362
    LDX.W #$3102
    STX.W $0364
    LDX.W #$3204
    STX.W $0366
    LDX.W #$3306
    STX.W $0368
    LDA.B #$7E
    STA.B $34
    STA.B $37
    STA.W $002E
    LDA.B #$8B
    STA.W $1C5C
    LDA.B #$54
    STA.W $1C5D
    LDA.B #$AB
    STA.W $1C60
    LDA.B #$60
    STA.W $1C61
    LDA.B #$03
    STA.W textSpeed
    LDX.W #$3000
    STX.W $1A02
    LDA.B #$7F
    STA.W $1A04
    REP #$20
    LDA.W #$0080
    STA.W $1A7D
    SEP #$20
    LDA.B #$08
    STA.W playerMaxHealth
    STA.W playerCurrentHealth
    LDA.B #$01
    STA.W playerLevel
    STA.W playerLevel_ASCII
    LDX.W #$0000
    TXY

CODE_04F999:
    LDA.W LD_act1_trialRoom_1,Y
    CMP.B #$FF
    BEQ CODE_04F9B4
    LDA.W UNREACH_01BA20,Y
    STA.L $7F0203,X
    REP #$20
    INX
    TYA
    CLC
    ADC.W #$0020
    TAY
    SEP #$20
    BRA CODE_04F999


CODE_04F9B4:
    RTL


CODE_04F9B5:
    LDX.W #$0000
    STX.W player_pos_x_real
    STX.W player_pos_y_real
    STX.W $0382
    STX.W $0384
    STX.W wButtonsPressed
    STX.W $03D4
    STX.W $03D6
    STX.W $03D8
    STX.W $038A
    STX.W $038C
    STX.W wButtonMask
    STX.W magicInUse
    STX.W magicInUse
    STX.W $0458
    STX.W $0464
    STX.W $0468
    LDX.W #$06AA
    STX.W $039E
    STX.W $03A0
    STX.W $039A
    STZ.W gameState
    STZ.W $042D
    STZ.W $0439
    STZ.W $210B
    STZ.W $03B8
    STZ.W $2123
    STZ.W $03C3
    STZ.W $2124
    STZ.W $2125
    STZ.W $2106
    LDA.B #$E0
    STA.W $2132
    LDA.B #$00
    STA.L $7F0200
    STA.L $7F0201
    STA.L $7F0202
    STA.L $7F0000
    STA.L $7F0001
    JSL.L CODE_02B3A6
    LDA.W $0454
    BEQ CODE_04FA41
    STZ.W $0454
    JSL.L CODE_02A463
    JSL.L transferMagicSprite

CODE_04FA41:
    JSL.L CODE_04F723
    REP #$20
    LDA.W currentMapNumber
    ASL A
    TAX
    SEP #$20
    LDA.L UNREACH_02F52C,X
    STA.W $0343
    LDA.L UNREACH_02F52D,X
    STA.W $0345
    JSL.L zeroOutMapList
    JSL.L loadEntities
    JSL.L CODE_029395
    JSL.L CODE_0292F5
    JSL.L CODE_02957E
    JSL.L CODE_029445
    JSL.L CODE_0294D0
    JSL.L CODE_0294E4
    JSL.L CODE_0295F1
    JSL.L clearL3
    JSL.L CODE_04F706
    JSL.L CODE_0085A6
    JSL.L CODE_0085A6
    JSL.L CODE_04F3F9
    LDA.W currentMapNumber
    CMP.B #$10
    BEQ CODE_04FA9F
    JSL.L CODE_02820E

CODE_04FA9F:
    LDA.B #$01
    TSB.W $03B8
    STZ.W $031E
    STZ.W $03B4
    LDX.W $0312
    STX.W $0302
    LDX.W #$FFFF
    STX.W zwSomethingWithButtons
    STX.W $0312
    LDA.B #$00
    STA.W $2126
    DEC A
    STA.W $2127
    JSL.L CODE_04F260
    LDA.W $1A7D
    BIT.B #$04
    BNE CODE_04FAD2
    LDA.B #$1F
    STA.W updateHudBitfield

CODE_04FAD2:
    RTL

    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$10,$04,$00
    db $00,$00,$08,$00,$00,$0A,$00,$00,$00,$20,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$02,$20,$00
    db $00,$00,$01,$00,$00,$00,$00,$00,$00,$42,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$04,$00
    db $00,$00,$00,$00,$00,$02,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$01,$00,$02
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$01,$00,$00
    db $00,$00,$04,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$01,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$08,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$02,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$80,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$02,$00,$40,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$80,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$04,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$02,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
    db $FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$00,$00,$A1
    db $41,$00,$00,$01,$00,$00,$00,$44,$42,$00,$00,$8D,$40,$08,$00,$05
    db $81,$00,$00,$02,$04,$00,$00,$80,$60,$00,$00,$48,$E3
